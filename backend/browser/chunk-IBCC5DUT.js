import{a as gn}from"./chunk-FK6H3RFT.js";import{a as Ip,b as an,c as ho,d as pn,e as r1,f as Np}from"./chunk-4Z7TBNFS.js";import{$ as Fe,$a as Pu,$b as In,$c as Ti,A as Km,Aa as Xi,Ab as Ic,Ac as Ep,Ad as $u,Ba as D,Bb as el,Bc as pa,Bd as e1,C as hi,Ca as ft,Cb as sp,Cc as xp,Cd as t1,D as Gs,Da as _t,Db as mn,Dc as yp,Dd as Sp,Ea as Ou,Eb as lp,Ec as wp,Ed as i1,F as _i,Fa as Ys,Fc as ju,Fd as Mi,G as _e,Ga as Xs,Gc as Vu,H as rr,Ha as Qs,Hc as kr,Hd as Gn,I as zt,Ic as Br,Id as Xr,J as Ws,Ja as Cr,Jc as Fr,Jd as Ap,K as Nu,Ka as Bo,Kc as Ur,Kd as n1,La as ep,Lc as jr,M as Tu,Mc as Vr,N as Xe,Na as hn,Nc as qr,O as Qe,Oa as Pn,Oc as zr,Pa as Yl,Pb as cp,Pc as Hr,Q as Mu,Qa as Zs,Qb as up,Qc as Gr,Rb as fp,Rc as Wr,Sb as Ii,Sc as rl,T as _c,Tb as ma,Tc as ol,U as P,Ub as qn,Uc as al,V as _0,Va as Ru,Vb as kt,Vc as sl,Wa as Cc,Wb as nn,Wc as ll,Xa as da,Xb as An,Xc as cl,Y as Lu,Yb as Nc,Yc as ul,Za as Sc,Zb as tl,Zc as Mc,_a as Fo,_b as il,_c as Ni,a as Ri,aa as Un,ac as hp,ad as Yr,ba as jn,bc as Nn,bd as qu,c as Nr,ca as Vn,cb as Pr,cc as Tn,cd as zu,da as Jm,dc as zn,dd as fl,ea as se,ec as dp,ed as Hu,f as Gl,fa as $m,fc as Bu,fd as Gu,g as Qn,ga as Du,gc as Fu,gd as Wu,h as Hs,ha as Pt,hc as Uu,hd as Yu,i as Fn,ia as Uf,ic as Tc,id as Xu,ja as or,jb as tp,jc as mp,jd as Qu,k as wr,ka as On,kb as ip,kc as pp,kd as Lc,l as Iu,la as Rn,lb as Xa,lc as ki,ld as Dc,m as fr,ma as I,mb as Ks,mc as rn,md as Zu,n as _r,na as N,nb as Js,nc as Bi,nd as _p,o as nr,oa as he,ob as Tr,oc as lo,p as Ya,pa as yt,pb as np,pc as on,q as Wl,qa as wt,qc as co,r as br,ra as St,rb as jf,rc as Qi,s as Bf,sa as Ye,sb as Ac,sc as uo,t as oi,ta as We,tb as rp,tc as nl,td as Ku,ub as op,uc as fo,ud as bp,v as Qm,vc as Fi,vd as Cp,w as Zm,wa as bc,wb as ap,wc as Ui,wd as hl,x as ko,xa as Nt,xb as $s,xc as Hn,xd as dl,y as Ff,ya as Tt,yb as ku,yc as gp,yd as Ju,z as qt,za as Mt,zb as Pi,zc as vp,zd as Uo}from"./chunk-CG5RN6H5.js";import{a as yi,b as Hl,c as zs,d as mt,e as gE,f as kf,g as wc}from"./chunk-MON7YFGF.js";var C2=mt((_1,b2)=>{(function(t,e){typeof _1=="object"&&typeof b2<"u"?e(_1):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.ZXing={}))})(_1,function(t){"use strict";function e(_){return _==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,r){_.__proto__=r}||function(_,r){for(var o in r)r.hasOwnProperty(o)&&(_[o]=r[o])};function n(_,r){i(_,r);function o(){this.constructor=_}_.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}function a(_,r){var o=Object.setPrototypeOf;o?o(_,r):_.__proto__=r}function l(_,r){r===void 0&&(r=_.constructor);var o=Error.captureStackTrace;o&&o(_,r)}var f=function(_){n(r,_);function r(o){var s=this.constructor,c=_.call(this,o)||this;return Object.defineProperty(c,"name",{value:s.name,enumerable:!1}),a(c,s.prototype),l(c),c}return r}(Error);let p=(()=>{class _ extends f{constructor(o=void 0){super(o),this.message=o}getKind(){return this.constructor.kind}}return _.kind="Exception",_})(),v=(()=>{class _ extends p{}return _.kind="ArgumentException",_})(),x=(()=>{class _ extends p{}return _.kind="IllegalArgumentException",_})();class S{constructor(r){if(this.binarizer=r,r===null)throw new x("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(r,o){return this.binarizer.getBlackRow(r,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(r,o,s,c){let u=this.binarizer.getLuminanceSource().crop(r,o,s,c);return new S(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){let r=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new S(this.binarizer.createBinarizer(r))}rotateCounterClockwise45(){let r=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new S(this.binarizer.createBinarizer(r))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}let M=(()=>{class _ extends p{static getChecksumInstance(){return new _}}return _.kind="ChecksumException",_})();class k{constructor(r){this.source=r}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class A{static arraycopy(r,o,s,c,u){for(;u--;)s[c++]=r[o++]}static currentTimeMillis(){return Date.now()}}let $=(()=>{class _ extends p{}return _.kind="IndexOutOfBoundsException",_})(),z=(()=>{class _ extends ${constructor(o=void 0,s=void 0){super(s),this.index=o,this.message=s}}return _.kind="ArrayIndexOutOfBoundsException",_})();class K{static fill(r,o){for(let s=0,c=r.length;s<c;s++)r[s]=o}static fillWithin(r,o,s,c){K.rangeCheck(r.length,o,s);for(let u=o;u<s;u++)r[u]=c}static rangeCheck(r,o,s){if(o>s)throw new x("fromIndex("+o+") > toIndex("+s+")");if(o<0)throw new z(o);if(s>r)throw new z(s)}static asList(...r){return r}static create(r,o,s){return Array.from({length:r}).map(u=>Array.from({length:o}).fill(s))}static createInt32Array(r,o,s){return Array.from({length:r}).map(u=>Int32Array.from({length:o}).fill(s))}static equals(r,o){if(!r||!o||!r.length||!o.length||r.length!==o.length)return!1;for(let s=0,c=r.length;s<c;s++)if(r[s]!==o[s])return!1;return!0}static hashCode(r){if(r===null)return 0;let o=1;for(let s of r)o=31*o+s;return o}static fillUint8Array(r,o){for(let s=0;s!==r.length;s++)r[s]=o}static copyOf(r,o){return r.slice(0,o)}static copyOfUint8Array(r,o){if(r.length<=o){let s=new Uint8Array(o);return s.set(r),s}return r.slice(0,o)}static copyOfRange(r,o,s){let c=s-o,u=new Int32Array(c);return A.arraycopy(r,o,u,0,c),u}static binarySearch(r,o,s){s===void 0&&(s=K.numberComparator);let c=0,u=r.length-1;for(;c<=u;){let h=u+c>>1,m=s(o,r[h]);if(m>0)c=h+1;else if(m<0)u=h-1;else return h}return-c-1}static numberComparator(r,o){return r-o}}class U{static numberOfTrailingZeros(r){let o;if(r===0)return 32;let s=31;return o=r<<16,o!==0&&(s-=16,r=o),o=r<<8,o!==0&&(s-=8,r=o),o=r<<4,o!==0&&(s-=4,r=o),o=r<<2,o!==0&&(s-=2,r=o),s-(r<<1>>>31)}static numberOfLeadingZeros(r){if(r===0)return 32;let o=1;return r>>>16||(o+=16,r<<=16),r>>>24||(o+=8,r<<=8),r>>>28||(o+=4,r<<=4),r>>>30||(o+=2,r<<=2),o-=r>>>31,o}static toHexString(r){return r.toString(16)}static toBinaryString(r){return String(parseInt(String(r),2))}static bitCount(r){return r=r-(r>>>1&1431655765),r=(r&858993459)+(r>>>2&858993459),r=r+(r>>>4)&252645135,r=r+(r>>>8),r=r+(r>>>16),r&63}static truncDivision(r,o){return Math.trunc(r/o)}static parseInt(r,o=void 0){return parseInt(r,o)}}U.MIN_VALUE_32_BITS=-2147483648,U.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Y{constructor(r,o){r===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=r,o==null?this.bits=Y.makeArray(r):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(r){if(r>this.bits.length*32){let o=Y.makeArray(r);A.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(r){return(this.bits[Math.floor(r/32)]&1<<(r&31))!==0}set(r){this.bits[Math.floor(r/32)]|=1<<(r&31)}flip(r){this.bits[Math.floor(r/32)]^=1<<(r&31)}getNextSet(r){let o=this.size;if(r>=o)return o;let s=this.bits,c=Math.floor(r/32),u=s[c];u&=~((1<<(r&31))-1);let h=s.length;for(;u===0;){if(++c===h)return o;u=s[c]}let m=c*32+U.numberOfTrailingZeros(u);return m>o?o:m}getNextUnset(r){let o=this.size;if(r>=o)return o;let s=this.bits,c=Math.floor(r/32),u=~s[c];u&=~((1<<(r&31))-1);let h=s.length;for(;u===0;){if(++c===h)return o;u=~s[c]}let m=c*32+U.numberOfTrailingZeros(u);return m>o?o:m}setBulk(r,o){this.bits[Math.floor(r/32)]=o}setRange(r,o){if(o<r||r<0||o>this.size)throw new x;if(o===r)return;o--;let s=Math.floor(r/32),c=Math.floor(o/32),u=this.bits;for(let h=s;h<=c;h++){let m=h>s?0:r&31,w=(2<<(h<c?31:o&31))-(1<<m);u[h]|=w}}clear(){let r=this.bits.length,o=this.bits;for(let s=0;s<r;s++)o[s]=0}isRange(r,o,s){if(o<r||r<0||o>this.size)throw new x;if(o===r)return!0;o--;let c=Math.floor(r/32),u=Math.floor(o/32),h=this.bits;for(let m=c;m<=u;m++){let E=m>c?0:r&31,C=(2<<(m<u?31:o&31))-(1<<E)&4294967295;if((h[m]&C)!==(s?C:0))return!1}return!0}appendBit(r){this.ensureCapacity(this.size+1),r&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(r,o){if(o<0||o>32)throw new x("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let s=o;s>0;s--)this.appendBit((r>>s-1&1)===1)}appendBitArray(r){let o=r.size;this.ensureCapacity(this.size+o);for(let s=0;s<o;s++)this.appendBit(r.get(s))}xor(r){if(this.size!==r.size)throw new x("Sizes don't match");let o=this.bits;for(let s=0,c=o.length;s<c;s++)o[s]^=r.bits[s]}toBytes(r,o,s,c){for(let u=0;u<c;u++){let h=0;for(let m=0;m<8;m++)this.get(r)&&(h|=1<<7-m),r++;o[s+u]=h}}getBitArray(){return this.bits}reverse(){let r=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),s=o+1,c=this.bits;for(let u=0;u<s;u++){let h=c[u];h=h>>1&1431655765|(h&1431655765)<<1,h=h>>2&858993459|(h&858993459)<<2,h=h>>4&252645135|(h&252645135)<<4,h=h>>8&16711935|(h&16711935)<<8,h=h>>16&65535|(h&65535)<<16,r[o-u]=h}if(this.size!==s*32){let u=s*32-this.size,h=r[0]>>>u;for(let m=1;m<s;m++){let E=r[m];h|=E<<32-u,r[m-1]=h,h=E>>>u}r[s-1]=h}this.bits=r}static makeArray(r){return new Int32Array(Math.floor((r+31)/32))}equals(r){if(!(r instanceof Y))return!1;let o=r;return this.size===o.size&&K.equals(this.bits,o.bits)}hashCode(){return 31*this.size+K.hashCode(this.bits)}toString(){let r="";for(let o=0,s=this.size;o<s;o++)o&7||(r+=" "),r+=this.get(o)?"X":".";return r}clone(){return new Y(this.size,this.bits.slice())}}var ge=function(_){return _[_.OTHER=0]="OTHER",_[_.PURE_BARCODE=1]="PURE_BARCODE",_[_.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",_[_.TRY_HARDER=3]="TRY_HARDER",_[_.CHARACTER_SET=4]="CHARACTER_SET",_[_.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",_[_.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",_[_.ASSUME_GS1=7]="ASSUME_GS1",_[_.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",_[_.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",_[_.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS",_}(ge||{}),xe=ge;let ce=(()=>{class _ extends p{static getFormatInstance(){return new _}}return _.kind="FormatException",_})();var Re=function(_){return _[_.Cp437=0]="Cp437",_[_.ISO8859_1=1]="ISO8859_1",_[_.ISO8859_2=2]="ISO8859_2",_[_.ISO8859_3=3]="ISO8859_3",_[_.ISO8859_4=4]="ISO8859_4",_[_.ISO8859_5=5]="ISO8859_5",_[_.ISO8859_6=6]="ISO8859_6",_[_.ISO8859_7=7]="ISO8859_7",_[_.ISO8859_8=8]="ISO8859_8",_[_.ISO8859_9=9]="ISO8859_9",_[_.ISO8859_10=10]="ISO8859_10",_[_.ISO8859_11=11]="ISO8859_11",_[_.ISO8859_13=12]="ISO8859_13",_[_.ISO8859_14=13]="ISO8859_14",_[_.ISO8859_15=14]="ISO8859_15",_[_.ISO8859_16=15]="ISO8859_16",_[_.SJIS=16]="SJIS",_[_.Cp1250=17]="Cp1250",_[_.Cp1251=18]="Cp1251",_[_.Cp1252=19]="Cp1252",_[_.Cp1256=20]="Cp1256",_[_.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",_[_.UTF8=22]="UTF8",_[_.ASCII=23]="ASCII",_[_.Big5=24]="Big5",_[_.GB18030=25]="GB18030",_[_.EUC_KR=26]="EUC_KR",_}(Re||{});class ne{constructor(r,o,s,...c){this.valueIdentifier=r,this.name=s,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=c,ne.VALUE_IDENTIFIER_TO_ECI.set(r,this),ne.NAME_TO_ECI.set(s,this);let u=this.values;for(let h=0,m=u.length;h!==m;h++){let E=u[h];ne.VALUES_TO_ECI.set(E,this)}for(let h of c)ne.NAME_TO_ECI.set(h,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(r){if(r<0||r>=900)throw new ce("incorect value");let o=ne.VALUES_TO_ECI.get(r);if(o===void 0)throw new ce("incorect value");return o}static getCharacterSetECIByName(r){let o=ne.NAME_TO_ECI.get(r);if(o===void 0)throw new ce("incorect value");return o}equals(r){if(!(r instanceof ne))return!1;let o=r;return this.getName()===o.getName()}}ne.VALUE_IDENTIFIER_TO_ECI=new Map,ne.VALUES_TO_ECI=new Map,ne.NAME_TO_ECI=new Map,ne.Cp437=new ne(Re.Cp437,Int32Array.from([0,2]),"Cp437"),ne.ISO8859_1=new ne(Re.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),ne.ISO8859_2=new ne(Re.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),ne.ISO8859_3=new ne(Re.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),ne.ISO8859_4=new ne(Re.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),ne.ISO8859_5=new ne(Re.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),ne.ISO8859_6=new ne(Re.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),ne.ISO8859_7=new ne(Re.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),ne.ISO8859_8=new ne(Re.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),ne.ISO8859_9=new ne(Re.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),ne.ISO8859_10=new ne(Re.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),ne.ISO8859_11=new ne(Re.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),ne.ISO8859_13=new ne(Re.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),ne.ISO8859_14=new ne(Re.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),ne.ISO8859_15=new ne(Re.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),ne.ISO8859_16=new ne(Re.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),ne.SJIS=new ne(Re.SJIS,20,"SJIS","Shift_JIS"),ne.Cp1250=new ne(Re.Cp1250,21,"Cp1250","windows-1250"),ne.Cp1251=new ne(Re.Cp1251,22,"Cp1251","windows-1251"),ne.Cp1252=new ne(Re.Cp1252,23,"Cp1252","windows-1252"),ne.Cp1256=new ne(Re.Cp1256,24,"Cp1256","windows-1256"),ne.UnicodeBigUnmarked=new ne(Re.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),ne.UTF8=new ne(Re.UTF8,26,"UTF8","UTF-8"),ne.ASCII=new ne(Re.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),ne.Big5=new ne(Re.Big5,28,"Big5"),ne.GB18030=new ne(Re.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),ne.EUC_KR=new ne(Re.EUC_KR,30,"EUC_KR","EUC-KR");let le=(()=>{class _ extends p{}return _.kind="UnsupportedOperationException",_})();class Ge{static decode(r,o){let s=this.encodingName(o);return this.customDecoder?this.customDecoder(r,s):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(s)?this.decodeFallback(r,s):new TextDecoder(s).decode(r)}static shouldDecodeOnFallback(r){return!Ge.isBrowser()&&r==="ISO-8859-1"}static encode(r,o){let s=this.encodingName(o);return this.customEncoder?this.customEncoder(r,s):typeof TextEncoder>"u"?this.encodeFallback(r):new TextEncoder().encode(r)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(r){return typeof r=="string"?r:r.getName()}static encodingCharacterSet(r){return r instanceof ne?r:ne.getCharacterSetECIByName(r)}static decodeFallback(r,o){let s=this.encodingCharacterSet(o);if(Ge.isDecodeFallbackSupported(s)){let c="";for(let u=0,h=r.length;u<h;u++){let m=r[u].toString(16);m.length<2&&(m="0"+m),c+="%"+m}return decodeURIComponent(c)}if(s.equals(ne.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(r.buffer));throw new le(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(r){return r.equals(ne.UTF8)||r.equals(ne.ISO8859_1)||r.equals(ne.ASCII)}static encodeFallback(r){let s=btoa(unescape(encodeURIComponent(r))).split(""),c=[];for(let u=0;u<s.length;u++)c.push(s[u].charCodeAt(0));return new Uint8Array(c)}}class Ae{static castAsNonUtf8Char(r,o=null){let s=o?o.getName():this.ISO88591;return Ge.decode(new Uint8Array([r]),s)}static guessEncoding(r,o){if(o!=null&&o.get(xe.CHARACTER_SET)!==void 0)return o.get(xe.CHARACTER_SET).toString();let s=r.length,c=!0,u=!0,h=!0,m=0,E=0,w=0,C=0,L=0,V=0,Q=0,re=0,fe=0,ye=0,Le=0,nt=r.length>3&&r[0]===239&&r[1]===187&&r[2]===191;for(let ct=0;ct<s&&(c||u||h);ct++){let Ve=r[ct]&255;h&&(m>0?Ve&128?m--:h=!1:Ve&128&&(Ve&64?(m++,Ve&32?(m++,Ve&16?(m++,Ve&8?h=!1:C++):w++):E++):h=!1)),c&&(Ve>127&&Ve<160?c=!1:Ve>159&&(Ve<192||Ve===215||Ve===247)&&Le++),u&&(L>0?Ve<64||Ve===127||Ve>252?u=!1:L--:Ve===128||Ve===160||Ve>239?u=!1:Ve>160&&Ve<224?(V++,re=0,Q++,Q>fe&&(fe=Q)):Ve>127?(L++,Q=0,re++,re>ye&&(ye=re)):(Q=0,re=0))}return h&&m>0&&(h=!1),u&&L>0&&(u=!1),h&&(nt||E+w+C>0)?Ae.UTF8:u&&(Ae.ASSUME_SHIFT_JIS||fe>=3||ye>=3)?Ae.SHIFT_JIS:c&&u?fe===2&&V===2||Le*10>=s?Ae.SHIFT_JIS:Ae.ISO88591:c?Ae.ISO88591:u?Ae.SHIFT_JIS:h?Ae.UTF8:Ae.PLATFORM_DEFAULT_ENCODING}static format(r,...o){let s=-1;function c(h,m,E,w,C,L){if(h==="%%")return"%";if(o[++s]===void 0)return;h=w?parseInt(w.substr(1)):void 0;let V=C?parseInt(C.substr(1)):void 0,Q;switch(L){case"s":Q=o[s];break;case"c":Q=o[s][0];break;case"f":Q=parseFloat(o[s]).toFixed(h);break;case"p":Q=parseFloat(o[s]).toPrecision(h);break;case"e":Q=parseFloat(o[s]).toExponential(h);break;case"x":Q=parseInt(o[s]).toString(V||16);break;case"d":Q=parseFloat(parseInt(o[s],V||10).toPrecision(h)).toFixed(0);break}Q=typeof Q=="object"?JSON.stringify(Q):(+Q).toString(V);let re=parseInt(E),fe=E&&E[0]+""=="0"?"0":" ";for(;Q.length<re;)Q=m!==void 0?Q+fe:fe+Q;return Q}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(u,c)}static getBytes(r,o){return Ge.encode(r,o)}static getCharCode(r,o=0){return r.charCodeAt(o)}static getCharAt(r){return String.fromCharCode(r)}}Ae.SHIFT_JIS=ne.SJIS.getName(),Ae.GB2312="GB2312",Ae.ISO88591=ne.ISO8859_1.getName(),Ae.EUC_JP="EUC_JP",Ae.UTF8=ne.UTF8.getName(),Ae.PLATFORM_DEFAULT_ENCODING=Ae.UTF8,Ae.ASSUME_SHIFT_JIS=!1;class W{constructor(r=""){this.value=r}enableDecoding(r){return this.encoding=r,this}append(r){return typeof r=="string"?this.value+=r.toString():this.encoding?this.value+=Ae.castAsNonUtf8Char(r,this.encoding):this.value+=String.fromCharCode(r),this}appendChars(r,o,s){for(let c=o;o<o+s;c++)this.append(r[c]);return this}length(){return this.value.length}charAt(r){return this.value.charAt(r)}deleteCharAt(r){this.value=this.value.substr(0,r)+this.value.substring(r+1)}setCharAt(r,o){this.value=this.value.substr(0,r)+o+this.value.substr(r+1)}substring(r,o){return this.value.substring(r,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(r,o){this.value=this.value.substr(0,r)+o+this.value.substr(r+o.length)}}class X{constructor(r,o,s,c){if(this.width=r,this.height=o,this.rowSize=s,this.bits=c,o==null&&(o=r),this.height=o,r<1||o<1)throw new x("Both dimensions must be greater than 0");s==null&&(s=Math.floor((r+31)/32)),this.rowSize=s,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(r){let o=r.length,s=r[0].length,c=new X(s,o);for(let u=0;u<o;u++){let h=r[u];for(let m=0;m<s;m++)h[m]&&c.set(m,u)}return c}static parseFromString(r,o,s){if(r===null)throw new x("stringRepresentation cannot be null");let c=new Array(r.length),u=0,h=0,m=-1,E=0,w=0;for(;w<r.length;)if(r.charAt(w)===`
`||r.charAt(w)==="\r"){if(u>h){if(m===-1)m=u-h;else if(u-h!==m)throw new x("row lengths do not match");h=u,E++}w++}else if(r.substring(w,w+o.length)===o)w+=o.length,c[u]=!0,u++;else if(r.substring(w,w+s.length)===s)w+=s.length,c[u]=!1,u++;else throw new x("illegal character encountered: "+r.substring(w));if(u>h){if(m===-1)m=u-h;else if(u-h!==m)throw new x("row lengths do not match");E++}let C=new X(m,E);for(let L=0;L<u;L++)c[L]&&C.set(Math.floor(L%m),Math.floor(L/m));return C}get(r,o){let s=o*this.rowSize+Math.floor(r/32);return(this.bits[s]>>>(r&31)&1)!==0}set(r,o){let s=o*this.rowSize+Math.floor(r/32);this.bits[s]|=1<<(r&31)&4294967295}unset(r,o){let s=o*this.rowSize+Math.floor(r/32);this.bits[s]&=~(1<<(r&31)&4294967295)}flip(r,o){let s=o*this.rowSize+Math.floor(r/32);this.bits[s]^=1<<(r&31)&4294967295}xor(r){if(this.width!==r.getWidth()||this.height!==r.getHeight()||this.rowSize!==r.getRowSize())throw new x("input matrix dimensions do not match");let o=new Y(Math.floor(this.width/32)+1),s=this.rowSize,c=this.bits;for(let u=0,h=this.height;u<h;u++){let m=u*s,E=r.getRow(u,o).getBitArray();for(let w=0;w<s;w++)c[m+w]^=E[w]}}clear(){let r=this.bits,o=r.length;for(let s=0;s<o;s++)r[s]=0}setRegion(r,o,s,c){if(o<0||r<0)throw new x("Left and top must be nonnegative");if(c<1||s<1)throw new x("Height and width must be at least 1");let u=r+s,h=o+c;if(h>this.height||u>this.width)throw new x("The region must fit inside the matrix");let m=this.rowSize,E=this.bits;for(let w=o;w<h;w++){let C=w*m;for(let L=r;L<u;L++)E[C+Math.floor(L/32)]|=1<<(L&31)&4294967295}}getRow(r,o){o==null||o.getSize()<this.width?o=new Y(this.width):o.clear();let s=this.rowSize,c=this.bits,u=r*s;for(let h=0;h<s;h++)o.setBulk(h*32,c[u+h]);return o}setRow(r,o){A.arraycopy(o.getBitArray(),0,this.bits,r*this.rowSize,this.rowSize)}rotate180(){let r=this.getWidth(),o=this.getHeight(),s=new Y(r),c=new Y(r);for(let u=0,h=Math.floor((o+1)/2);u<h;u++)s=this.getRow(u,s),c=this.getRow(o-1-u,c),s.reverse(),c.reverse(),this.setRow(u,c),this.setRow(o-1-u,s)}getEnclosingRectangle(){let r=this.width,o=this.height,s=this.rowSize,c=this.bits,u=r,h=o,m=-1,E=-1;for(let w=0;w<o;w++)for(let C=0;C<s;C++){let L=c[w*s+C];if(L!==0){if(w<h&&(h=w),w>E&&(E=w),C*32<u){let V=0;for(;!(L<<31-V&4294967295);)V++;C*32+V<u&&(u=C*32+V)}if(C*32+31>m){let V=31;for(;!(L>>>V);)V--;C*32+V>m&&(m=C*32+V)}}}return m<u||E<h?null:Int32Array.from([u,h,m-u+1,E-h+1])}getTopLeftOnBit(){let r=this.rowSize,o=this.bits,s=0;for(;s<o.length&&o[s]===0;)s++;if(s===o.length)return null;let c=s/r,u=s%r*32,h=o[s],m=0;for(;!(h<<31-m&4294967295);)m++;return u+=m,Int32Array.from([u,c])}getBottomRightOnBit(){let r=this.rowSize,o=this.bits,s=o.length-1;for(;s>=0&&o[s]===0;)s--;if(s<0)return null;let c=Math.floor(s/r),u=Math.floor(s%r)*32,h=o[s],m=31;for(;!(h>>>m);)m--;return u+=m,Int32Array.from([u,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(r){if(!(r instanceof X))return!1;let o=r;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&K.equals(this.bits,o.bits)}hashCode(){let r=this.width;return r=31*r+this.width,r=31*r+this.height,r=31*r+this.rowSize,r=31*r+K.hashCode(this.bits),r}toString(r="X ",o="  ",s=`
`){return this.buildToString(r,o,s)}buildToString(r,o,s){let c=new W;for(let u=0,h=this.height;u<h;u++){for(let m=0,E=this.width;m<E;m++)c.append(this.get(m,u)?r:o);c.append(s)}return c.toString()}clone(){return new X(this.width,this.height,this.rowSize,this.bits.slice())}}let G=(()=>{class _ extends p{static getNotFoundInstance(){return new _}}return _.kind="NotFoundException",_})();class ae extends k{constructor(r){super(r),this.luminances=ae.EMPTY,this.buckets=new Int32Array(ae.LUMINANCE_BUCKETS)}getBlackRow(r,o){let s=this.getLuminanceSource(),c=s.getWidth();o==null||o.getSize()<c?o=new Y(c):o.clear(),this.initArrays(c);let u=s.getRow(r,this.luminances),h=this.buckets;for(let E=0;E<c;E++)h[(u[E]&255)>>ae.LUMINANCE_SHIFT]++;let m=ae.estimateBlackPoint(h);if(c<3)for(let E=0;E<c;E++)(u[E]&255)<m&&o.set(E);else{let E=u[0]&255,w=u[1]&255;for(let C=1;C<c-1;C++){let L=u[C+1]&255;(w*4-E-L)/2<m&&o.set(C),E=w,w=L}}return o}getBlackMatrix(){let r=this.getLuminanceSource(),o=r.getWidth(),s=r.getHeight(),c=new X(o,s);this.initArrays(o);let u=this.buckets;for(let E=1;E<5;E++){let w=Math.floor(s*E/5),C=r.getRow(w,this.luminances),L=Math.floor(o*4/5);for(let V=Math.floor(o/5);V<L;V++){let Q=C[V]&255;u[Q>>ae.LUMINANCE_SHIFT]++}}let h=ae.estimateBlackPoint(u),m=r.getMatrix();for(let E=0;E<s;E++){let w=E*o;for(let C=0;C<o;C++)(m[w+C]&255)<h&&c.set(C,E)}return c}createBinarizer(r){return new ae(r)}initArrays(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));let o=this.buckets;for(let s=0;s<ae.LUMINANCE_BUCKETS;s++)o[s]=0}static estimateBlackPoint(r){let o=r.length,s=0,c=0,u=0;for(let C=0;C<o;C++)r[C]>u&&(c=C,u=r[C]),r[C]>s&&(s=r[C]);let h=0,m=0;for(let C=0;C<o;C++){let L=C-c,V=r[C]*L*L;V>m&&(h=C,m=V)}if(c>h){let C=c;c=h,h=C}if(h-c<=o/16)throw new G;let E=h-1,w=-1;for(let C=h-1;C>c;C--){let L=C-c,V=L*L*(h-C)*(s-r[C]);V>w&&(E=C,w=V)}return E<<ae.LUMINANCE_SHIFT}}ae.LUMINANCE_BITS=5,ae.LUMINANCE_SHIFT=8-ae.LUMINANCE_BITS,ae.LUMINANCE_BUCKETS=1<<ae.LUMINANCE_BITS,ae.EMPTY=Uint8ClampedArray.from([0]);class be extends ae{constructor(r){super(r),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;let r=this.getLuminanceSource(),o=r.getWidth(),s=r.getHeight();if(o>=be.MINIMUM_DIMENSION&&s>=be.MINIMUM_DIMENSION){let c=r.getMatrix(),u=o>>be.BLOCK_SIZE_POWER;o&be.BLOCK_SIZE_MASK&&u++;let h=s>>be.BLOCK_SIZE_POWER;s&be.BLOCK_SIZE_MASK&&h++;let m=be.calculateBlackPoints(c,u,h,o,s),E=new X(o,s);be.calculateThresholdForBlock(c,u,h,o,s,m,E),this.matrix=E}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(r){return new be(r)}static calculateThresholdForBlock(r,o,s,c,u,h,m){let E=u-be.BLOCK_SIZE,w=c-be.BLOCK_SIZE;for(let C=0;C<s;C++){let L=C<<be.BLOCK_SIZE_POWER;L>E&&(L=E);let V=be.cap(C,2,s-3);for(let Q=0;Q<o;Q++){let re=Q<<be.BLOCK_SIZE_POWER;re>w&&(re=w);let fe=be.cap(Q,2,o-3),ye=0;for(let nt=-2;nt<=2;nt++){let ct=h[V+nt];ye+=ct[fe-2]+ct[fe-1]+ct[fe]+ct[fe+1]+ct[fe+2]}let Le=ye/25;be.thresholdBlock(r,re,L,Le,c,m)}}}static cap(r,o,s){return r<o?o:r>s?s:r}static thresholdBlock(r,o,s,c,u,h){for(let m=0,E=s*u+o;m<be.BLOCK_SIZE;m++,E+=u)for(let w=0;w<be.BLOCK_SIZE;w++)(r[E+w]&255)<=c&&h.set(o+w,s+m)}static calculateBlackPoints(r,o,s,c,u){let h=u-be.BLOCK_SIZE,m=c-be.BLOCK_SIZE,E=new Array(s);for(let w=0;w<s;w++){E[w]=new Int32Array(o);let C=w<<be.BLOCK_SIZE_POWER;C>h&&(C=h);for(let L=0;L<o;L++){let V=L<<be.BLOCK_SIZE_POWER;V>m&&(V=m);let Q=0,re=255,fe=0;for(let Le=0,nt=C*c+V;Le<be.BLOCK_SIZE;Le++,nt+=c){for(let ct=0;ct<be.BLOCK_SIZE;ct++){let Ve=r[nt+ct]&255;Q+=Ve,Ve<re&&(re=Ve),Ve>fe&&(fe=Ve)}if(fe-re>be.MIN_DYNAMIC_RANGE)for(Le++,nt+=c;Le<be.BLOCK_SIZE;Le++,nt+=c)for(let ct=0;ct<be.BLOCK_SIZE;ct++)Q+=r[nt+ct]&255}let ye=Q>>be.BLOCK_SIZE_POWER*2;if(fe-re<=be.MIN_DYNAMIC_RANGE&&(ye=re/2,w>0&&L>0)){let Le=(E[w-1][L]+2*E[w][L-1]+E[w-1][L-1])/4;re<Le&&(ye=Le)}E[w][L]=ye}}return E}}be.BLOCK_SIZE_POWER=3,be.BLOCK_SIZE=1<<be.BLOCK_SIZE_POWER,be.BLOCK_SIZE_MASK=be.BLOCK_SIZE-1,be.MINIMUM_DIMENSION=be.BLOCK_SIZE*5,be.MIN_DYNAMIC_RANGE=24;class Be{constructor(r,o){this.width=r,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(r,o,s,c){throw new le("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new le("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new le("This luminance source does not support rotation by 45 degrees.")}toString(){let r=new Uint8ClampedArray(this.width),o=new W;for(let s=0;s<this.height;s++){let c=this.getRow(s,r);for(let u=0;u<this.width;u++){let h=c[u]&255,m;h<64?m="#":h<128?m="+":h<192?m=".":m=" ",o.append(m)}o.append(`
`)}return o.toString()}}class ze extends Be{constructor(r){super(r.getWidth(),r.getHeight()),this.delegate=r}getRow(r,o){let s=this.delegate.getRow(r,o),c=this.getWidth();for(let u=0;u<c;u++)s[u]=255-(s[u]&255);return s}getMatrix(){let r=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),s=new Uint8ClampedArray(o);for(let c=0;c<o;c++)s[c]=255-(r[c]&255);return s}isCropSupported(){return this.delegate.isCropSupported()}crop(r,o,s,c){return new ze(this.delegate.crop(r,o,s,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ze(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ze(this.delegate.rotateCounterClockwise45())}}class Ie extends Be{constructor(r){super(r.width,r.height),this.canvas=r,this.tempCanvasElement=null,this.buffer=Ie.makeBufferFromCanvasImageData(r)}static makeBufferFromCanvasImageData(r){let o=r.getContext("2d").getImageData(0,0,r.width,r.height);return Ie.toGrayscaleBuffer(o.data,r.width,r.height)}static toGrayscaleBuffer(r,o,s){let c=new Uint8ClampedArray(o*s);for(let u=0,h=0,m=r.length;u<m;u+=4,h++){let E;if(r[u+3]===0)E=255;else{let C=r[u],L=r[u+1],V=r[u+2];E=306*C+601*L+117*V+512>>10}c[h]=E}return c}getRow(r,o){if(r<0||r>=this.getHeight())throw new x("Requested row is outside the image: "+r);let s=this.getWidth(),c=r*s;return o===null?o=this.buffer.slice(c,c+s):(o.length<s&&(o=new Uint8ClampedArray(s)),o.set(this.buffer.slice(c,c+s))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(r,o,s,c){return super.crop(r,o,s,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){let r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement}rotate(r){let o=this.getTempCanvasElement(),s=o.getContext("2d"),c=r*Ie.DEGREE_TO_RADIANS,u=this.canvas.width,h=this.canvas.height,m=Math.ceil(Math.abs(Math.cos(c))*u+Math.abs(Math.sin(c))*h),E=Math.ceil(Math.abs(Math.sin(c))*u+Math.abs(Math.cos(c))*h);return o.width=m,o.height=E,s.translate(m/2,E/2),s.rotate(c),s.drawImage(this.canvas,u/-2,h/-2),this.buffer=Ie.makeBufferFromCanvasImageData(o),this}invert(){return new ze(this)}}Ie.DEGREE_TO_RADIANS=Math.PI/180;class Ze{constructor(r,o,s){this.deviceId=r,this.label=o,this.kind="videoinput",this.groupId=s||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var je=(globalThis||global||self||window||void 0)&&(globalThis||global||self||window||void 0).__awaiter||function(_,r,o,s){function c(u){return u instanceof o?u:new o(function(h){h(u)})}return new(o||(o=Promise))(function(u,h){function m(C){try{w(s.next(C))}catch(L){h(L)}}function E(C){try{w(s.throw(C))}catch(L){h(L)}}function w(C){C.done?u(C.value):c(C.value).then(m,E)}w((s=s.apply(_,r||[])).next())})};class ht{constructor(r,o=500,s){this.reader=r,this.timeBetweenScansMillis=o,this._hints=s,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(r){this._timeBetweenDecodingAttempts=r<0?0:r}set hints(r){this._hints=r||null}get hints(){return this._hints}listVideoInputDevices(){return je(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");let r=yield navigator.mediaDevices.enumerateDevices(),o=[];for(let s of r){let c=s.kind==="video"?"videoinput":s.kind;if(c!=="videoinput")continue;let u=s.deviceId||s.id,h=s.label||`Video device ${o.length+1}`,m=s.groupId,E={deviceId:u,label:h,kind:c,groupId:m};o.push(E)}return o})}getVideoInputDevices(){return je(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new Ze(o.deviceId,o.label))})}findDeviceById(r){return je(this,void 0,void 0,function*(){let o=yield this.listVideoInputDevices();return o?o.find(s=>s.deviceId===r):null})}decodeFromInputVideoDevice(r,o){return je(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(r,o)})}decodeOnceFromVideoDevice(r,o){return je(this,void 0,void 0,function*(){this.reset();let s;r?s={deviceId:{exact:r}}:s={facingMode:"environment"};let c={video:s};return yield this.decodeOnceFromConstraints(c,o)})}decodeOnceFromConstraints(r,o){return je(this,void 0,void 0,function*(){let s=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeOnceFromStream(s,o)})}decodeOnceFromStream(r,o){return je(this,void 0,void 0,function*(){this.reset();let s=yield this.attachStreamToVideo(r,o);return yield this.decodeOnce(s)})}decodeFromInputVideoDeviceContinuously(r,o,s){return je(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(r,o,s)})}decodeFromVideoDevice(r,o,s){return je(this,void 0,void 0,function*(){let c;r?c={deviceId:{exact:r}}:c={facingMode:"environment"};let u={video:c};return yield this.decodeFromConstraints(u,o,s)})}decodeFromConstraints(r,o,s){return je(this,void 0,void 0,function*(){let c=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeFromStream(c,o,s)})}decodeFromStream(r,o,s){return je(this,void 0,void 0,function*(){this.reset();let c=yield this.attachStreamToVideo(r,o);return yield this.decodeContinuously(c,s)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(r,o){return je(this,void 0,void 0,function*(){let s=this.prepareVideoElement(o);return this.addVideoSource(s,r),this.videoElement=s,this.stream=r,yield this.playVideoOnLoadAsync(s),s})}playVideoOnLoadAsync(r){return new Promise((o,s)=>this.playVideoOnLoad(r,()=>o()))}playVideoOnLoad(r,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(r),r.addEventListener("ended",this.videoEndedListener),r.addEventListener("canplay",this.videoCanPlayListener),r.addEventListener("playing",o),this.tryPlayVideo(r)}isVideoPlaying(r){return r.currentTime>0&&!r.paused&&!r.ended&&r.readyState>2}tryPlayVideo(r){return je(this,void 0,void 0,function*(){if(this.isVideoPlaying(r)){console.warn("Trying to play video that is already playing.");return}try{yield r.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(r,o){let s=document.getElementById(r);if(!s)throw new v(`element with id '${r}' not found`);if(s.nodeName.toLowerCase()!==o.toLowerCase())throw new v(`element with id '${r}' must be an ${o} element`);return s}decodeFromImage(r,o){if(!r&&!o)throw new v("either imageElement with a src set or an url must be provided");return o&&!r?this.decodeFromImageUrl(o):this.decodeFromImageElement(r)}decodeFromVideo(r,o){if(!r&&!o)throw new v("Either an element with a src set or an URL must be provided");return o&&!r?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(r)}decodeFromVideoContinuously(r,o,s){if(r===void 0&&o===void 0)throw new v("Either an element with a src set or an URL must be provided");return o&&!r?this.decodeFromVideoUrlContinuously(o,s):this.decodeFromVideoElementContinuously(r,s)}decodeFromImageElement(r){if(!r)throw new v("An image element must be provided.");this.reset();let o=this.prepareImageElement(r);this.imageElement=o;let s;return this.isImageLoaded(o)?s=this.decodeOnce(o,!1,!0):s=this._decodeOnLoadImage(o),s}decodeFromVideoElement(r){let o=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(r,o){let s=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideoContinuously(s,o)}_decodeFromVideoElementSetup(r){if(!r)throw new v("A video element must be provided.");this.reset();let o=this.prepareVideoElement(r);return this.videoElement=o,o}decodeFromImageUrl(r){if(!r)throw new v("An URL must be provided.");this.reset();let o=this.prepareImageElement();this.imageElement=o;let s=this._decodeOnLoadImage(o);return o.src=r,s}decodeFromVideoUrl(r){if(!r)throw new v("An URL must be provided.");this.reset();let o=this.prepareVideoElement(),s=this.decodeFromVideoElement(o);return o.src=r,s}decodeFromVideoUrlContinuously(r,o){if(!r)throw new v("An URL must be provided.");this.reset();let s=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(s,o);return s.src=r,c}_decodeOnLoadImage(r){return new Promise((o,s)=>{this.imageLoadedListener=()=>this.decodeOnce(r,!1,!0).then(o,s),r.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(r){return je(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(r),yield this.decodeOnce(r)})}_decodeOnLoadVideoContinuously(r,o){return je(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(r),this.decodeContinuously(r,o)})}isImageLoaded(r){return!(!r.complete||r.naturalWidth===0)}prepareImageElement(r){let o;return typeof r>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof r=="string"&&(o=this.getMediaElement(r,"img")),r instanceof HTMLImageElement&&(o=r),o}prepareVideoElement(r){let o;return!r&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof r=="string"&&(o=this.getMediaElement(r,"video")),r instanceof HTMLVideoElement&&(o=r),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(r,o=!0,s=!0){this._stopAsyncDecode=!1;let c=(u,h)=>{if(this._stopAsyncDecode){h(new G("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{let m=this.decode(r);u(m)}catch(m){let E=o&&m instanceof G,C=(m instanceof M||m instanceof ce)&&s;if(E||C)return setTimeout(c,this._timeBetweenDecodingAttempts,u,h);h(m)}};return new Promise((u,h)=>c(u,h))}decodeContinuously(r,o){this._stopContinuousDecode=!1;let s=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{let c=this.decode(r);o(c,null),setTimeout(s,this.timeBetweenScansMillis)}catch(c){o(null,c);let u=c instanceof M||c instanceof ce,h=c instanceof G;(u||h)&&setTimeout(s,this._timeBetweenDecodingAttempts)}};s()}decode(r){let o=this.createBinaryBitmap(r);return this.decodeBitmap(o)}_isHTMLVideoElement(r){return r.videoWidth!==0}drawFrameOnCanvas(r,o,s){o||(o={sx:0,sy:0,sWidth:r.videoWidth,sHeight:r.videoHeight,dx:0,dy:0,dWidth:r.videoWidth,dHeight:r.videoHeight}),s||(s=this.captureCanvasContext),s.drawImage(r,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(r,o,s=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:r.naturalWidth,sHeight:r.naturalHeight,dx:0,dy:0,dWidth:r.naturalWidth,dHeight:r.naturalHeight}),s||(s=this.captureCanvasContext),s.drawImage(r,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(r){let o=this.getCaptureCanvasContext(r);this._isHTMLVideoElement(r)?this.drawFrameOnCanvas(r):this.drawImageOnCanvas(r);let s=this.getCaptureCanvas(r),c=new Ie(s),u=new be(c);return new S(u)}getCaptureCanvasContext(r){if(!this.captureCanvasContext){let s=this.getCaptureCanvas(r).getContext("2d");this.captureCanvasContext=s}return this.captureCanvasContext}getCaptureCanvas(r){if(!this.captureCanvas){let o=this.createCaptureCanvas(r);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(r){return this.reader.decode(r,this._hints)}createCaptureCanvas(r){if(typeof document>"u")return this._destroyCaptureCanvas(),null;let o=document.createElement("canvas"),s,c;return typeof r<"u"&&(r instanceof HTMLVideoElement?(s=r.videoWidth,c=r.videoHeight):r instanceof HTMLImageElement&&(s=r.naturalWidth||r.width,c=r.naturalHeight||r.height)),o.style.width=s+"px",o.style.height=c+"px",o.width=s,o.height=c,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(r=>r.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(r,o){try{r.srcObject=o}catch{r.src=URL.createObjectURL(o)}}cleanVideoSource(r){try{r.srcObject=null}catch{r.src=""}this.videoElement.removeAttribute("src")}}class B{constructor(r,o,s=o==null?0:8*o.length,c,u,h=A.currentTimeMillis()){this.text=r,this.rawBytes=o,this.numBits=s,this.resultPoints=c,this.format=u,this.timestamp=h,this.text=r,this.rawBytes=o,s==null?this.numBits=o==null?0:8*o.length:this.numBits=s,this.resultPoints=c,this.format=u,this.resultMetadata=null,h==null?this.timestamp=A.currentTimeMillis():this.timestamp=h}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(r,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(r,o)}putAllMetadata(r){r!==null&&(this.resultMetadata===null?this.resultMetadata=r:this.resultMetadata=new Map(r))}addResultPoints(r){let o=this.resultPoints;if(o===null)this.resultPoints=r;else if(r!==null&&r.length>0){let s=new Array(o.length+r.length);A.arraycopy(o,0,s,0,o.length),A.arraycopy(r,0,s,o.length,r.length),this.resultPoints=s}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ie=function(_){return _[_.AZTEC=0]="AZTEC",_[_.CODABAR=1]="CODABAR",_[_.CODE_39=2]="CODE_39",_[_.CODE_93=3]="CODE_93",_[_.CODE_128=4]="CODE_128",_[_.DATA_MATRIX=5]="DATA_MATRIX",_[_.EAN_8=6]="EAN_8",_[_.EAN_13=7]="EAN_13",_[_.ITF=8]="ITF",_[_.MAXICODE=9]="MAXICODE",_[_.PDF_417=10]="PDF_417",_[_.QR_CODE=11]="QR_CODE",_[_.RSS_14=12]="RSS_14",_[_.RSS_EXPANDED=13]="RSS_EXPANDED",_[_.UPC_A=14]="UPC_A",_[_.UPC_E=15]="UPC_E",_[_.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",_}(ie||{}),J=ie,me=function(_){return _[_.OTHER=0]="OTHER",_[_.ORIENTATION=1]="ORIENTATION",_[_.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",_[_.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",_[_.ISSUE_NUMBER=4]="ISSUE_NUMBER",_[_.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",_[_.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",_[_.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",_[_.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",_[_.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",_[_.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY",_}(me||{}),ve=me;class Me{constructor(r,o,s,c,u=-1,h=-1){this.rawBytes=r,this.text=o,this.byteSegments=s,this.ecLevel=c,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=h,this.numBits=r==null?0:8*r.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(r){this.numBits=r}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(r){this.errorsCorrected=r}getErasures(){return this.erasures}setErasures(r){this.erasures=r}getOther(){return this.other}setOther(r){this.other=r}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Pe{exp(r){return this.expTable[r]}log(r){if(r===0)throw new x;return this.logTable[r]}static addOrSubtract(r,o){return r^o}}class De{constructor(r,o){if(o.length===0)throw new x;this.field=r;let s=o.length;if(s>1&&o[0]===0){let c=1;for(;c<s&&o[c]===0;)c++;c===s?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(s-c),A.arraycopy(o,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);let o=this.coefficients,s;if(r===1){s=0;for(let h=0,m=o.length;h!==m;h++){let E=o[h];s=Pe.addOrSubtract(s,E)}return s}s=o[0];let c=o.length,u=this.field;for(let h=1;h<c;h++)s=Pe.addOrSubtract(u.multiply(r,s),o[h]);return s}addOrSubtract(r){if(!this.field.equals(r.field))throw new x("GenericGFPolys do not have same GenericGF field");if(this.isZero())return r;if(r.isZero())return this;let o=this.coefficients,s=r.coefficients;if(o.length>s.length){let h=o;o=s,s=h}let c=new Int32Array(s.length),u=s.length-o.length;A.arraycopy(s,0,c,0,u);for(let h=u;h<s.length;h++)c[h]=Pe.addOrSubtract(o[h-u],s[h]);return new De(this.field,c)}multiply(r){if(!this.field.equals(r.field))throw new x("GenericGFPolys do not have same GenericGF field");if(this.isZero()||r.isZero())return this.field.getZero();let o=this.coefficients,s=o.length,c=r.coefficients,u=c.length,h=new Int32Array(s+u-1),m=this.field;for(let E=0;E<s;E++){let w=o[E];for(let C=0;C<u;C++)h[E+C]=Pe.addOrSubtract(h[E+C],m.multiply(w,c[C]))}return new De(m,h)}multiplyScalar(r){if(r===0)return this.field.getZero();if(r===1)return this;let o=this.coefficients.length,s=this.field,c=new Int32Array(o),u=this.coefficients;for(let h=0;h<o;h++)c[h]=s.multiply(u[h],r);return new De(s,c)}multiplyByMonomial(r,o){if(r<0)throw new x;if(o===0)return this.field.getZero();let s=this.coefficients,c=s.length,u=new Int32Array(c+r),h=this.field;for(let m=0;m<c;m++)u[m]=h.multiply(s[m],o);return new De(h,u)}divide(r){if(!this.field.equals(r.field))throw new x("GenericGFPolys do not have same GenericGF field");if(r.isZero())throw new x("Divide by 0");let o=this.field,s=o.getZero(),c=this,u=r.getCoefficient(r.getDegree()),h=o.inverse(u);for(;c.getDegree()>=r.getDegree()&&!c.isZero();){let m=c.getDegree()-r.getDegree(),E=o.multiply(c.getCoefficient(c.getDegree()),h),w=r.multiplyByMonomial(m,E),C=o.buildMonomial(m,E);s=s.addOrSubtract(C),c=c.addOrSubtract(w)}return[s,c]}toString(){let r="";for(let o=this.getDegree();o>=0;o--){let s=this.getCoefficient(o);if(s!==0){if(s<0?(r+=" - ",s=-s):r.length>0&&(r+=" + "),o===0||s!==1){let c=this.field.log(s);c===0?r+="1":c===1?r+="a":(r+="a^",r+=c)}o!==0&&(o===1?r+="x":(r+="x^",r+=o))}}return r}}let st=(()=>{class _ extends p{}return _.kind="ArithmeticException",_})();class Ke extends Pe{constructor(r,o,s){super(),this.primitive=r,this.size=o,this.generatorBase=s;let c=new Int32Array(o),u=1;for(let m=0;m<o;m++)c[m]=u,u*=2,u>=o&&(u^=r,u&=o-1);this.expTable=c;let h=new Int32Array(o);for(let m=0;m<o-1;m++)h[c[m]]=m;this.logTable=h,this.zero=new De(this,Int32Array.from([0])),this.one=new De(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,o){if(r<0)throw new x;if(o===0)return this.zero;let s=new Int32Array(r+1);return s[0]=o,new De(this,s)}inverse(r){if(r===0)throw new st;return this.expTable[this.size-this.logTable[r]-1]}multiply(r,o){return r===0||o===0?0:this.expTable[(this.logTable[r]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+U.toHexString(this.primitive)+","+this.size+")"}equals(r){return r===this}}Ke.AZTEC_DATA_12=new Ke(4201,4096,1),Ke.AZTEC_DATA_10=new Ke(1033,1024,1),Ke.AZTEC_DATA_6=new Ke(67,64,1),Ke.AZTEC_PARAM=new Ke(19,16,1),Ke.QR_CODE_FIELD_256=new Ke(285,256,0),Ke.DATA_MATRIX_FIELD_256=new Ke(301,256,1),Ke.AZTEC_DATA_8=Ke.DATA_MATRIX_FIELD_256,Ke.MAXICODE_FIELD_64=Ke.AZTEC_DATA_6;let vt=(()=>{class _ extends p{}return _.kind="ReedSolomonException",_})(),pt=(()=>{class _ extends p{}return _.kind="IllegalStateException",_})();class Ht{constructor(r){this.field=r}decode(r,o){let s=this.field,c=new De(s,r),u=new Int32Array(o),h=!0;for(let Q=0;Q<o;Q++){let re=c.evaluateAt(s.exp(Q+s.getGeneratorBase()));u[u.length-1-Q]=re,re!==0&&(h=!1)}if(h)return;let m=new De(s,u),E=this.runEuclideanAlgorithm(s.buildMonomial(o,1),m,o),w=E[0],C=E[1],L=this.findErrorLocations(w),V=this.findErrorMagnitudes(C,L);for(let Q=0;Q<L.length;Q++){let re=r.length-1-s.log(L[Q]);if(re<0)throw new vt("Bad error location");r[re]=Ke.addOrSubtract(r[re],V[Q])}}runEuclideanAlgorithm(r,o,s){if(r.getDegree()<o.getDegree()){let Q=r;r=o,o=Q}let c=this.field,u=r,h=o,m=c.getZero(),E=c.getOne();for(;h.getDegree()>=(s/2|0);){let Q=u,re=m;if(u=h,m=E,u.isZero())throw new vt("r_{i-1} was zero");h=Q;let fe=c.getZero(),ye=u.getCoefficient(u.getDegree()),Le=c.inverse(ye);for(;h.getDegree()>=u.getDegree()&&!h.isZero();){let nt=h.getDegree()-u.getDegree(),ct=c.multiply(h.getCoefficient(h.getDegree()),Le);fe=fe.addOrSubtract(c.buildMonomial(nt,ct)),h=h.addOrSubtract(u.multiplyByMonomial(nt,ct))}if(E=fe.multiply(m).addOrSubtract(re),h.getDegree()>=u.getDegree())throw new pt("Division algorithm failed to reduce polynomial?")}let w=E.getCoefficient(0);if(w===0)throw new vt("sigmaTilde(0) was zero");let C=c.inverse(w),L=E.multiplyScalar(C),V=h.multiplyScalar(C);return[L,V]}findErrorLocations(r){let o=r.getDegree();if(o===1)return Int32Array.from([r.getCoefficient(1)]);let s=new Int32Array(o),c=0,u=this.field;for(let h=1;h<u.getSize()&&c<o;h++)r.evaluateAt(h)===0&&(s[c]=u.inverse(h),c++);if(c!==o)throw new vt("Error locator degree does not match number of roots");return s}findErrorMagnitudes(r,o){let s=o.length,c=new Int32Array(s),u=this.field;for(let h=0;h<s;h++){let m=u.inverse(o[h]),E=1;for(let w=0;w<s;w++)if(h!==w){let C=u.multiply(o[w],m),L=C&1?C&-2:C|1;E=u.multiply(E,L)}c[h]=u.multiply(r.evaluateAt(m),u.inverse(E)),u.getGeneratorBase()!==0&&(c[h]=u.multiply(c[h],m))}return c}}var Ue=function(_){return _[_.UPPER=0]="UPPER",_[_.LOWER=1]="LOWER",_[_.MIXED=2]="MIXED",_[_.DIGIT=3]="DIGIT",_[_.PUNCT=4]="PUNCT",_[_.BINARY=5]="BINARY",_}(Ue||{});let oe=(()=>{class _{decode(o){this.ddata=o;let s=o.getBits(),c=this.extractBits(s),u=this.correctBits(c),h=_.convertBoolArrayToByteArray(u),m=_.getEncodedData(u),E=new Me(h,m,null,null);return E.setNumBits(u.length),E}static highLevelDecode(o){return this.getEncodedData(o)}static getEncodedData(o){let s=o.length,c=Ue.UPPER,u=Ue.UPPER,h="",m=0;for(;m<s;)if(u===Ue.BINARY){if(s-m<5)break;let E=_.readCode(o,m,5);if(m+=5,E===0){if(s-m<11)break;E=_.readCode(o,m,11)+31,m+=11}for(let w=0;w<E;w++){if(s-m<8){m=s;break}let C=_.readCode(o,m,8);h+=Ae.castAsNonUtf8Char(C),m+=8}u=c}else{let E=u===Ue.DIGIT?4:5;if(s-m<E)break;let w=_.readCode(o,m,E);m+=E;let C=_.getCharacter(u,w);C.startsWith("CTRL_")?(c=u,u=_.getTable(C.charAt(5)),C.charAt(6)==="L"&&(c=u)):(h+=C,u=c)}return h}static getTable(o){switch(o){case"L":return Ue.LOWER;case"P":return Ue.PUNCT;case"M":return Ue.MIXED;case"D":return Ue.DIGIT;case"B":return Ue.BINARY;case"U":default:return Ue.UPPER}}static getCharacter(o,s){switch(o){case Ue.UPPER:return _.UPPER_TABLE[s];case Ue.LOWER:return _.LOWER_TABLE[s];case Ue.MIXED:return _.MIXED_TABLE[s];case Ue.PUNCT:return _.PUNCT_TABLE[s];case Ue.DIGIT:return _.DIGIT_TABLE[s];default:throw new pt("Bad table")}}correctBits(o){let s,c;this.ddata.getNbLayers()<=2?(c=6,s=Ke.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(c=8,s=Ke.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(c=10,s=Ke.AZTEC_DATA_10):(c=12,s=Ke.AZTEC_DATA_12);let u=this.ddata.getNbDatablocks(),h=o.length/c;if(h<u)throw new ce;let m=o.length%c,E=new Int32Array(h);for(let Q=0;Q<h;Q++,m+=c)E[Q]=_.readCode(o,m,c);try{new Ht(s).decode(E,h-u)}catch(Q){throw new ce(Q)}let w=(1<<c)-1,C=0;for(let Q=0;Q<u;Q++){let re=E[Q];if(re===0||re===w)throw new ce;(re===1||re===w-1)&&C++}let L=new Array(u*c-C),V=0;for(let Q=0;Q<u;Q++){let re=E[Q];if(re===1||re===w-1)L.fill(re>1,V,V+c-1),V+=c-1;else for(let fe=c-1;fe>=0;--fe)L[V++]=(re&1<<fe)!==0}return L}extractBits(o){let s=this.ddata.isCompact(),c=this.ddata.getNbLayers(),u=(s?11:14)+c*4,h=new Int32Array(u),m=new Array(this.totalBitsInLayer(c,s));if(s)for(let E=0;E<h.length;E++)h[E]=E;else{let E=u+1+2*U.truncDivision(U.truncDivision(u,2)-1,15),w=u/2,C=U.truncDivision(E,2);for(let L=0;L<w;L++){let V=L+U.truncDivision(L,15);h[w-L-1]=C-V-1,h[w+L]=C+V+1}}for(let E=0,w=0;E<c;E++){let C=(c-E)*4+(s?9:12),L=E*2,V=u-1-L;for(let Q=0;Q<C;Q++){let re=Q*2;for(let fe=0;fe<2;fe++)m[w+re+fe]=o.get(h[L+fe],h[L+Q]),m[w+2*C+re+fe]=o.get(h[L+Q],h[V-fe]),m[w+4*C+re+fe]=o.get(h[V-fe],h[V-Q]),m[w+6*C+re+fe]=o.get(h[V-Q],h[L+fe])}w+=C*8}return m}static readCode(o,s,c){let u=0;for(let h=s;h<s+c;h++)u<<=1,o[h]&&(u|=1);return u}static readByte(o,s){let c=o.length-s;return c>=8?_.readCode(o,s,8):_.readCode(o,s,c)<<8-c}static convertBoolArrayToByteArray(o){let s=new Uint8Array((o.length+7)/8);for(let c=0;c<s.length;c++)s[c]=_.readByte(o,8*c);return s}totalBitsInLayer(o,s){return((s?88:112)+16*o)*o}}return _.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],_.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],_.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],_.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],_.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],_})();class Et{constructor(){}static round(r){return r===NaN?0:r<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:r>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:r+(r<0?-.5:.5)|0}static distance(r,o,s,c){let u=r-s,h=o-c;return Math.sqrt(u*u+h*h)}static sum(r){let o=0;for(let s=0,c=r.length;s!==c;s++){let u=r[s];o+=u}return o}}class Lt{static floatToIntBits(r){return r}}Lt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Oe{constructor(r,o){this.x=r,this.y=o}getX(){return this.x}getY(){return this.y}equals(r){if(r instanceof Oe){let o=r;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*Lt.floatToIntBits(this.x)+Lt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(r){let o=this.distance(r[0],r[1]),s=this.distance(r[1],r[2]),c=this.distance(r[0],r[2]),u,h,m;if(s>=o&&s>=c?(h=r[0],u=r[1],m=r[2]):c>=s&&c>=o?(h=r[1],u=r[0],m=r[2]):(h=r[2],u=r[0],m=r[1]),this.crossProductZ(u,h,m)<0){let E=u;u=m,m=E}r[0]=u,r[1]=h,r[2]=m}static distance(r,o){return Et.distance(r.x,r.y,o.x,o.y)}static crossProductZ(r,o,s){let c=o.x,u=o.y;return(s.x-c)*(r.y-u)-(s.y-u)*(r.x-c)}}class ut{constructor(r,o){this.bits=r,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class bt extends ut{constructor(r,o,s,c,u){super(r,o),this.compact=s,this.nbDatablocks=c,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}let dt=(()=>{class _{constructor(o,s,c,u){this.image=o,this.height=o.getHeight(),this.width=o.getWidth(),s==null&&(s=_.INIT_SIZE),c==null&&(c=o.getWidth()/2|0),u==null&&(u=o.getHeight()/2|0);let h=s/2|0;if(this.leftInit=c-h,this.rightInit=c+h,this.upInit=u-h,this.downInit=u+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new G}detect(){let o=this.leftInit,s=this.rightInit,c=this.upInit,u=this.downInit,h=!1,m=!0,E=!1,w=!1,C=!1,L=!1,V=!1,Q=this.width,re=this.height;for(;m;){m=!1;let fe=!0;for(;(fe||!w)&&s<Q;)fe=this.containsBlackPoint(c,u,s,!1),fe?(s++,m=!0,w=!0):w||s++;if(s>=Q){h=!0;break}let ye=!0;for(;(ye||!C)&&u<re;)ye=this.containsBlackPoint(o,s,u,!0),ye?(u++,m=!0,C=!0):C||u++;if(u>=re){h=!0;break}let Le=!0;for(;(Le||!L)&&o>=0;)Le=this.containsBlackPoint(c,u,o,!1),Le?(o--,m=!0,L=!0):L||o--;if(o<0){h=!0;break}let nt=!0;for(;(nt||!V)&&c>=0;)nt=this.containsBlackPoint(o,s,c,!0),nt?(c--,m=!0,V=!0):V||c--;if(c<0){h=!0;break}m&&(E=!0)}if(!h&&E){let fe=s-o,ye=null;for(let Ve=1;ye===null&&Ve<fe;Ve++)ye=this.getBlackPointOnSegment(o,u-Ve,o+Ve,u);if(ye==null)throw new G;let Le=null;for(let Ve=1;Le===null&&Ve<fe;Ve++)Le=this.getBlackPointOnSegment(o,c+Ve,o+Ve,c);if(Le==null)throw new G;let nt=null;for(let Ve=1;nt===null&&Ve<fe;Ve++)nt=this.getBlackPointOnSegment(s,c+Ve,s-Ve,c);if(nt==null)throw new G;let ct=null;for(let Ve=1;ct===null&&Ve<fe;Ve++)ct=this.getBlackPointOnSegment(s,u-Ve,s-Ve,u);if(ct==null)throw new G;return this.centerEdges(ct,ye,nt,Le)}else throw new G}getBlackPointOnSegment(o,s,c,u){let h=Et.round(Et.distance(o,s,c,u)),m=(c-o)/h,E=(u-s)/h,w=this.image;for(let C=0;C<h;C++){let L=Et.round(o+C*m),V=Et.round(s+C*E);if(w.get(L,V))return new Oe(L,V)}return null}centerEdges(o,s,c,u){let h=o.getX(),m=o.getY(),E=s.getX(),w=s.getY(),C=c.getX(),L=c.getY(),V=u.getX(),Q=u.getY(),re=_.CORR;return h<this.width/2?[new Oe(V-re,Q+re),new Oe(E+re,w+re),new Oe(C-re,L-re),new Oe(h+re,m-re)]:[new Oe(V+re,Q+re),new Oe(E+re,w-re),new Oe(C-re,L+re),new Oe(h-re,m-re)]}containsBlackPoint(o,s,c,u){let h=this.image;if(u){for(let m=o;m<=s;m++)if(h.get(m,c))return!0}else for(let m=o;m<=s;m++)if(h.get(c,m))return!0;return!1}}return _.INIT_SIZE=10,_.CORR=1,_})();class Bt{static checkAndNudgePoints(r,o){let s=r.getWidth(),c=r.getHeight(),u=!0;for(let h=0;h<o.length&&u;h+=2){let m=Math.floor(o[h]),E=Math.floor(o[h+1]);if(m<-1||m>s||E<-1||E>c)throw new G;u=!1,m===-1?(o[h]=0,u=!0):m===s&&(o[h]=s-1,u=!0),E===-1?(o[h+1]=0,u=!0):E===c&&(o[h+1]=c-1,u=!0)}u=!0;for(let h=o.length-2;h>=0&&u;h-=2){let m=Math.floor(o[h]),E=Math.floor(o[h+1]);if(m<-1||m>s||E<-1||E>c)throw new G;u=!1,m===-1?(o[h]=0,u=!0):m===s&&(o[h]=s-1,u=!0),E===-1?(o[h+1]=0,u=!0):E===c&&(o[h+1]=c-1,u=!0)}}}class Vt{constructor(r,o,s,c,u,h,m,E,w){this.a11=r,this.a21=o,this.a31=s,this.a12=c,this.a22=u,this.a32=h,this.a13=m,this.a23=E,this.a33=w}static quadrilateralToQuadrilateral(r,o,s,c,u,h,m,E,w,C,L,V,Q,re,fe,ye){let Le=Vt.quadrilateralToSquare(r,o,s,c,u,h,m,E);return Vt.squareToQuadrilateral(w,C,L,V,Q,re,fe,ye).times(Le)}transformPoints(r){let o=r.length,s=this.a11,c=this.a12,u=this.a13,h=this.a21,m=this.a22,E=this.a23,w=this.a31,C=this.a32,L=this.a33;for(let V=0;V<o;V+=2){let Q=r[V],re=r[V+1],fe=u*Q+E*re+L;r[V]=(s*Q+h*re+w)/fe,r[V+1]=(c*Q+m*re+C)/fe}}transformPointsWithValues(r,o){let s=this.a11,c=this.a12,u=this.a13,h=this.a21,m=this.a22,E=this.a23,w=this.a31,C=this.a32,L=this.a33,V=r.length;for(let Q=0;Q<V;Q++){let re=r[Q],fe=o[Q],ye=u*re+E*fe+L;r[Q]=(s*re+h*fe+w)/ye,o[Q]=(c*re+m*fe+C)/ye}}static squareToQuadrilateral(r,o,s,c,u,h,m,E){let w=r-s+u-m,C=o-c+h-E;if(w===0&&C===0)return new Vt(s-r,u-s,r,c-o,h-c,o,0,0,1);{let L=s-u,V=m-u,Q=c-h,re=E-h,fe=L*re-V*Q,ye=(w*re-V*C)/fe,Le=(L*C-w*Q)/fe;return new Vt(s-r+ye*s,m-r+Le*m,r,c-o+ye*c,E-o+Le*E,o,ye,Le,1)}}static quadrilateralToSquare(r,o,s,c,u,h,m,E){return Vt.squareToQuadrilateral(r,o,s,c,u,h,m,E).buildAdjoint()}buildAdjoint(){return new Vt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(r){return new Vt(this.a11*r.a11+this.a21*r.a12+this.a31*r.a13,this.a11*r.a21+this.a21*r.a22+this.a31*r.a23,this.a11*r.a31+this.a21*r.a32+this.a31*r.a33,this.a12*r.a11+this.a22*r.a12+this.a32*r.a13,this.a12*r.a21+this.a22*r.a22+this.a32*r.a23,this.a12*r.a31+this.a22*r.a32+this.a32*r.a33,this.a13*r.a11+this.a23*r.a12+this.a33*r.a13,this.a13*r.a21+this.a23*r.a22+this.a33*r.a23,this.a13*r.a31+this.a23*r.a32+this.a33*r.a33)}}class si extends Bt{sampleGrid(r,o,s,c,u,h,m,E,w,C,L,V,Q,re,fe,ye,Le,nt,ct){let Ve=Vt.quadrilateralToQuadrilateral(c,u,h,m,E,w,C,L,V,Q,re,fe,ye,Le,nt,ct);return this.sampleGridWithTransform(r,o,s,Ve)}sampleGridWithTransform(r,o,s,c){if(o<=0||s<=0)throw new G;let u=new X(o,s),h=new Float32Array(2*o);for(let m=0;m<s;m++){let E=h.length,w=m+.5;for(let C=0;C<E;C+=2)h[C]=C/2+.5,h[C+1]=w;c.transformPoints(h),Bt.checkAndNudgePoints(r,h);try{for(let C=0;C<E;C+=2)r.get(Math.floor(h[C]),Math.floor(h[C+1]))&&u.set(C/2,m)}catch{throw new G}}return u}}class ri{static setGridSampler(r){ri.gridSampler=r}static getInstance(){return ri.gridSampler}}ri.gridSampler=new si;class ei{constructor(r,o){this.x=r,this.y=o}toResultPoint(){return new Oe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Zi{constructor(r){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=r}detect(){return this.detectMirror(!1)}detectMirror(r){let o=this.getMatrixCenter(),s=this.getBullsEyeCorners(o);if(r){let h=s[0];s[0]=s[2],s[2]=h}this.extractParameters(s);let c=this.sampleGrid(this.image,s[this.shift%4],s[(this.shift+1)%4],s[(this.shift+2)%4],s[(this.shift+3)%4]),u=this.getMatrixCornerPoints(s);return new bt(c,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(r){if(!this.isValidPoint(r[0])||!this.isValidPoint(r[1])||!this.isValidPoint(r[2])||!this.isValidPoint(r[3]))throw new G;let o=2*this.nbCenterLayers,s=new Int32Array([this.sampleLine(r[0],r[1],o),this.sampleLine(r[1],r[2],o),this.sampleLine(r[2],r[3],o),this.sampleLine(r[3],r[0],o)]);this.shift=this.getRotation(s,o);let c=0;for(let h=0;h<4;h++){let m=s[(this.shift+h)%4];this.compact?(c<<=7,c+=m>>1&127):(c<<=10,c+=(m>>2&992)+(m>>1&31))}let u=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(r,o){let s=0;r.forEach((c,u,h)=>{let m=(c>>o-2<<1)+(c&1);s=(s<<3)+m}),s=((s&1)<<11)+(s>>1);for(let c=0;c<4;c++)if(U.bitCount(s^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new G}getCorrectedParameterData(r,o){let s,c;o?(s=7,c=2):(s=10,c=4);let u=s-c,h=new Int32Array(s);for(let E=s-1;E>=0;--E)h[E]=r&15,r>>=4;try{new Ht(Ke.AZTEC_PARAM).decode(h,u)}catch{throw new G}let m=0;for(let E=0;E<c;E++)m=(m<<4)+h[E];return m}getBullsEyeCorners(r){let o=r,s=r,c=r,u=r,h=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let L=this.getFirstDifferent(o,h,1,-1),V=this.getFirstDifferent(s,h,1,1),Q=this.getFirstDifferent(c,h,-1,1),re=this.getFirstDifferent(u,h,-1,-1);if(this.nbCenterLayers>2){let fe=this.distancePoint(re,L)*this.nbCenterLayers/(this.distancePoint(u,o)*(this.nbCenterLayers+2));if(fe<.75||fe>1.25||!this.isWhiteOrBlackRectangle(L,V,Q,re))break}o=L,s=V,c=Q,u=re,h=!h}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new G;this.compact=this.nbCenterLayers===5;let m=new Oe(o.getX()+.5,o.getY()-.5),E=new Oe(s.getX()+.5,s.getY()+.5),w=new Oe(c.getX()-.5,c.getY()+.5),C=new Oe(u.getX()-.5,u.getY()-.5);return this.expandSquare([m,E,w,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let r,o,s,c;try{let m=new dt(this.image).detect();r=m[0],o=m[1],s=m[2],c=m[3]}catch{let E=this.image.getWidth()/2,w=this.image.getHeight()/2;r=this.getFirstDifferent(new ei(E+7,w-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new ei(E+7,w+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new ei(E-7,w+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new ei(E-7,w-7),!1,-1,-1).toResultPoint()}let u=Et.round((r.getX()+c.getX()+o.getX()+s.getX())/4),h=Et.round((r.getY()+c.getY()+o.getY()+s.getY())/4);try{let m=new dt(this.image,15,u,h).detect();r=m[0],o=m[1],s=m[2],c=m[3]}catch{r=this.getFirstDifferent(new ei(u+7,h-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new ei(u+7,h+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new ei(u-7,h+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new ei(u-7,h-7),!1,-1,-1).toResultPoint()}return u=Et.round((r.getX()+c.getX()+o.getX()+s.getX())/4),h=Et.round((r.getY()+c.getY()+o.getY()+s.getY())/4),new ei(u,h)}getMatrixCornerPoints(r){return this.expandSquare(r,2*this.nbCenterLayers,this.getDimension())}sampleGrid(r,o,s,c,u){let h=ri.getInstance(),m=this.getDimension(),E=m/2-this.nbCenterLayers,w=m/2+this.nbCenterLayers;return h.sampleGrid(r,m,m,E,E,w,E,w,w,E,w,o.getX(),o.getY(),s.getX(),s.getY(),c.getX(),c.getY(),u.getX(),u.getY())}sampleLine(r,o,s){let c=0,u=this.distanceResultPoint(r,o),h=u/s,m=r.getX(),E=r.getY(),w=h*(o.getX()-r.getX())/u,C=h*(o.getY()-r.getY())/u;for(let L=0;L<s;L++)this.image.get(Et.round(m+L*w),Et.round(E+L*C))&&(c|=1<<s-L-1);return c}isWhiteOrBlackRectangle(r,o,s,c){let u=3;r=new ei(r.getX()-u,r.getY()+u),o=new ei(o.getX()-u,o.getY()-u),s=new ei(s.getX()+u,s.getY()-u),c=new ei(c.getX()+u,c.getY()+u);let h=this.getColor(c,r);if(h===0)return!1;let m=this.getColor(r,o);return m!==h||(m=this.getColor(o,s),m!==h)?!1:(m=this.getColor(s,c),m===h)}getColor(r,o){let s=this.distancePoint(r,o),c=(o.getX()-r.getX())/s,u=(o.getY()-r.getY())/s,h=0,m=r.getX(),E=r.getY(),w=this.image.get(r.getX(),r.getY()),C=Math.ceil(s);for(let V=0;V<C;V++)m+=c,E+=u,this.image.get(Et.round(m),Et.round(E))!==w&&h++;let L=h/s;return L>.1&&L<.9?0:L<=.1===w?1:-1}getFirstDifferent(r,o,s,c){let u=r.getX()+s,h=r.getY()+c;for(;this.isValid(u,h)&&this.image.get(u,h)===o;)u+=s,h+=c;for(u-=s,h-=c;this.isValid(u,h)&&this.image.get(u,h)===o;)u+=s;for(u-=s;this.isValid(u,h)&&this.image.get(u,h)===o;)h+=c;return h-=c,new ei(u,h)}expandSquare(r,o,s){let c=s/(2*o),u=r[0].getX()-r[2].getX(),h=r[0].getY()-r[2].getY(),m=(r[0].getX()+r[2].getX())/2,E=(r[0].getY()+r[2].getY())/2,w=new Oe(m+c*u,E+c*h),C=new Oe(m-c*u,E-c*h);u=r[1].getX()-r[3].getX(),h=r[1].getY()-r[3].getY(),m=(r[1].getX()+r[3].getX())/2,E=(r[1].getY()+r[3].getY())/2;let L=new Oe(m+c*u,E+c*h),V=new Oe(m-c*u,E-c*h);return[w,L,C,V]}isValid(r,o){return r>=0&&r<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(r){let o=Et.round(r.getX()),s=Et.round(r.getY());return this.isValid(o,s)}distancePoint(r,o){return Et.distance(r.getX(),r.getY(),o.getX(),o.getY())}distanceResultPoint(r,o){return Et.distance(r.getX(),r.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(U.truncDivision(this.nbLayers-4,8)+1)+15}}class Yt{decode(r,o=null){let s=null,c=new Zi(r.getBlackMatrix()),u=null,h=null;try{let C=c.detectMirror(!1);u=C.getPoints(),this.reportFoundResultPoints(o,u),h=new oe().decode(C)}catch(C){s=C}if(h==null)try{let C=c.detectMirror(!0);u=C.getPoints(),this.reportFoundResultPoints(o,u),h=new oe().decode(C)}catch(C){throw s??C}let m=new B(h.getText(),h.getRawBytes(),h.getNumBits(),u,J.AZTEC,A.currentTimeMillis()),E=h.getByteSegments();E!=null&&m.putMetadata(ve.BYTE_SEGMENTS,E);let w=h.getECLevel();return w!=null&&m.putMetadata(ve.ERROR_CORRECTION_LEVEL,w),m}reportFoundResultPoints(r,o){if(r!=null){let s=r.get(xe.NEED_RESULT_POINT_CALLBACK);s!=null&&o.forEach((c,u,h)=>{s.foundPossibleResultPoint(c)})}}reset(){}}class vi extends ht{constructor(r=500){super(new Yt,r)}}class at{decode(r,o){try{return this.doDecode(r,o)}catch{if(o&&o.get(xe.TRY_HARDER)===!0&&r.isRotateSupported()){let u=r.rotateCounterClockwise(),h=this.doDecode(u,o),m=h.getResultMetadata(),E=270;m!==null&&m.get(ve.ORIENTATION)===!0&&(E=E+m.get(ve.ORIENTATION)%360),h.putMetadata(ve.ORIENTATION,E);let w=h.getResultPoints();if(w!==null){let C=u.getHeight();for(let L=0;L<w.length;L++)w[L]=new Oe(C-w[L].getY()-1,w[L].getX())}return h}else throw new G}}reset(){}doDecode(r,o){let s=r.getWidth(),c=r.getHeight(),u=new Y(s),h=o&&o.get(xe.TRY_HARDER)===!0,m=Math.max(1,c>>(h?8:5)),E;h?E=c:E=15;let w=Math.trunc(c/2);for(let C=0;C<E;C++){let L=Math.trunc((C+1)/2),V=(C&1)===0,Q=w+m*(V?L:-L);if(Q<0||Q>=c)break;try{u=r.getBlackRow(Q,u)}catch{continue}for(let re=0;re<2;re++){if(re===1&&(u.reverse(),o&&o.get(xe.NEED_RESULT_POINT_CALLBACK)===!0)){let fe=new Map;o.forEach((ye,Le)=>fe.set(Le,ye)),fe.delete(xe.NEED_RESULT_POINT_CALLBACK),o=fe}try{let fe=this.decodeRow(Q,u,o);if(re===1){fe.putMetadata(ve.ORIENTATION,180);let ye=fe.getResultPoints();ye!==null&&(ye[0]=new Oe(s-ye[0].getX()-1,ye[0].getY()),ye[1]=new Oe(s-ye[1].getX()-1,ye[1].getY()))}return fe}catch{}}}throw new G}static recordPattern(r,o,s){let c=s.length;for(let w=0;w<c;w++)s[w]=0;let u=r.getSize();if(o>=u)throw new G;let h=!r.get(o),m=0,E=o;for(;E<u;){if(r.get(E)!==h)s[m]++;else{if(++m===c)break;s[m]=1,h=!h}E++}if(!(m===c||m===c-1&&E===u))throw new G}static recordPatternInReverse(r,o,s){let c=s.length,u=r.get(o);for(;o>0&&c>=0;)r.get(--o)!==u&&(c--,u=!u);if(c>=0)throw new G;at.recordPattern(r,o+1,s)}static patternMatchVariance(r,o,s){let c=r.length,u=0,h=0;for(let w=0;w<c;w++)u+=r[w],h+=o[w];if(u<h)return Number.POSITIVE_INFINITY;let m=u/h;s*=m;let E=0;for(let w=0;w<c;w++){let C=r[w],L=o[w]*m,V=C>L?C-L:L-C;if(V>s)return Number.POSITIVE_INFINITY;E+=V}return E/u}}class ot extends at{static findStartPattern(r){let o=r.getSize(),s=r.getNextSet(0),c=0,u=Int32Array.from([0,0,0,0,0,0]),h=s,m=!1,E=6;for(let w=s;w<o;w++)if(r.get(w)!==m)u[c]++;else{if(c===E-1){let C=ot.MAX_AVG_VARIANCE,L=-1;for(let V=ot.CODE_START_A;V<=ot.CODE_START_C;V++){let Q=at.patternMatchVariance(u,ot.CODE_PATTERNS[V],ot.MAX_INDIVIDUAL_VARIANCE);Q<C&&(C=Q,L=V)}if(L>=0&&r.isRange(Math.max(0,h-(w-h)/2),h,!1))return Int32Array.from([h,w,L]);h+=u[0]+u[1],u=u.slice(2,u.length-1),u[c-1]=0,u[c]=0,c--}else c++;u[c]=1,m=!m}throw new G}static decodeCode(r,o,s){at.recordPattern(r,s,o);let c=ot.MAX_AVG_VARIANCE,u=-1;for(let h=0;h<ot.CODE_PATTERNS.length;h++){let m=ot.CODE_PATTERNS[h],E=this.patternMatchVariance(o,m,ot.MAX_INDIVIDUAL_VARIANCE);E<c&&(c=E,u=h)}if(u>=0)return u;throw new G}decodeRow(r,o,s){let c=s&&s.get(xe.ASSUME_GS1)===!0,u=ot.findStartPattern(o),h=u[2],m=0,E=new Uint8Array(20);E[m++]=h;let w;switch(h){case ot.CODE_START_A:w=ot.CODE_CODE_A;break;case ot.CODE_START_B:w=ot.CODE_CODE_B;break;case ot.CODE_START_C:w=ot.CODE_CODE_C;break;default:throw new ce}let C=!1,L=!1,V="",Q=u[0],re=u[1],fe=Int32Array.from([0,0,0,0,0,0]),ye=0,Le=0,nt=h,ct=0,Ve=!0,ni=!1,Jt=!1;for(;!C;){let Gi=L;switch(L=!1,ye=Le,Le=ot.decodeCode(o,fe,re),E[m++]=Le,Le!==ot.CODE_STOP&&(Ve=!0),Le!==ot.CODE_STOP&&(ct++,nt+=ct*Le),Q=re,re+=fe.reduce((Xn,ur)=>Xn+ur,0),Le){case ot.CODE_START_A:case ot.CODE_START_B:case ot.CODE_START_C:throw new ce}switch(w){case ot.CODE_CODE_A:if(Le<64)Jt===ni?V+=String.fromCharCode(32+Le):V+=String.fromCharCode(32+Le+128),Jt=!1;else if(Le<96)Jt===ni?V+=String.fromCharCode(Le-64):V+=String.fromCharCode(Le+64),Jt=!1;else switch(Le!==ot.CODE_STOP&&(Ve=!1),Le){case ot.CODE_FNC_1:c&&(V.length===0?V+="]C1":V+="");break;case ot.CODE_FNC_2:case ot.CODE_FNC_3:break;case ot.CODE_FNC_4_A:!ni&&Jt?(ni=!0,Jt=!1):ni&&Jt?(ni=!1,Jt=!1):Jt=!0;break;case ot.CODE_SHIFT:L=!0,w=ot.CODE_CODE_B;break;case ot.CODE_CODE_B:w=ot.CODE_CODE_B;break;case ot.CODE_CODE_C:w=ot.CODE_CODE_C;break;case ot.CODE_STOP:C=!0;break}break;case ot.CODE_CODE_B:if(Le<96)Jt===ni?V+=String.fromCharCode(32+Le):V+=String.fromCharCode(32+Le+128),Jt=!1;else switch(Le!==ot.CODE_STOP&&(Ve=!1),Le){case ot.CODE_FNC_1:c&&(V.length===0?V+="]C1":V+="");break;case ot.CODE_FNC_2:case ot.CODE_FNC_3:break;case ot.CODE_FNC_4_B:!ni&&Jt?(ni=!0,Jt=!1):ni&&Jt?(ni=!1,Jt=!1):Jt=!0;break;case ot.CODE_SHIFT:L=!0,w=ot.CODE_CODE_A;break;case ot.CODE_CODE_A:w=ot.CODE_CODE_A;break;case ot.CODE_CODE_C:w=ot.CODE_CODE_C;break;case ot.CODE_STOP:C=!0;break}break;case ot.CODE_CODE_C:if(Le<100)Le<10&&(V+="0"),V+=Le;else switch(Le!==ot.CODE_STOP&&(Ve=!1),Le){case ot.CODE_FNC_1:c&&(V.length===0?V+="]C1":V+="");break;case ot.CODE_CODE_A:w=ot.CODE_CODE_A;break;case ot.CODE_CODE_B:w=ot.CODE_CODE_B;break;case ot.CODE_STOP:C=!0;break}break}Gi&&(w=w===ot.CODE_CODE_A?ot.CODE_CODE_B:ot.CODE_CODE_A)}let cr=re-Q;if(re=o.getNextUnset(re),!o.isRange(re,Math.min(o.getSize(),re+(re-Q)/2),!1))throw new G;if(nt-=ct*ye,nt%103!==ye)throw new M;let Ir=V.length;if(Ir===0)throw new G;Ir>0&&Ve&&(w===ot.CODE_CODE_C?V=V.substring(0,Ir-2):V=V.substring(0,Ir-1));let Wn=(u[1]+u[0])/2,zi=Q+cr/2,tn=E.length,Yn=new Uint8Array(tn);for(let Gi=0;Gi<tn;Gi++)Yn[Gi]=E[Gi];let Hi=[new Oe(Wn,r),new Oe(zi,r)];return new B(V,Yn,0,Hi,J.CODE_128,new Date().getTime())}}ot.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ot.MAX_AVG_VARIANCE=.25,ot.MAX_INDIVIDUAL_VARIANCE=.7,ot.CODE_SHIFT=98,ot.CODE_CODE_C=99,ot.CODE_CODE_B=100,ot.CODE_CODE_A=101,ot.CODE_FNC_1=102,ot.CODE_FNC_2=97,ot.CODE_FNC_3=96,ot.CODE_FNC_4_A=101,ot.CODE_FNC_4_B=100,ot.CODE_START_A=103,ot.CODE_START_B=104,ot.CODE_START_C=105,ot.CODE_STOP=106;let bi=(()=>{class _ extends at{constructor(o=!1,s=!1){super(),this.usingCheckDigit=o,this.extendedMode=s,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(o,s,c){let u=this.counters;u.fill(0),this.decodeRowResult="";let h=_.findAsteriskPattern(s,u),m=s.getNextSet(h[1]),E=s.getSize(),w,C;do{_.recordPattern(s,m,u);let ye=_.toNarrowWidePattern(u);if(ye<0)throw new G;w=_.patternToChar(ye),this.decodeRowResult+=w,C=m;for(let Le of u)m+=Le;m=s.getNextSet(m)}while(w!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let L=0;for(let ye of u)L+=ye;let V=m-C-L;if(m!==E&&V*2<L)throw new G;if(this.usingCheckDigit){let ye=this.decodeRowResult.length-1,Le=0;for(let nt=0;nt<ye;nt++)Le+=_.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(nt));if(this.decodeRowResult.charAt(ye)!==_.ALPHABET_STRING.charAt(Le%43))throw new M;this.decodeRowResult=this.decodeRowResult.substring(0,ye)}if(this.decodeRowResult.length===0)throw new G;let Q;this.extendedMode?Q=_.decodeExtended(this.decodeRowResult):Q=this.decodeRowResult;let re=(h[1]+h[0])/2,fe=C+L/2;return new B(Q,null,0,[new Oe(re,o),new Oe(fe,o)],J.CODE_39,new Date().getTime())}static findAsteriskPattern(o,s){let c=o.getSize(),u=o.getNextSet(0),h=0,m=u,E=!1,w=s.length;for(let C=u;C<c;C++)if(o.get(C)!==E)s[h]++;else{if(h===w-1){if(this.toNarrowWidePattern(s)===_.ASTERISK_ENCODING&&o.isRange(Math.max(0,m-Math.floor((C-m)/2)),m,!1))return[m,C];m+=s[0]+s[1],s.copyWithin(0,2,2+h-1),s[h-1]=0,s[h]=0,h--}else h++;s[h]=1,E=!E}throw new G}static toNarrowWidePattern(o){let s=o.length,c=0,u;do{let h=2147483647;for(let w of o)w<h&&w>c&&(h=w);c=h,u=0;let m=0,E=0;for(let w=0;w<s;w++){let C=o[w];C>c&&(E|=1<<s-1-w,u++,m+=C)}if(u===3){for(let w=0;w<s&&u>0;w++){let C=o[w];if(C>c&&(u--,C*2>=m))return-1}return E}}while(u>3);return-1}static patternToChar(o){for(let s=0;s<_.CHARACTER_ENCODINGS.length;s++)if(_.CHARACTER_ENCODINGS[s]===o)return _.ALPHABET_STRING.charAt(s);if(o===_.ASTERISK_ENCODING)return"*";throw new G}static decodeExtended(o){let s=o.length,c="";for(let u=0;u<s;u++){let h=o.charAt(u);if(h==="+"||h==="$"||h==="%"||h==="/"){let m=o.charAt(u+1),E="\0";switch(h){case"+":if(m>="A"&&m<="Z")E=String.fromCharCode(m.charCodeAt(0)+32);else throw new ce;break;case"$":if(m>="A"&&m<="Z")E=String.fromCharCode(m.charCodeAt(0)-64);else throw new ce;break;case"%":if(m>="A"&&m<="E")E=String.fromCharCode(m.charCodeAt(0)-38);else if(m>="F"&&m<="J")E=String.fromCharCode(m.charCodeAt(0)-11);else if(m>="K"&&m<="O")E=String.fromCharCode(m.charCodeAt(0)+16);else if(m>="P"&&m<="T")E=String.fromCharCode(m.charCodeAt(0)+43);else if(m==="U")E="\0";else if(m==="V")E="@";else if(m==="W")E="`";else if(m==="X"||m==="Y"||m==="Z")E="\x7F";else throw new ce;break;case"/":if(m>="A"&&m<="O")E=String.fromCharCode(m.charCodeAt(0)-32);else if(m==="Z")E=":";else throw new ce;break}c+=E,u++}else c+=h}return c}}return _.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",_.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],_.ASTERISK_ENCODING=148,_})();class Ei extends at{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(r,o,s){let c=this.decodeStart(o),u=this.decodeEnd(o),h=new W;Ei.decodeMiddle(o,c[1],u[0],h);let m=h.toString(),E=null;s!=null&&(E=s.get(xe.ALLOWED_LENGTHS)),E==null&&(E=Ei.DEFAULT_ALLOWED_LENGTHS);let w=m.length,C=!1,L=0;for(let re of E){if(w===re){C=!0;break}re>L&&(L=re)}if(!C&&w>L&&(C=!0),!C)throw new ce;let V=[new Oe(c[1],r),new Oe(u[0],r)];return new B(m,null,0,V,J.ITF,new Date().getTime())}static decodeMiddle(r,o,s,c){let u=new Int32Array(10),h=new Int32Array(5),m=new Int32Array(5);for(u.fill(0),h.fill(0),m.fill(0);o<s;){at.recordPattern(r,o,u);for(let w=0;w<5;w++){let C=2*w;h[w]=u[C],m[w]=u[C+1]}let E=Ei.decodeDigit(h);c.append(E.toString()),E=this.decodeDigit(m),c.append(E.toString()),u.forEach(function(w){o+=w})}}decodeStart(r){let o=Ei.skipWhiteSpace(r),s=Ei.findGuardPattern(r,o,Ei.START_PATTERN);return this.narrowLineWidth=(s[1]-s[0])/4,this.validateQuietZone(r,s[0]),s}validateQuietZone(r,o){let s=this.narrowLineWidth*10;s=s<o?s:o;for(let c=o-1;s>0&&c>=0&&!r.get(c);c--)s--;if(s!==0)throw new G}static skipWhiteSpace(r){let o=r.getSize(),s=r.getNextSet(0);if(s===o)throw new G;return s}decodeEnd(r){r.reverse();try{let o=Ei.skipWhiteSpace(r),s;try{s=Ei.findGuardPattern(r,o,Ei.END_PATTERN_REVERSED[0])}catch(u){u instanceof G&&(s=Ei.findGuardPattern(r,o,Ei.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,s[0]);let c=s[0];return s[0]=r.getSize()-s[1],s[1]=r.getSize()-c,s}finally{r.reverse()}}static findGuardPattern(r,o,s){let c=s.length,u=new Int32Array(c),h=r.getSize(),m=!1,E=0,w=o;u.fill(0);for(let C=o;C<h;C++)if(r.get(C)!==m)u[E]++;else{if(E===c-1){if(at.patternMatchVariance(u,s,Ei.MAX_INDIVIDUAL_VARIANCE)<Ei.MAX_AVG_VARIANCE)return[w,C];w+=u[0]+u[1],A.arraycopy(u,2,u,0,E-1),u[E-1]=0,u[E]=0,E--}else E++;u[E]=1,m=!m}throw new G}static decodeDigit(r){let o=Ei.MAX_AVG_VARIANCE,s=-1,c=Ei.PATTERNS.length;for(let u=0;u<c;u++){let h=Ei.PATTERNS[u],m=at.patternMatchVariance(r,h,Ei.MAX_INDIVIDUAL_VARIANCE);m<o?(o=m,s=u):m===o&&(s=-1)}if(s>=0)return s%10;throw new G}}Ei.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ei.MAX_AVG_VARIANCE=.38,Ei.MAX_INDIVIDUAL_VARIANCE=.5,Ei.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ei.START_PATTERN=Int32Array.from([1,1,1,1]),Ei.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Kt extends at{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(r){let o=!1,s,c=0,u=Int32Array.from([0,0,0]);for(;!o;){u=Int32Array.from([0,0,0]),s=Kt.findGuardPattern(r,c,!1,this.START_END_PATTERN,u);let h=s[0];c=s[1];let m=h-(c-h);m>=0&&(o=r.isRange(m,h,!1))}return s}static checkChecksum(r){return Kt.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let o=r.length;if(o===0)return!1;let s=parseInt(r.charAt(o-1),10);return Kt.getStandardUPCEANChecksum(r.substring(0,o-1))===s}static getStandardUPCEANChecksum(r){let o=r.length,s=0;for(let c=o-1;c>=0;c-=2){let u=r.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new ce;s+=u}s*=3;for(let c=o-2;c>=0;c-=2){let u=r.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new ce;s+=u}return(1e3-s)%10}static decodeEnd(r,o){return Kt.findGuardPattern(r,o,!1,Kt.START_END_PATTERN,new Int32Array(Kt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(r,o,s,c){return this.findGuardPattern(r,o,s,c,new Int32Array(c.length))}static findGuardPattern(r,o,s,c,u){let h=r.getSize();o=s?r.getNextUnset(o):r.getNextSet(o);let m=0,E=o,w=c.length,C=s;for(let L=o;L<h;L++)if(r.get(L)!==C)u[m]++;else{if(m===w-1){if(at.patternMatchVariance(u,c,Kt.MAX_INDIVIDUAL_VARIANCE)<Kt.MAX_AVG_VARIANCE)return Int32Array.from([E,L]);E+=u[0]+u[1];let V=u.slice(2,u.length-1);for(let Q=0;Q<m-1;Q++)u[Q]=V[Q];u[m-1]=0,u[m]=0,m--}else m++;u[m]=1,C=!C}throw new G}static decodeDigit(r,o,s,c){this.recordPattern(r,s,o);let u=this.MAX_AVG_VARIANCE,h=-1,m=c.length;for(let E=0;E<m;E++){let w=c[E],C=at.patternMatchVariance(o,w,Kt.MAX_INDIVIDUAL_VARIANCE);C<u&&(u=C,h=E)}if(h>=0)return h;throw new G}}Kt.MAX_AVG_VARIANCE=.48,Kt.MAX_INDIVIDUAL_VARIANCE=.7,Kt.START_END_PATTERN=Int32Array.from([1,1,1]),Kt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Kt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Kt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class en{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,o,s){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(o,s,c),h=c.toString(),m=en.parseExtensionString(h),E=[new Oe((s[0]+s[1])/2,r),new Oe(u,r)],w=new B(h,null,0,E,J.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&w.putAllMetadata(m),w}decodeMiddle(r,o,s){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),h=o[1],m=0;for(let w=0;w<5&&h<u;w++){let C=Kt.decodeDigit(r,c,h,Kt.L_AND_G_PATTERNS);s+=String.fromCharCode(48+C%10);for(let L of c)h+=L;C>=10&&(m|=1<<4-w),w!==4&&(h=r.getNextSet(h),h=r.getNextUnset(h))}if(s.length!==5)throw new G;let E=this.determineCheckDigit(m);if(en.extensionChecksum(s.toString())!==E)throw new G;return h}static extensionChecksum(r){let o=r.length,s=0;for(let c=o-2;c>=0;c-=2)s+=r.charAt(c).charCodeAt(0)-48;s*=3;for(let c=o-1;c>=0;c-=2)s+=r.charAt(c).charCodeAt(0)-48;return s*=3,s%10}determineCheckDigit(r){for(let o=0;o<10;o++)if(r===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new G}static parseExtensionString(r){if(r.length!==5)return null;let o=en.parseExtension5String(r);return o==null?null:new Map([[ve.SUGGESTED_PRICE,o]])}static parseExtension5String(r){let o;switch(r.charAt(0)){case"0":o="\xA3";break;case"5":o="$";break;case"9":switch(r){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let s=parseInt(r.substring(1)),c=(s/100).toString(),u=s%100,h=u<10?"0"+u:u.toString();return o+c+"."+h}}class Mo{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,o,s){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(o,s,c),h=c.toString(),m=Mo.parseExtensionString(h),E=[new Oe((s[0]+s[1])/2,r),new Oe(u,r)],w=new B(h,null,0,E,J.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&w.putAllMetadata(m),w}decodeMiddle(r,o,s){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),h=o[1],m=0;for(let E=0;E<2&&h<u;E++){let w=Kt.decodeDigit(r,c,h,Kt.L_AND_G_PATTERNS);s+=String.fromCharCode(48+w%10);for(let C of c)h+=C;w>=10&&(m|=1<<1-E),E!==1&&(h=r.getNextSet(h),h=r.getNextUnset(h))}if(s.length!==2)throw new G;if(parseInt(s.toString())%4!==m)throw new G;return h}static parseExtensionString(r){return r.length!==2?null:new Map([[ve.ISSUE_NUMBER,parseInt(r)]])}}class Vi{static decodeRow(r,o,s){let c=Kt.findGuardPattern(o,s,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new en().decodeRow(r,o,c)}catch{return new Mo().decodeRow(r,o,c)}}}Vi.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class xi extends Kt{constructor(){super(),this.decodeRowStringBuffer="",xi.L_AND_G_PATTERNS=xi.L_PATTERNS.map(r=>Int32Array.from(r));for(let r=10;r<20;r++){let o=xi.L_PATTERNS[r-10],s=new Int32Array(o.length);for(let c=0;c<o.length;c++)s[c]=o[o.length-c-1];xi.L_AND_G_PATTERNS[r]=s}}decodeRow(r,o,s){let c=xi.findStartGuardPattern(o),u=s==null?null:s.get(xe.NEED_RESULT_POINT_CALLBACK);if(u!=null){let Ve=new Oe((c[0]+c[1])/2,r);u.foundPossibleResultPoint(Ve)}let h=this.decodeMiddle(o,c,this.decodeRowStringBuffer),m=h.rowOffset,E=h.resultString;if(u!=null){let Ve=new Oe(m,r);u.foundPossibleResultPoint(Ve)}let w=this.decodeEnd(o,m);if(u!=null){let Ve=new Oe((w[0]+w[1])/2,r);u.foundPossibleResultPoint(Ve)}let C=w[1],L=C+(C-w[0]);if(L>=o.getSize()||!o.isRange(C,L,!1))throw new G;let V=E.toString();if(V.length<8)throw new ce;if(!xi.checkChecksum(V))throw new M;let Q=(c[1]+c[0])/2,re=(w[1]+w[0])/2,fe=this.getBarcodeFormat(),ye=[new Oe(Q,r),new Oe(re,r)],Le=new B(V,null,0,ye,fe,new Date().getTime()),nt=0;try{let Ve=Vi.decodeRow(r,o,w[1]);Le.putMetadata(ve.UPC_EAN_EXTENSION,Ve.getText()),Le.putAllMetadata(Ve.getResultMetadata()),Le.addResultPoints(Ve.getResultPoints()),nt=Ve.getText().length}catch{}let ct=s==null?null:s.get(xe.ALLOWED_EAN_EXTENSIONS);if(ct!=null){let Ve=!1;for(let ni in ct)if(nt.toString()===ni){Ve=!0;break}if(!Ve)throw new G}return Le}decodeEnd(r,o){return xi.findGuardPattern(r,o,!1,xi.START_END_PATTERN,new Int32Array(xi.START_END_PATTERN.length).fill(0))}static checkChecksum(r){return xi.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let o=r.length;if(o===0)return!1;let s=parseInt(r.charAt(o-1),10);return xi.getStandardUPCEANChecksum(r.substring(0,o-1))===s}static getStandardUPCEANChecksum(r){let o=r.length,s=0;for(let c=o-1;c>=0;c-=2){let u=r.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new ce;s+=u}s*=3;for(let c=o-2;c>=0;c-=2){let u=r.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new ce;s+=u}return(1e3-s)%10}}let vn=(()=>{class _ extends xi{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,s,c){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=o.getSize(),m=s[1],E=0;for(let C=0;C<6&&m<h;C++){let L=xi.decodeDigit(o,u,m,xi.L_AND_G_PATTERNS);c+=String.fromCharCode(48+L%10);for(let V of u)m+=V;L>=10&&(E|=1<<5-C)}c=_.determineFirstDigit(c,E),m=xi.findGuardPattern(o,m,!0,xi.MIDDLE_PATTERN,new Int32Array(xi.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<6&&m<h;C++){let L=xi.decodeDigit(o,u,m,xi.L_PATTERNS);c+=String.fromCharCode(48+L);for(let V of u)m+=V}return{rowOffset:m,resultString:c}}getBarcodeFormat(){return J.EAN_13}static determineFirstDigit(o,s){for(let c=0;c<10;c++)if(s===this.FIRST_DIGIT_ENCODINGS[c])return o=String.fromCharCode(48+c)+o,o;throw new G}}return _.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],_})();class Lo extends xi{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,o,s){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),h=o[1];for(let E=0;E<4&&h<u;E++){let w=xi.decodeDigit(r,c,h,xi.L_PATTERNS);s+=String.fromCharCode(48+w);for(let C of c)h+=C}h=xi.findGuardPattern(r,h,!0,xi.MIDDLE_PATTERN,new Int32Array(xi.MIDDLE_PATTERN.length).fill(0))[1];for(let E=0;E<4&&h<u;E++){let w=xi.decodeDigit(r,c,h,xi.L_PATTERNS);s+=String.fromCharCode(48+w);for(let C of c)h+=C}return{rowOffset:h,resultString:s}}getBarcodeFormat(){return J.EAN_8}}class ra extends xi{constructor(){super(...arguments),this.ean13Reader=new vn}getBarcodeFormat(){return J.UPC_A}decode(r,o){return this.maybeReturnResult(this.ean13Reader.decode(r))}decodeRow(r,o,s){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,o,s))}decodeMiddle(r,o,s){return this.ean13Reader.decodeMiddle(r,o,s)}maybeReturnResult(r){let o=r.getText();if(o.charAt(0)==="0"){let s=new B(o.substring(1),null,null,r.getResultPoints(),J.UPC_A);return r.getResultMetadata()!=null&&s.putAllMetadata(r.getResultMetadata()),s}else throw new G}reset(){this.ean13Reader.reset()}}class Oi extends xi{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(r,o,s){let c=this.decodeMiddleCounters.map(w=>w);c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),h=o[1],m=0;for(let w=0;w<6&&h<u;w++){let C=Oi.decodeDigit(r,c,h,Oi.L_AND_G_PATTERNS);s+=String.fromCharCode(48+C%10);for(let L of c)h+=L;C>=10&&(m|=1<<5-w)}let E=Oi.determineNumSysAndCheckDigit(s,m);return{rowOffset:h,resultString:E}}decodeEnd(r,o){return Oi.findGuardPatternWithoutCounters(r,o,!0,Oi.MIDDLE_END_PATTERN)}checkChecksum(r){return xi.checkChecksum(Oi.convertUPCEtoUPCA(r))}static determineNumSysAndCheckDigit(r,o){for(let s=0;s<=1;s++)for(let c=0;c<10;c++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[s][c]){let u=String.fromCharCode(48+s),h=String.fromCharCode(48+c);return u+r+h}throw G.getNotFoundInstance()}getBarcodeFormat(){return J.UPC_E}static convertUPCEtoUPCA(r){let o=r.slice(1,7).split("").map(u=>u.charCodeAt(0)),s=new W;s.append(r.charAt(0));let c=o[5];switch(c){case 0:case 1:case 2:s.appendChars(o,0,2),s.append(c),s.append("0000"),s.appendChars(o,2,3);break;case 3:s.appendChars(o,0,3),s.append("00000"),s.appendChars(o,3,2);break;case 4:s.appendChars(o,0,4),s.append("00000"),s.append(o[4]);break;default:s.appendChars(o,0,5),s.append("0000"),s.append(c);break}return r.length>=8&&s.append(r.charAt(7)),s.toString()}}Oi.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Oi.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ii extends at{constructor(r){super();let o=r==null?null:r.get(xe.POSSIBLE_FORMATS),s=[];e(o)?(s.push(new vn),s.push(new ra),s.push(new Lo),s.push(new Oi)):(o.indexOf(J.EAN_13)>-1&&s.push(new vn),o.indexOf(J.UPC_A)>-1&&s.push(new ra),o.indexOf(J.EAN_8)>-1&&s.push(new Lo),o.indexOf(J.UPC_E)>-1&&s.push(new Oi)),this.readers=s}decodeRow(r,o,s){for(let c of this.readers)try{let u=c.decodeRow(r,o,s),h=u.getBarcodeFormat()===J.EAN_13&&u.getText().charAt(0)==="0",m=s==null?null:s.get(xe.POSSIBLE_FORMATS),E=m==null||m.includes(J.UPC_A);if(h&&E){let w=u.getRawBytes(),C=new B(u.getText().substring(1),w,w?w.length:null,u.getResultPoints(),J.UPC_A);return C.putAllMetadata(u.getResultMetadata()),C}return u}catch{}throw new G}reset(){for(let r of this.readers)r.reset()}}let wi=(()=>{class _ extends at{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(o,s){for(let c=0;c<s.length;c++)if(at.patternMatchVariance(o,s[c],_.MAX_INDIVIDUAL_VARIANCE)<_.MAX_AVG_VARIANCE)return c;throw new G}static count(o){return Et.sum(new Int32Array(o))}static increment(o,s){let c=0,u=s[0];for(let h=1;h<o.length;h++)s[h]>u&&(u=s[h],c=h);o[c]++}static decrement(o,s){let c=0,u=s[0];for(let h=1;h<o.length;h++)s[h]<u&&(u=s[h],c=h);o[c]--}static isFinderPattern(o){let s=o[0]+o[1],c=s+o[2]+o[3],u=s/c;if(u>=_.MIN_FINDER_PATTERN_RATIO&&u<=_.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,m=Number.MIN_SAFE_INTEGER;for(let E of o)E>m&&(m=E),E<h&&(h=E);return m<10*h}return!1}}return _.MAX_AVG_VARIANCE=.2,_.MAX_INDIVIDUAL_VARIANCE=.45,_.MIN_FINDER_PATTERN_RATIO=9.5/12,_.MAX_FINDER_PATTERN_RATIO=12.5/14,_})();class Do{constructor(r,o){this.value=r,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(r){if(!(r instanceof Do))return!1;let o=r;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Kn{constructor(r,o,s,c,u){this.value=r,this.startEnd=o,this.value=r,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new Oe(s,u)),this.resultPoints.push(new Oe(c,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(r){if(!(r instanceof Kn))return!1;let o=r;return this.value===o.value}hashCode(){return this.value}}class sr{constructor(){}static getRSSvalue(r,o,s){let c=0;for(let E of r)c+=E;let u=0,h=0,m=r.length;for(let E=0;E<m-1;E++){let w;for(w=1,h|=1<<E;w<r[E];w++,h&=~(1<<E)){let C=sr.combins(c-w-1,m-E-2);if(s&&h===0&&c-w-(m-E-1)>=m-E-1&&(C-=sr.combins(c-w-(m-E),m-E-2)),m-E-1>1){let L=0;for(let V=c-w-(m-E-2);V>o;V--)L+=sr.combins(c-w-V-1,m-E-3);C-=L*(m-1-E)}else c-w>o&&C--;u+=C}c-=w}return u}static combins(r,o){let s,c;r-o>o?(c=o,s=r-o):(c=r-o,s=o);let u=1,h=1;for(let m=r;m>s;m--)u*=m,h<=c&&(u/=h,h++);for(;h<=c;)u/=h,h++;return u}}class oa{static buildBitArray(r){let o=r.length*2-1;r[r.length-1].getRightChar()==null&&(o-=1);let s=12*o,c=new Y(s),u=0,m=r[0].getRightChar().getValue();for(let E=11;E>=0;--E)m&1<<E&&c.set(u),u++;for(let E=1;E<r.length;++E){let w=r[E],C=w.getLeftChar().getValue();for(let L=11;L>=0;--L)C&1<<L&&c.set(u),u++;if(w.getRightChar()!=null){let L=w.getRightChar().getValue();for(let V=11;V>=0;--V)L&1<<V&&c.set(u),u++}}return c}}class Ft{constructor(r,o){o?this.decodedInformation=null:(this.finished=r,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class yo{constructor(r){this.newPosition=r}getNewPosition(){return this.newPosition}}let Jn=(()=>{class _ extends yo{constructor(o,s){super(o),this.value=s}getValue(){return this.value}isFNC1(){return this.value===_.FNC1}}return _.FNC1="$",_})();class $n extends yo{constructor(r,o,s){super(r),s?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}let _n=(()=>{class _ extends yo{constructor(o,s,c){if(super(o),s<0||s>10||c<0||c>10)throw new ce;this.firstDigit=s,this.secondDigit=c}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===_.FNC1}isSecondDigitFNC1(){return this.secondDigit===_.FNC1}isAnyFNC1(){return this.firstDigit===_.FNC1||this.secondDigit===_.FNC1}}return _.FNC1=10,_})();class lt{constructor(){}static parseFieldsInGeneralPurpose(r){if(!r)return null;if(r.length<2)throw new G;let o=r.substring(0,2);for(let u of lt.TWO_DIGIT_DATA_LENGTH)if(u[0]===o)return u[1]===lt.VARIABLE_LENGTH?lt.processVariableAI(2,u[2],r):lt.processFixedAI(2,u[1],r);if(r.length<3)throw new G;let s=r.substring(0,3);for(let u of lt.THREE_DIGIT_DATA_LENGTH)if(u[0]===s)return u[1]===lt.VARIABLE_LENGTH?lt.processVariableAI(3,u[2],r):lt.processFixedAI(3,u[1],r);for(let u of lt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===s)return u[1]===lt.VARIABLE_LENGTH?lt.processVariableAI(4,u[2],r):lt.processFixedAI(4,u[1],r);if(r.length<4)throw new G;let c=r.substring(0,4);for(let u of lt.FOUR_DIGIT_DATA_LENGTH)if(u[0]===c)return u[1]===lt.VARIABLE_LENGTH?lt.processVariableAI(4,u[2],r):lt.processFixedAI(4,u[1],r);throw new G}static processFixedAI(r,o,s){if(s.length<r)throw new G;let c=s.substring(0,r);if(s.length<r+o)throw new G;let u=s.substring(r,r+o),h=s.substring(r+o),m="("+c+")"+u,E=lt.parseFieldsInGeneralPurpose(h);return E==null?m:m+E}static processVariableAI(r,o,s){let c=s.substring(0,r),u;s.length<r+o?u=s.length:u=r+o;let h=s.substring(r,u),m=s.substring(u),E="("+c+")"+h,w=lt.parseFieldsInGeneralPurpose(m);return w==null?E:E+w}}lt.VARIABLE_LENGTH=[],lt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",lt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",lt.VARIABLE_LENGTH,20],["22",lt.VARIABLE_LENGTH,29],["30",lt.VARIABLE_LENGTH,8],["37",lt.VARIABLE_LENGTH,8],["90",lt.VARIABLE_LENGTH,30],["91",lt.VARIABLE_LENGTH,30],["92",lt.VARIABLE_LENGTH,30],["93",lt.VARIABLE_LENGTH,30],["94",lt.VARIABLE_LENGTH,30],["95",lt.VARIABLE_LENGTH,30],["96",lt.VARIABLE_LENGTH,30],["97",lt.VARIABLE_LENGTH,3],["98",lt.VARIABLE_LENGTH,30],["99",lt.VARIABLE_LENGTH,30]],lt.THREE_DIGIT_DATA_LENGTH=[["240",lt.VARIABLE_LENGTH,30],["241",lt.VARIABLE_LENGTH,30],["242",lt.VARIABLE_LENGTH,6],["250",lt.VARIABLE_LENGTH,30],["251",lt.VARIABLE_LENGTH,30],["253",lt.VARIABLE_LENGTH,17],["254",lt.VARIABLE_LENGTH,20],["400",lt.VARIABLE_LENGTH,30],["401",lt.VARIABLE_LENGTH,30],["402",17],["403",lt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",lt.VARIABLE_LENGTH,20],["421",lt.VARIABLE_LENGTH,15],["422",3],["423",lt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],lt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",lt.VARIABLE_LENGTH,15],["391",lt.VARIABLE_LENGTH,18],["392",lt.VARIABLE_LENGTH,15],["393",lt.VARIABLE_LENGTH,18],["703",lt.VARIABLE_LENGTH,30]],lt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",lt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",lt.VARIABLE_LENGTH,20],["8003",lt.VARIABLE_LENGTH,30],["8004",lt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",lt.VARIABLE_LENGTH,30],["8008",lt.VARIABLE_LENGTH,12],["8018",18],["8020",lt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",lt.VARIABLE_LENGTH,70],["8200",lt.VARIABLE_LENGTH,70]];class gr{constructor(r){this.buffer=new W,this.information=r}decodeAllCodes(r,o){let s=o,c=null;do{let u=this.decodeGeneralPurposeField(s,c),h=lt.parseFieldsInGeneralPurpose(u.getNewString());if(h!=null&&r.append(h),u.isRemaining()?c=""+u.getRemainingValue():c=null,s===u.getNewPosition())break;s=u.getNewPosition()}while(!0);return r.toString()}isStillNumeric(r){if(r+7>this.information.getSize())return r+4<=this.information.getSize();for(let o=r;o<r+3;++o)if(this.information.get(o))return!0;return this.information.get(r+3)}decodeNumeric(r){if(r+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(r,4);return u===0?new _n(this.information.getSize(),_n.FNC1,_n.FNC1):new _n(this.information.getSize(),u-1,_n.FNC1)}let o=this.extractNumericValueFromBitArray(r,7),s=(o-8)/11,c=(o-8)%11;return new _n(r+7,s,c)}extractNumericValueFromBitArray(r,o){return gr.extractNumericValueFromBitArray(this.information,r,o)}static extractNumericValueFromBitArray(r,o,s){let c=0;for(let u=0;u<s;++u)r.get(o+u)&&(c|=1<<s-u-1);return c}decodeGeneralPurposeField(r,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(r);let s=this.parseBlocks();return s!=null&&s.isRemaining()?new $n(this.current.getPosition(),this.buffer.toString(),s.getRemainingValue()):new $n(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let r,o;do{let s=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),r=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),r=o.isFinished()):(o=this.parseNumericBlock(),r=o.isFinished()),!(s!==this.current.getPosition())&&!r)break}while(!r);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let r=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFirstDigitFNC1()){let o;return r.isSecondDigitFNC1()?o=new $n(this.current.getPosition(),this.buffer.toString()):o=new $n(this.current.getPosition(),this.buffer.toString(),r.getSecondDigit()),new Ft(!0,o)}if(this.buffer.append(r.getFirstDigit()),r.isSecondDigitFNC1()){let o=new $n(this.current.getPosition(),this.buffer.toString());return new Ft(!0,o)}this.buffer.append(r.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ft(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let r=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let o=new $n(this.current.getPosition(),this.buffer.toString());return new Ft(!0,o)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ft(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let r=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let o=new $n(this.current.getPosition(),this.buffer.toString());return new Ft(!0,o)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ft(!1)}isStillIsoIec646(r){if(r+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,5);if(o>=5&&o<16)return!0;if(r+7>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(r,7);if(s>=64&&s<116)return!0;if(r+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(r,8);return c>=232&&c<253}decodeIsoIec646(r){let o=this.extractNumericValueFromBitArray(r,5);if(o===15)return new Jn(r+5,Jn.FNC1);if(o>=5&&o<15)return new Jn(r+5,"0"+(o-5));let s=this.extractNumericValueFromBitArray(r,7);if(s>=64&&s<90)return new Jn(r+7,""+(s+1));if(s>=90&&s<116)return new Jn(r+7,""+(s+7));let c=this.extractNumericValueFromBitArray(r,8),u;switch(c){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new ce}return new Jn(r+8,u)}isStillAlpha(r){if(r+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,5);if(o>=5&&o<16)return!0;if(r+6>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(r,6);return s>=16&&s<63}decodeAlphanumeric(r){let o=this.extractNumericValueFromBitArray(r,5);if(o===15)return new Jn(r+5,Jn.FNC1);if(o>=5&&o<15)return new Jn(r+5,"0"+(o-5));let s=this.extractNumericValueFromBitArray(r,6);if(s>=32&&s<58)return new Jn(r+6,""+(s+33));let c;switch(s){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new pt("Decoding invalid alphanumeric value: "+s)}return new Jn(r+6,c)}isAlphaTo646ToAlphaLatch(r){if(r+1>this.information.getSize())return!1;for(let o=0;o<5&&o+r<this.information.getSize();++o)if(o===2){if(!this.information.get(r+2))return!1}else if(this.information.get(r+o))return!1;return!0}isAlphaOr646ToNumericLatch(r){if(r+3>this.information.getSize())return!1;for(let o=r;o<r+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(r){if(r+1>this.information.getSize())return!1;for(let o=0;o<4&&o+r<this.information.getSize();++o)if(this.information.get(r+o))return!1;return!0}}class Ua{constructor(r){this.information=r,this.generalDecoder=new gr(r)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}let lr=(()=>{class _ extends Ua{constructor(o){super(o)}encodeCompressedGtin(o,s){o.append("(01)");let c=o.length();o.append("9"),this.encodeCompressedGtinWithoutAI(o,s,c)}encodeCompressedGtinWithoutAI(o,s,c){for(let u=0;u<4;++u){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(s+10*u,10);h/100===0&&o.append("0"),h/10===0&&o.append("0"),o.append(h)}_.appendCheckDigit(o,c)}static appendCheckDigit(o,s){let c=0;for(let u=0;u<13;u++){let h=o.charAt(u+s).charCodeAt(0)-48;c+=u&1?h:3*h}c=10-c%10,c===10&&(c=0),o.append(c)}}return _.GTIN_SIZE=40,_})(),Ho=(()=>{class _ extends lr{constructor(o){super(o)}parseInformation(){let o=new W;o.append("(01)");let s=o.length(),c=this.getGeneralDecoder().extractNumericValueFromBitArray(_.HEADER_SIZE,4);return o.append(c),this.encodeCompressedGtinWithoutAI(o,_.HEADER_SIZE+4,s),this.getGeneralDecoder().decodeAllCodes(o,_.HEADER_SIZE+44)}}return _.HEADER_SIZE=4,_})(),Go=(()=>{class _ extends Ua{constructor(o){super(o)}parseInformation(){let o=new W;return this.getGeneralDecoder().decodeAllCodes(o,_.HEADER_SIZE)}}return _.HEADER_SIZE=5,_})();class ro extends lr{constructor(r){super(r)}encodeCompressedWeight(r,o,s){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(o,s);this.addWeightCode(r,c);let u=this.checkWeight(c),h=1e5;for(let m=0;m<5;++m)u/h===0&&r.append("0"),h/=10;r.append(u)}}let Wo=(()=>{class _ extends ro{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()!=_.HEADER_SIZE+ro.GTIN_SIZE+_.WEIGHT_SIZE)throw new G;let o=new W;return this.encodeCompressedGtin(o,_.HEADER_SIZE),this.encodeCompressedWeight(o,_.HEADER_SIZE+ro.GTIN_SIZE,_.WEIGHT_SIZE),o.toString()}}return _.HEADER_SIZE=5,_.WEIGHT_SIZE=15,_})();class Oo extends Wo{constructor(r){super(r)}addWeightCode(r,o){r.append("(3103)")}checkWeight(r){return r}}class aa extends Wo{constructor(r){super(r)}addWeightCode(r,o){o<1e4?r.append("(3202)"):r.append("(3203)")}checkWeight(r){return r<1e4?r:r-1e4}}let os=(()=>{class _ extends lr{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<_.HEADER_SIZE+lr.GTIN_SIZE)throw new G;let o=new W;this.encodeCompressedGtin(o,_.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(_.HEADER_SIZE+lr.GTIN_SIZE,_.LAST_DIGIT_SIZE);o.append("(392"),o.append(s),o.append(")");let c=this.getGeneralDecoder().decodeGeneralPurposeField(_.HEADER_SIZE+lr.GTIN_SIZE+_.LAST_DIGIT_SIZE,null);return o.append(c.getNewString()),o.toString()}}return _.HEADER_SIZE=8,_.LAST_DIGIT_SIZE=2,_})(),bs=(()=>{class _ extends lr{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<_.HEADER_SIZE+lr.GTIN_SIZE)throw new G;let o=new W;this.encodeCompressedGtin(o,_.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(_.HEADER_SIZE+lr.GTIN_SIZE,_.LAST_DIGIT_SIZE);o.append("(393"),o.append(s),o.append(")");let c=this.getGeneralDecoder().extractNumericValueFromBitArray(_.HEADER_SIZE+lr.GTIN_SIZE+_.LAST_DIGIT_SIZE,_.FIRST_THREE_DIGITS_SIZE);c/100==0&&o.append("0"),c/10==0&&o.append("0"),o.append(c);let u=this.getGeneralDecoder().decodeGeneralPurposeField(_.HEADER_SIZE+lr.GTIN_SIZE+_.LAST_DIGIT_SIZE+_.FIRST_THREE_DIGITS_SIZE,null);return o.append(u.getNewString()),o.toString()}}return _.HEADER_SIZE=8,_.LAST_DIGIT_SIZE=2,_.FIRST_THREE_DIGITS_SIZE=10,_})(),wo=(()=>{class _ extends ro{constructor(o,s,c){super(o),this.dateCode=c,this.firstAIdigits=s}parseInformation(){if(this.getInformation().getSize()!=_.HEADER_SIZE+_.GTIN_SIZE+_.WEIGHT_SIZE+_.DATE_SIZE)throw new G;let o=new W;return this.encodeCompressedGtin(o,_.HEADER_SIZE),this.encodeCompressedWeight(o,_.HEADER_SIZE+_.GTIN_SIZE,_.WEIGHT_SIZE),this.encodeCompressedDate(o,_.HEADER_SIZE+_.GTIN_SIZE+_.WEIGHT_SIZE),o.toString()}encodeCompressedDate(o,s){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(s,_.DATE_SIZE);if(c==38400)return;o.append("("),o.append(this.dateCode),o.append(")");let u=c%32;c/=32;let h=c%12+1;c/=12;let m=c;m/10==0&&o.append("0"),o.append(m),h/10==0&&o.append("0"),o.append(h),u/10==0&&o.append("0"),o.append(u)}addWeightCode(o,s){o.append("("),o.append(this.firstAIdigits),o.append(s/1e5),o.append(")")}checkWeight(o){return o%1e5}}return _.HEADER_SIZE=8,_.WEIGHT_SIZE=20,_.DATE_SIZE=16,_})();function as(_){try{if(_.get(1))return new Ho(_);if(!_.get(2))return new Go(_);switch(gr.extractNumericValueFromBitArray(_,1,4)){case 4:return new Oo(_);case 5:return new aa(_)}switch(gr.extractNumericValueFromBitArray(_,1,5)){case 12:return new os(_);case 13:return new bs(_)}switch(gr.extractNumericValueFromBitArray(_,1,7)){case 56:return new wo(_,"310","11");case 57:return new wo(_,"320","11");case 58:return new wo(_,"310","13");case 59:return new wo(_,"320","13");case 60:return new wo(_,"310","15");case 61:return new wo(_,"320","15");case 62:return new wo(_,"310","17");case 63:return new wo(_,"320","17")}}catch(r){throw console.log(r),new pt("unknown decoder: "+_)}}class _o{constructor(r,o,s,c){this.leftchar=r,this.rightchar=o,this.finderpattern=s,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(r,o){return r instanceof _o?_o.equalsOrNull(r.leftchar,o.leftchar)&&_o.equalsOrNull(r.rightchar,o.rightchar)&&_o.equalsOrNull(r.finderpattern,o.finderpattern):!1}static equalsOrNull(r,o){return r===null?o===null:_o.equals(r,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Cs{constructor(r,o,s){this.pairs=r,this.rowNumber=o,this.wasReversed=s}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(r){return this.checkEqualitity(this,r)}toString(){return"{ "+this.pairs+" }"}equals(r,o){return r instanceof Cs?this.checkEqualitity(r,o)&&r.wasReversed===o.wasReversed:!1}checkEqualitity(r,o){if(!r||!o)return;let s;return r.forEach((c,u)=>{o.forEach(h=>{c.getLeftChar().getValue()===h.getLeftChar().getValue()&&c.getRightChar().getValue()===h.getRightChar().getValue()&&c.getFinderPatter().getValue()===h.getFinderPatter().getValue()&&(s=!0)})}),s}}class tt extends wi{constructor(r){super(...arguments),this.pairs=new Array(tt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=r===!0}decodeRow(r,o,s){this.pairs.length=0,this.startFromEven=!1;try{return tt.constructResult(this.decodeRow2pairs(r,o))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,tt.constructResult(this.decodeRow2pairs(r,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(r,o){let s=!1;for(;!s;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,r))}catch(u){if(u instanceof G){if(!this.pairs.length)throw new G;s=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(r,!1),c){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new G}checkRowsBoolean(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(s){this.verbose&&console.log(s)}return r&&(this.rows=this.rows.reverse()),o}checkRows(r,o){for(let s=o;s<this.rows.length;s++){let c=this.rows[s];this.pairs.length=0;for(let h of r)this.pairs.push(h.getPairs());if(this.pairs.push(c.getPairs()),!tt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(r);u.push(c);try{return this.checkRows(u,s+1)}catch(h){this.verbose&&console.log(h)}}throw new G}static isValidSequence(r){for(let o of tt.FINDER_PATTERN_SEQUENCES){if(r.length>o.length)continue;let s=!0;for(let c=0;c<r.length;c++)if(r[c].getFinderPattern().getValue()!=o[c]){s=!1;break}if(s)return!0}return!1}storeRow(r,o){let s=0,c=!1,u=!1;for(;s<this.rows.length;){let h=this.rows[s];if(h.getRowNumber()>r){u=h.isEquivalent(this.pairs);break}c=h.isEquivalent(this.pairs),s++}u||c||tt.isPartialRow(this.pairs,this.rows)||(this.rows.push(s,new Cs(this.pairs,r,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(r,o){for(let s of o)if(s.getPairs().length!==r.length){for(let c of s.getPairs())for(let u of r)if(_o.equals(c,u))break}}static isPartialRow(r,o){for(let s of o){let c=!0;for(let u of r){let h=!1;for(let m of s.getPairs())if(u.equals(m)){h=!0;break}if(!h){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(r){let o=oa.buildBitArray(r),c=as(o).parseInformation(),u=r[0].getFinderPattern().getResultPoints(),h=r[r.length-1].getFinderPattern().getResultPoints(),m=[u[0],u[1],h[0],h[1]];return new B(c,null,null,m,J.RSS_EXPANDED,null)}checkChecksum(){let r=this.pairs.get(0),o=r.getLeftChar(),s=r.getRightChar();if(s==null)return!1;let c=s.getChecksumPortion(),u=2;for(let m=1;m<this.pairs.size();++m){let E=this.pairs.get(m);c+=E.getLeftChar().getChecksumPortion(),u++;let w=E.getRightChar();w!=null&&(c+=w.getChecksumPortion(),u++)}return c%=211,211*(u-4)+c==o.getValue()}static getNextSecondBar(r,o){let s;return r.get(o)?(s=r.getNextUnset(o),s=r.getNextSet(s)):(s=r.getNextSet(o),s=r.getNextUnset(s)),s}retrieveNextPair(r,o,s){let c=o.length%2==0;this.startFromEven&&(c=!c);let u,h=!0,m=-1;do this.findNextPair(r,o,m),u=this.parseFoundFinderPattern(r,s,c),u==null?m=tt.getNextSecondBar(r,this.startEnd[0]):h=!1;while(h);let E=this.decodeDataCharacter(r,u,c,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new G;let w;try{w=this.decodeDataCharacter(r,u,c,!1)}catch(C){w=null,this.verbose&&console.log(C)}return new _o(E,w,u,!0)}isEmptyPair(r){return r.length===0}findNextPair(r,o,s){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),h;s>=0?h=s:this.isEmptyPair(o)?h=0:h=o[o.length-1].getFinderPattern().getStartEnd()[1];let m=o.length%2!=0;this.startFromEven&&(m=!m);let E=!1;for(;h<u&&(E=!r.get(h),!!E);)h++;let w=0,C=h;for(let L=h;L<u;L++)if(r.get(L)!=E)c[w]++;else{if(w==3){if(m&&tt.reverseCounters(c),tt.isFinderPattern(c)){this.startEnd[0]=C,this.startEnd[1]=L;return}m&&tt.reverseCounters(c),C+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,w--}else w++;c[w]=1,E=!E}throw new G}static reverseCounters(r){let o=r.length;for(let s=0;s<o/2;++s){let c=r[s];r[s]=r[o-s-1],r[o-s-1]=c}}parseFoundFinderPattern(r,o,s){let c,u,h;if(s){let w=this.startEnd[0]-1;for(;w>=0&&!r.get(w);)w--;w++,c=this.startEnd[0]-w,u=w,h=this.startEnd[1]}else u=this.startEnd[0],h=r.getNextUnset(this.startEnd[1]+1),c=h-this.startEnd[1];let m=this.getDecodeFinderCounters();A.arraycopy(m,0,m,1,m.length-1),m[0]=c;let E;try{E=this.parseFinderValue(m,tt.FINDER_PATTERNS)}catch{return null}return new Kn(E,[u,h],u,h,o)}decodeDataCharacter(r,o,s,c){let u=this.getDataCharacterCounters();for(let zi=0;zi<u.length;zi++)u[zi]=0;if(c)tt.recordPatternInReverse(r,o.getStartEnd()[0],u);else{tt.recordPattern(r,o.getStartEnd()[1],u);for(let zi=0,tn=u.length-1;zi<tn;zi++,tn--){let Yn=u[zi];u[zi]=u[tn],u[tn]=Yn}}let h=17,m=Et.sum(new Int32Array(u))/h,E=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(m-E)/E>.3)throw new G;let w=this.getOddCounts(),C=this.getEvenCounts(),L=this.getOddRoundingErrors(),V=this.getEvenRoundingErrors();for(let zi=0;zi<u.length;zi++){let tn=1*u[zi]/m,Yn=tn+.5;if(Yn<1){if(tn<.3)throw new G;Yn=1}else if(Yn>8){if(tn>8.7)throw new G;Yn=8}let Hi=zi/2;zi&1?(C[Hi]=Yn,V[Hi]=tn-Yn):(w[Hi]=Yn,L[Hi]=tn-Yn)}this.adjustOddEvenCounts(h);let Q=4*o.getValue()+(s?0:2)+(c?0:1)-1,re=0,fe=0;for(let zi=w.length-1;zi>=0;zi--){if(tt.isNotA1left(o,s,c)){let tn=tt.WEIGHTS[Q][2*zi];fe+=w[zi]*tn}re+=w[zi]}let ye=0;for(let zi=C.length-1;zi>=0;zi--)if(tt.isNotA1left(o,s,c)){let tn=tt.WEIGHTS[Q][2*zi+1];ye+=C[zi]*tn}let Le=fe+ye;if(re&1||re>13||re<4)throw new G;let nt=(13-re)/2,ct=tt.SYMBOL_WIDEST[nt],Ve=9-ct,ni=sr.getRSSvalue(w,ct,!0),Jt=sr.getRSSvalue(C,Ve,!1),cr=tt.EVEN_TOTAL_SUBSET[nt],Ir=tt.GSUM[nt],Wn=ni*cr+Jt+Ir;return new Do(Wn,Le)}static isNotA1left(r,o,s){return!(r.getValue()==0&&o&&s)}adjustOddEvenCounts(r){let o=Et.sum(new Int32Array(this.getOddCounts())),s=Et.sum(new Int32Array(this.getEvenCounts())),c=!1,u=!1;o>13?u=!0:o<4&&(c=!0);let h=!1,m=!1;s>13?m=!0:s<4&&(h=!0);let E=o+s-r,w=(o&1)==1,C=(s&1)==0;if(E==1)if(w){if(C)throw new G;u=!0}else{if(!C)throw new G;m=!0}else if(E==-1)if(w){if(C)throw new G;c=!0}else{if(!C)throw new G;h=!0}else if(E==0){if(w){if(!C)throw new G;o<s?(c=!0,m=!0):(u=!0,h=!0)}else if(C)throw new G}else throw new G;if(c){if(u)throw new G;tt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&tt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(m)throw new G;tt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&tt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}tt.SYMBOL_WIDEST=[7,5,4,3,1],tt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],tt.GSUM=[0,348,1388,2948,3988],tt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],tt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],tt.FINDER_PAT_A=0,tt.FINDER_PAT_B=1,tt.FINDER_PAT_C=2,tt.FINDER_PAT_D=3,tt.FINDER_PAT_E=4,tt.FINDER_PAT_F=5,tt.FINDER_PATTERN_SEQUENCES=[[tt.FINDER_PAT_A,tt.FINDER_PAT_A],[tt.FINDER_PAT_A,tt.FINDER_PAT_B,tt.FINDER_PAT_B],[tt.FINDER_PAT_A,tt.FINDER_PAT_C,tt.FINDER_PAT_B,tt.FINDER_PAT_D],[tt.FINDER_PAT_A,tt.FINDER_PAT_E,tt.FINDER_PAT_B,tt.FINDER_PAT_D,tt.FINDER_PAT_C],[tt.FINDER_PAT_A,tt.FINDER_PAT_E,tt.FINDER_PAT_B,tt.FINDER_PAT_D,tt.FINDER_PAT_D,tt.FINDER_PAT_F],[tt.FINDER_PAT_A,tt.FINDER_PAT_E,tt.FINDER_PAT_B,tt.FINDER_PAT_D,tt.FINDER_PAT_E,tt.FINDER_PAT_F,tt.FINDER_PAT_F],[tt.FINDER_PAT_A,tt.FINDER_PAT_A,tt.FINDER_PAT_B,tt.FINDER_PAT_B,tt.FINDER_PAT_C,tt.FINDER_PAT_C,tt.FINDER_PAT_D,tt.FINDER_PAT_D],[tt.FINDER_PAT_A,tt.FINDER_PAT_A,tt.FINDER_PAT_B,tt.FINDER_PAT_B,tt.FINDER_PAT_C,tt.FINDER_PAT_C,tt.FINDER_PAT_D,tt.FINDER_PAT_E,tt.FINDER_PAT_E],[tt.FINDER_PAT_A,tt.FINDER_PAT_A,tt.FINDER_PAT_B,tt.FINDER_PAT_B,tt.FINDER_PAT_C,tt.FINDER_PAT_C,tt.FINDER_PAT_D,tt.FINDER_PAT_E,tt.FINDER_PAT_F,tt.FINDER_PAT_F],[tt.FINDER_PAT_A,tt.FINDER_PAT_A,tt.FINDER_PAT_B,tt.FINDER_PAT_B,tt.FINDER_PAT_C,tt.FINDER_PAT_D,tt.FINDER_PAT_D,tt.FINDER_PAT_E,tt.FINDER_PAT_E,tt.FINDER_PAT_F,tt.FINDER_PAT_F]],tt.MAX_PAIRS=11;class u0 extends Do{constructor(r,o,s){super(r,o),this.count=0,this.finderPattern=s}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class cn extends wi{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(r,o,s){let c=this.decodePair(o,!1,r,s);cn.addOrTally(this.possibleLeftPairs,c),o.reverse();let u=this.decodePair(o,!0,r,s);cn.addOrTally(this.possibleRightPairs,u),o.reverse();for(let h of this.possibleLeftPairs)if(h.getCount()>1){for(let m of this.possibleRightPairs)if(m.getCount()>1&&cn.checkChecksum(h,m))return cn.constructResult(h,m)}throw new G}static addOrTally(r,o){if(o==null)return;let s=!1;for(let c of r)if(c.getValue()===o.getValue()){c.incrementCount(),s=!0;break}s||r.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(r,o){let s=4537077*r.getValue()+o.getValue(),c=new String(s).toString(),u=new W;for(let w=13-c.length;w>0;w--)u.append("0");u.append(c);let h=0;for(let w=0;w<13;w++){let C=u.charAt(w).charCodeAt(0)-48;h+=w&1?C:3*C}h=10-h%10,h===10&&(h=0),u.append(h.toString());let m=r.getFinderPattern().getResultPoints(),E=o.getFinderPattern().getResultPoints();return new B(u.toString(),null,0,[m[0],m[1],E[0],E[1]],J.RSS_14,new Date().getTime())}static checkChecksum(r,o){let s=(r.getChecksumPortion()+16*o.getChecksumPortion())%79,c=9*r.getFinderPattern().getValue()+o.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,s===c}decodePair(r,o,s,c){try{let u=this.findFinderPattern(r,o),h=this.parseFoundFinderPattern(r,s,o,u),m=c==null?null:c.get(xe.NEED_RESULT_POINT_CALLBACK);if(m!=null){let C=(u[0]+u[1])/2;o&&(C=r.getSize()-1-C),m.foundPossibleResultPoint(new Oe(C,s))}let E=this.decodeDataCharacter(r,h,!0),w=this.decodeDataCharacter(r,h,!1);return new u0(1597*E.getValue()+w.getValue(),E.getChecksumPortion()+4*w.getChecksumPortion(),h)}catch{return null}}decodeDataCharacter(r,o,s){let c=this.getDataCharacterCounters();for(let ye=0;ye<c.length;ye++)c[ye]=0;if(s)at.recordPatternInReverse(r,o.getStartEnd()[0],c);else{at.recordPattern(r,o.getStartEnd()[1]+1,c);for(let ye=0,Le=c.length-1;ye<Le;ye++,Le--){let nt=c[ye];c[ye]=c[Le],c[Le]=nt}}let u=s?16:15,h=Et.sum(new Int32Array(c))/u,m=this.getOddCounts(),E=this.getEvenCounts(),w=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let ye=0;ye<c.length;ye++){let Le=c[ye]/h,nt=Math.floor(Le+.5);nt<1?nt=1:nt>8&&(nt=8);let ct=Math.floor(ye/2);ye&1?(E[ct]=nt,C[ct]=Le-nt):(m[ct]=nt,w[ct]=Le-nt)}this.adjustOddEvenCounts(s,u);let L=0,V=0;for(let ye=m.length-1;ye>=0;ye--)V*=9,V+=m[ye],L+=m[ye];let Q=0,re=0;for(let ye=E.length-1;ye>=0;ye--)Q*=9,Q+=E[ye],re+=E[ye];let fe=V+3*Q;if(s){if(L&1||L>12||L<4)throw new G;let ye=(12-L)/2,Le=cn.OUTSIDE_ODD_WIDEST[ye],nt=9-Le,ct=sr.getRSSvalue(m,Le,!1),Ve=sr.getRSSvalue(E,nt,!0),ni=cn.OUTSIDE_EVEN_TOTAL_SUBSET[ye],Jt=cn.OUTSIDE_GSUM[ye];return new Do(ct*ni+Ve+Jt,fe)}else{if(re&1||re>10||re<4)throw new G;let ye=(10-re)/2,Le=cn.INSIDE_ODD_WIDEST[ye],nt=9-Le,ct=sr.getRSSvalue(m,Le,!0),Ve=sr.getRSSvalue(E,nt,!1),ni=cn.INSIDE_ODD_TOTAL_SUBSET[ye],Jt=cn.INSIDE_GSUM[ye];return new Do(Ve*ni+ct+Jt,fe)}}findFinderPattern(r,o){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let c=r.getSize(),u=!1,h=0;for(;h<c&&(u=!r.get(h),o!==u);)h++;let m=0,E=h;for(let w=h;w<c;w++)if(r.get(w)!==u)s[m]++;else{if(m===3){if(wi.isFinderPattern(s))return[E,w];E+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,m--}else m++;s[m]=1,u=!u}throw new G}parseFoundFinderPattern(r,o,s,c){let u=r.get(c[0]),h=c[0]-1;for(;h>=0&&u!==r.get(h);)h--;h++;let m=c[0]-h,E=this.getDecodeFinderCounters(),w=new Int32Array(E.length);A.arraycopy(E,0,w,1,E.length-1),w[0]=m;let C=this.parseFinderValue(w,cn.FINDER_PATTERNS),L=h,V=c[1];return s&&(L=r.getSize()-1-L,V=r.getSize()-1-V),new Kn(C,[h,c[1]],L,V,o)}adjustOddEvenCounts(r,o){let s=Et.sum(new Int32Array(this.getOddCounts())),c=Et.sum(new Int32Array(this.getEvenCounts())),u=!1,h=!1,m=!1,E=!1;r?(s>12?h=!0:s<4&&(u=!0),c>12?E=!0:c<4&&(m=!0)):(s>11?h=!0:s<5&&(u=!0),c>10?E=!0:c<4&&(m=!0));let w=s+c-o,C=(s&1)===(r?1:0),L=(c&1)===1;if(w===1)if(C){if(L)throw new G;h=!0}else{if(!L)throw new G;E=!0}else if(w===-1)if(C){if(L)throw new G;u=!0}else{if(!L)throw new G;m=!0}else if(w===0){if(C){if(!L)throw new G;s<c?(u=!0,E=!0):(h=!0,m=!0)}else if(L)throw new G}else throw new G;if(u){if(h)throw new G;wi.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&wi.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(E)throw new G;wi.increment(this.getEvenCounts(),this.getOddRoundingErrors())}E&&wi.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}cn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],cn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],cn.OUTSIDE_GSUM=[0,161,961,2015,2715],cn.INSIDE_GSUM=[0,336,1036,1516],cn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],cn.INSIDE_ODD_WIDEST=[2,4,6,8],cn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ba extends at{constructor(r,o){super(),this.readers=[],this.verbose=o===!0;let s=r?r.get(xe.POSSIBLE_FORMATS):null,c=r&&r.get(xe.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;s?((s.includes(J.EAN_13)||s.includes(J.UPC_A)||s.includes(J.EAN_8)||s.includes(J.UPC_E))&&this.readers.push(new ii(r)),s.includes(J.CODE_39)&&this.readers.push(new bi(c)),s.includes(J.CODE_128)&&this.readers.push(new ot),s.includes(J.ITF)&&this.readers.push(new Ei),s.includes(J.RSS_14)&&this.readers.push(new cn),s.includes(J.RSS_EXPANDED)&&this.readers.push(new tt(this.verbose))):(this.readers.push(new ii(r)),this.readers.push(new bi),this.readers.push(new ii(r)),this.readers.push(new ot),this.readers.push(new Ei),this.readers.push(new cn),this.readers.push(new tt(this.verbose)))}decodeRow(r,o,s){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(r,o,s)}catch{}throw new G}reset(){this.readers.forEach(r=>r.reset())}}class f0 extends ht{constructor(r=500,o){super(new ba(o),r,o)}}class Ci{constructor(r,o,s){this.ecCodewords=r,this.ecBlocks=[o],s&&this.ecBlocks.push(s)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Li{constructor(r,o){this.count=r,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class mi{constructor(r,o,s,c,u,h){this.versionNumber=r,this.symbolSizeRows=o,this.symbolSizeColumns=s,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=u,this.ecBlocks=h;let m=0,E=h.getECCodewords(),w=h.getECBlocks();for(let C of w)m+=C.getCount()*(C.getDataCodewords()+E);this.totalCodewords=m}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(r,o){if(r&1||o&1)throw new ce;for(let s of mi.VERSIONS)if(s.symbolSizeRows===r&&s.symbolSizeColumns===o)return s;throw new ce}toString(){return""+this.versionNumber}static buildVersions(){return[new mi(1,10,10,8,8,new Ci(5,new Li(1,3))),new mi(2,12,12,10,10,new Ci(7,new Li(1,5))),new mi(3,14,14,12,12,new Ci(10,new Li(1,8))),new mi(4,16,16,14,14,new Ci(12,new Li(1,12))),new mi(5,18,18,16,16,new Ci(14,new Li(1,18))),new mi(6,20,20,18,18,new Ci(18,new Li(1,22))),new mi(7,22,22,20,20,new Ci(20,new Li(1,30))),new mi(8,24,24,22,22,new Ci(24,new Li(1,36))),new mi(9,26,26,24,24,new Ci(28,new Li(1,44))),new mi(10,32,32,14,14,new Ci(36,new Li(1,62))),new mi(11,36,36,16,16,new Ci(42,new Li(1,86))),new mi(12,40,40,18,18,new Ci(48,new Li(1,114))),new mi(13,44,44,20,20,new Ci(56,new Li(1,144))),new mi(14,48,48,22,22,new Ci(68,new Li(1,174))),new mi(15,52,52,24,24,new Ci(42,new Li(2,102))),new mi(16,64,64,14,14,new Ci(56,new Li(2,140))),new mi(17,72,72,16,16,new Ci(36,new Li(4,92))),new mi(18,80,80,18,18,new Ci(48,new Li(4,114))),new mi(19,88,88,20,20,new Ci(56,new Li(4,144))),new mi(20,96,96,22,22,new Ci(68,new Li(4,174))),new mi(21,104,104,24,24,new Ci(56,new Li(6,136))),new mi(22,120,120,18,18,new Ci(68,new Li(6,175))),new mi(23,132,132,20,20,new Ci(62,new Li(8,163))),new mi(24,144,144,22,22,new Ci(62,new Li(8,156),new Li(2,155))),new mi(25,8,18,6,16,new Ci(7,new Li(1,5))),new mi(26,8,32,6,14,new Ci(11,new Li(1,10))),new mi(27,12,26,10,24,new Ci(14,new Li(1,16))),new mi(28,12,36,10,16,new Ci(18,new Li(1,22))),new mi(29,16,36,14,16,new Ci(24,new Li(1,32))),new mi(30,16,48,14,22,new Ci(28,new Li(1,49)))]}}mi.VERSIONS=mi.buildVersions();class Rl{constructor(r){let o=r.getHeight();if(o<8||o>144||o&1)throw new ce;this.version=Rl.readVersion(r),this.mappingBitMatrix=this.extractDataRegion(r),this.readMappingMatrix=new X(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(r){let o=r.getHeight(),s=r.getWidth();return mi.getVersionForDimensions(o,s)}readCodewords(){let r=new Int8Array(this.version.getTotalCodewords()),o=0,s=4,c=0,u=this.mappingBitMatrix.getHeight(),h=this.mappingBitMatrix.getWidth(),m=!1,E=!1,w=!1,C=!1;do if(s===u&&c===0&&!m)r[o++]=this.readCorner1(u,h)&255,s-=2,c+=2,m=!0;else if(s===u-2&&c===0&&h&3&&!E)r[o++]=this.readCorner2(u,h)&255,s-=2,c+=2,E=!0;else if(s===u+4&&c===2&&!(h&7)&&!w)r[o++]=this.readCorner3(u,h)&255,s-=2,c+=2,w=!0;else if(s===u-2&&c===0&&(h&7)===4&&!C)r[o++]=this.readCorner4(u,h)&255,s-=2,c+=2,C=!0;else{do s<u&&c>=0&&!this.readMappingMatrix.get(c,s)&&(r[o++]=this.readUtah(s,c,u,h)&255),s-=2,c+=2;while(s>=0&&c<h);s+=1,c+=3;do s>=0&&c<h&&!this.readMappingMatrix.get(c,s)&&(r[o++]=this.readUtah(s,c,u,h)&255),s+=2,c-=2;while(s<u&&c>=0);s+=3,c+=1}while(s<u||c<h);if(o!==this.version.getTotalCodewords())throw new ce;return r}readModule(r,o,s,c){return r<0&&(r+=s,o+=4-(s+4&7)),o<0&&(o+=c,r+=4-(c+4&7)),this.readMappingMatrix.set(o,r),this.mappingBitMatrix.get(o,r)}readUtah(r,o,s,c){let u=0;return this.readModule(r-2,o-2,s,c)&&(u|=1),u<<=1,this.readModule(r-2,o-1,s,c)&&(u|=1),u<<=1,this.readModule(r-1,o-2,s,c)&&(u|=1),u<<=1,this.readModule(r-1,o-1,s,c)&&(u|=1),u<<=1,this.readModule(r-1,o,s,c)&&(u|=1),u<<=1,this.readModule(r,o-2,s,c)&&(u|=1),u<<=1,this.readModule(r,o-1,s,c)&&(u|=1),u<<=1,this.readModule(r,o,s,c)&&(u|=1),u}readCorner1(r,o){let s=0;return this.readModule(r-1,0,r,o)&&(s|=1),s<<=1,this.readModule(r-1,1,r,o)&&(s|=1),s<<=1,this.readModule(r-1,2,r,o)&&(s|=1),s<<=1,this.readModule(0,o-2,r,o)&&(s|=1),s<<=1,this.readModule(0,o-1,r,o)&&(s|=1),s<<=1,this.readModule(1,o-1,r,o)&&(s|=1),s<<=1,this.readModule(2,o-1,r,o)&&(s|=1),s<<=1,this.readModule(3,o-1,r,o)&&(s|=1),s}readCorner2(r,o){let s=0;return this.readModule(r-3,0,r,o)&&(s|=1),s<<=1,this.readModule(r-2,0,r,o)&&(s|=1),s<<=1,this.readModule(r-1,0,r,o)&&(s|=1),s<<=1,this.readModule(0,o-4,r,o)&&(s|=1),s<<=1,this.readModule(0,o-3,r,o)&&(s|=1),s<<=1,this.readModule(0,o-2,r,o)&&(s|=1),s<<=1,this.readModule(0,o-1,r,o)&&(s|=1),s<<=1,this.readModule(1,o-1,r,o)&&(s|=1),s}readCorner3(r,o){let s=0;return this.readModule(r-1,0,r,o)&&(s|=1),s<<=1,this.readModule(r-1,o-1,r,o)&&(s|=1),s<<=1,this.readModule(0,o-3,r,o)&&(s|=1),s<<=1,this.readModule(0,o-2,r,o)&&(s|=1),s<<=1,this.readModule(0,o-1,r,o)&&(s|=1),s<<=1,this.readModule(1,o-3,r,o)&&(s|=1),s<<=1,this.readModule(1,o-2,r,o)&&(s|=1),s<<=1,this.readModule(1,o-1,r,o)&&(s|=1),s}readCorner4(r,o){let s=0;return this.readModule(r-3,0,r,o)&&(s|=1),s<<=1,this.readModule(r-2,0,r,o)&&(s|=1),s<<=1,this.readModule(r-1,0,r,o)&&(s|=1),s<<=1,this.readModule(0,o-2,r,o)&&(s|=1),s<<=1,this.readModule(0,o-1,r,o)&&(s|=1),s<<=1,this.readModule(1,o-1,r,o)&&(s|=1),s<<=1,this.readModule(2,o-1,r,o)&&(s|=1),s<<=1,this.readModule(3,o-1,r,o)&&(s|=1),s}extractDataRegion(r){let o=this.version.getSymbolSizeRows(),s=this.version.getSymbolSizeColumns();if(r.getHeight()!==o)throw new x("Dimension of bitMatrix must match the version size");let c=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),h=o/c|0,m=s/u|0,E=h*c,w=m*u,C=new X(w,E);for(let L=0;L<h;++L){let V=L*c;for(let Q=0;Q<m;++Q){let re=Q*u;for(let fe=0;fe<c;++fe){let ye=L*(c+2)+1+fe,Le=V+fe;for(let nt=0;nt<u;++nt){let ct=Q*(u+2)+1+nt;if(r.get(ct,ye)){let Ve=re+nt;C.set(Ve,Le)}}}}}return C}}class ja{constructor(r,o){this.numDataCodewords=r,this.codewords=o}static getDataBlocks(r,o){let s=o.getECBlocks(),c=0,u=s.getECBlocks();for(let fe of u)c+=fe.getCount();let h=new Array(c),m=0;for(let fe of u)for(let ye=0;ye<fe.getCount();ye++){let Le=fe.getDataCodewords(),nt=s.getECCodewords()+Le;h[m++]=new ja(Le,new Uint8Array(nt))}let w=h[0].codewords.length-s.getECCodewords(),C=w-1,L=0;for(let fe=0;fe<C;fe++)for(let ye=0;ye<m;ye++)h[ye].codewords[fe]=r[L++];let V=o.getVersionNumber()===24,Q=V?8:m;for(let fe=0;fe<Q;fe++)h[fe].codewords[w-1]=r[L++];let re=h[0].codewords.length;for(let fe=w;fe<re;fe++)for(let ye=0;ye<m;ye++){let Le=V?(ye+8)%m:ye,nt=V&&Le>7?fe-1:fe;h[Le].codewords[nt]=r[L++]}if(L!==r.length)throw new x;return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Pl{constructor(r){this.bytes=r,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(r){if(r<1||r>32||r>this.available())throw new x(""+r);let o=0,s=this.bitOffset,c=this.byteOffset,u=this.bytes;if(s>0){let h=8-s,m=r<h?r:h,E=h-m,w=255>>8-m<<E;o=(u[c]&w)>>E,r-=m,s+=m,s===8&&(s=0,c++)}if(r>0){for(;r>=8;)o=o<<8|u[c]&255,c++,r-=8;if(r>0){let h=8-r,m=255>>h<<h;o=o<<r|(u[c]&m)>>h,s+=r}}return this.bitOffset=s,this.byteOffset=c,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var pi=function(_){return _[_.PAD_ENCODE=0]="PAD_ENCODE",_[_.ASCII_ENCODE=1]="ASCII_ENCODE",_[_.C40_ENCODE=2]="C40_ENCODE",_[_.TEXT_ENCODE=3]="TEXT_ENCODE",_[_.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",_[_.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",_[_.BASE256_ENCODE=6]="BASE256_ENCODE",_}(pi||{});class Yo{static decode(r){let o=new Pl(r),s=new W,c=new W,u=new Array,h=pi.ASCII_ENCODE;do if(h===pi.ASCII_ENCODE)h=this.decodeAsciiSegment(o,s,c);else{switch(h){case pi.C40_ENCODE:this.decodeC40Segment(o,s);break;case pi.TEXT_ENCODE:this.decodeTextSegment(o,s);break;case pi.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,s);break;case pi.EDIFACT_ENCODE:this.decodeEdifactSegment(o,s);break;case pi.BASE256_ENCODE:this.decodeBase256Segment(o,s,u);break;default:throw new ce}h=pi.ASCII_ENCODE}while(h!==pi.PAD_ENCODE&&o.available()>0);return c.length()>0&&s.append(c.toString()),new Me(r,s.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(r,o,s){let c=!1;do{let u=r.readBits(8);if(u===0)throw new ce;if(u<=128)return c&&(u+=128),o.append(String.fromCharCode(u-1)),pi.ASCII_ENCODE;if(u===129)return pi.PAD_ENCODE;if(u<=229){let h=u-130;h<10&&o.append("0"),o.append(""+h)}else switch(u){case 230:return pi.C40_ENCODE;case 231:return pi.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:c=!0;break;case 236:o.append("[)>05"),s.insert(0,"");break;case 237:o.append("[)>06"),s.insert(0,"");break;case 238:return pi.ANSIX12_ENCODE;case 239:return pi.TEXT_ENCODE;case 240:return pi.EDIFACT_ENCODE;case 241:break;default:if(u!==254||r.available()!==0)throw new ce;break}}while(r.available()>0);return pi.ASCII_ENCODE}static decodeC40Segment(r,o){let s=!1,c=[],u=0;do{if(r.available()===8)return;let h=r.readBits(8);if(h===254)return;this.parseTwoBytes(h,r.readBits(8),c);for(let m=0;m<3;m++){let E=c[m];switch(u){case 0:if(E<3)u=E+1;else if(E<this.C40_BASIC_SET_CHARS.length){let w=this.C40_BASIC_SET_CHARS[E];s?(o.append(String.fromCharCode(w.charCodeAt(0)+128)),s=!1):o.append(w)}else throw new ce;break;case 1:s?(o.append(String.fromCharCode(E+128)),s=!1):o.append(String.fromCharCode(E)),u=0;break;case 2:if(E<this.C40_SHIFT2_SET_CHARS.length){let w=this.C40_SHIFT2_SET_CHARS[E];s?(o.append(String.fromCharCode(w.charCodeAt(0)+128)),s=!1):o.append(w)}else switch(E){case 27:o.append("");break;case 30:s=!0;break;default:throw new ce}u=0;break;case 3:s?(o.append(String.fromCharCode(E+224)),s=!1):o.append(String.fromCharCode(E+96)),u=0;break;default:throw new ce}}}while(r.available()>0)}static decodeTextSegment(r,o){let s=!1,c=[],u=0;do{if(r.available()===8)return;let h=r.readBits(8);if(h===254)return;this.parseTwoBytes(h,r.readBits(8),c);for(let m=0;m<3;m++){let E=c[m];switch(u){case 0:if(E<3)u=E+1;else if(E<this.TEXT_BASIC_SET_CHARS.length){let w=this.TEXT_BASIC_SET_CHARS[E];s?(o.append(String.fromCharCode(w.charCodeAt(0)+128)),s=!1):o.append(w)}else throw new ce;break;case 1:s?(o.append(String.fromCharCode(E+128)),s=!1):o.append(String.fromCharCode(E)),u=0;break;case 2:if(E<this.TEXT_SHIFT2_SET_CHARS.length){let w=this.TEXT_SHIFT2_SET_CHARS[E];s?(o.append(String.fromCharCode(w.charCodeAt(0)+128)),s=!1):o.append(w)}else switch(E){case 27:o.append("");break;case 30:s=!0;break;default:throw new ce}u=0;break;case 3:if(E<this.TEXT_SHIFT3_SET_CHARS.length){let w=this.TEXT_SHIFT3_SET_CHARS[E];s?(o.append(String.fromCharCode(w.charCodeAt(0)+128)),s=!1):o.append(w),u=0}else throw new ce;break;default:throw new ce}}}while(r.available()>0)}static decodeAnsiX12Segment(r,o){let s=[];do{if(r.available()===8)return;let c=r.readBits(8);if(c===254)return;this.parseTwoBytes(c,r.readBits(8),s);for(let u=0;u<3;u++){let h=s[u];switch(h){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(h<14)o.append(String.fromCharCode(h+44));else if(h<40)o.append(String.fromCharCode(h+51));else throw new ce;break}}}while(r.available()>0)}static parseTwoBytes(r,o,s){let c=(r<<8)+o-1,u=Math.floor(c/1600);s[0]=u,c-=u*1600,u=Math.floor(c/40),s[1]=u,s[2]=c-u*40}static decodeEdifactSegment(r,o){do{if(r.available()<=16)return;for(let s=0;s<4;s++){let c=r.readBits(6);if(c===31){let u=8-r.getBitOffset();u!==8&&r.readBits(u);return}c&32||(c|=64),o.append(String.fromCharCode(c))}}while(r.available()>0)}static decodeBase256Segment(r,o,s){let c=1+r.getByteOffset(),u=this.unrandomize255State(r.readBits(8),c++),h;if(u===0?h=r.available()/8|0:u<250?h=u:h=250*(u-249)+this.unrandomize255State(r.readBits(8),c++),h<0)throw new ce;let m=new Uint8Array(h);for(let E=0;E<h;E++){if(r.available()<8)throw new ce;m[E]=this.unrandomize255State(r.readBits(8),c++)}s.push(m);try{o.append(Ge.decode(m,Ae.ISO88591))}catch(E){throw new pt("Platform does not support required encoding: "+E.message)}}static unrandomize255State(r,o){let s=149*o%255+1,c=r-s;return c>=0?c:c+256}}Yo.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Yo.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Yo.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Yo.TEXT_SHIFT2_SET_CHARS=Yo.C40_SHIFT2_SET_CHARS,Yo.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~","\x7F"];class ac{constructor(){this.rsDecoder=new Ht(Ke.DATA_MATRIX_FIELD_256)}decode(r){let o=new Rl(r),s=o.getVersion(),c=o.readCodewords(),u=ja.getDataBlocks(c,s),h=0;for(let w of u)h+=w.getNumDataCodewords();let m=new Uint8Array(h),E=u.length;for(let w=0;w<E;w++){let C=u[w],L=C.getCodewords(),V=C.getNumDataCodewords();this.correctErrors(L,V);for(let Q=0;Q<V;Q++)m[Q*E+w]=L[Q]}return Yo.decode(m)}correctErrors(r,o){let s=new Int32Array(r);try{this.rsDecoder.decode(s,r.length-o)}catch{throw new M}for(let c=0;c<o;c++)r[c]=s[c]}}class bn{constructor(r){this.image=r,this.rectangleDetector=new dt(this.image)}detect(){let r=this.rectangleDetector.detect(),o=this.detectSolid1(r);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new G;o=this.shiftToModuleCenter(o);let s=o[0],c=o[1],u=o[2],h=o[3],m=this.transitionsBetween(s,h)+1,E=this.transitionsBetween(u,h)+1;(m&1)===1&&(m+=1),(E&1)===1&&(E+=1),4*m<7*E&&4*E<7*m&&(m=E=Math.max(m,E));let w=bn.sampleGrid(this.image,s,c,u,h,m,E);return new ut(w,[s,c,u,h])}static shiftPoint(r,o,s){let c=(o.getX()-r.getX())/(s+1),u=(o.getY()-r.getY())/(s+1);return new Oe(r.getX()+c,r.getY()+u)}static moveAway(r,o,s){let c=r.getX(),u=r.getY();return c<o?c-=1:c+=1,u<s?u-=1:u+=1,new Oe(c,u)}detectSolid1(r){let o=r[0],s=r[1],c=r[3],u=r[2],h=this.transitionsBetween(o,s),m=this.transitionsBetween(s,c),E=this.transitionsBetween(c,u),w=this.transitionsBetween(u,o),C=h,L=[u,o,s,c];return C>m&&(C=m,L[0]=o,L[1]=s,L[2]=c,L[3]=u),C>E&&(C=E,L[0]=s,L[1]=c,L[2]=u,L[3]=o),C>w&&(L[0]=c,L[1]=u,L[2]=o,L[3]=s),L}detectSolid2(r){let o=r[0],s=r[1],c=r[2],u=r[3],h=this.transitionsBetween(o,u),m=bn.shiftPoint(s,c,(h+1)*4),E=bn.shiftPoint(c,s,(h+1)*4),w=this.transitionsBetween(m,o),C=this.transitionsBetween(E,u);return w<C?(r[0]=o,r[1]=s,r[2]=c,r[3]=u):(r[0]=s,r[1]=c,r[2]=u,r[3]=o),r}correctTopRight(r){let o=r[0],s=r[1],c=r[2],u=r[3],h=this.transitionsBetween(o,u),m=this.transitionsBetween(s,u),E=bn.shiftPoint(o,s,(m+1)*4),w=bn.shiftPoint(c,s,(h+1)*4);h=this.transitionsBetween(E,u),m=this.transitionsBetween(w,u);let C=new Oe(u.getX()+(c.getX()-s.getX())/(h+1),u.getY()+(c.getY()-s.getY())/(h+1)),L=new Oe(u.getX()+(o.getX()-s.getX())/(m+1),u.getY()+(o.getY()-s.getY())/(m+1));if(!this.isValid(C))return this.isValid(L)?L:null;if(!this.isValid(L))return C;let V=this.transitionsBetween(E,C)+this.transitionsBetween(w,C),Q=this.transitionsBetween(E,L)+this.transitionsBetween(w,L);return V>Q?C:L}shiftToModuleCenter(r){let o=r[0],s=r[1],c=r[2],u=r[3],h=this.transitionsBetween(o,u)+1,m=this.transitionsBetween(c,u)+1,E=bn.shiftPoint(o,s,m*4),w=bn.shiftPoint(c,s,h*4);h=this.transitionsBetween(E,u)+1,m=this.transitionsBetween(w,u)+1,(h&1)===1&&(h+=1),(m&1)===1&&(m+=1);let C=(o.getX()+s.getX()+c.getX()+u.getX())/4,L=(o.getY()+s.getY()+c.getY()+u.getY())/4;o=bn.moveAway(o,C,L),s=bn.moveAway(s,C,L),c=bn.moveAway(c,C,L),u=bn.moveAway(u,C,L);let V,Q;return E=bn.shiftPoint(o,s,m*4),E=bn.shiftPoint(E,u,h*4),V=bn.shiftPoint(s,o,m*4),V=bn.shiftPoint(V,c,h*4),w=bn.shiftPoint(c,u,m*4),w=bn.shiftPoint(w,s,h*4),Q=bn.shiftPoint(u,c,m*4),Q=bn.shiftPoint(Q,o,h*4),[E,V,w,Q]}isValid(r){return r.getX()>=0&&r.getX()<this.image.getWidth()&&r.getY()>0&&r.getY()<this.image.getHeight()}static sampleGrid(r,o,s,c,u,h,m){return ri.getInstance().sampleGrid(r,h,m,.5,.5,h-.5,.5,h-.5,m-.5,.5,m-.5,o.getX(),o.getY(),u.getX(),u.getY(),c.getX(),c.getY(),s.getX(),s.getY())}transitionsBetween(r,o){let s=Math.trunc(r.getX()),c=Math.trunc(r.getY()),u=Math.trunc(o.getX()),h=Math.trunc(o.getY()),m=Math.abs(h-c)>Math.abs(u-s);if(m){let fe=s;s=c,c=fe,fe=u,u=h,h=fe}let E=Math.abs(u-s),w=Math.abs(h-c),C=-E/2,L=c<h?1:-1,V=s<u?1:-1,Q=0,re=this.image.get(m?c:s,m?s:c);for(let fe=s,ye=c;fe!==u;fe+=V){let Le=this.image.get(m?ye:fe,m?fe:ye);if(Le!==re&&(Q++,re=Le),C+=w,C>0){if(ye===h)break;ye+=L,C-=E}}return Q}}let Va=(()=>{class _{constructor(){this.decoder=new ac}decode(o,s=null){let c,u;if(s!=null&&s.has(xe.PURE_BARCODE)){let C=_.extractPureBits(o.getBlackMatrix());c=this.decoder.decode(C),u=_.NO_POINTS}else{let C=new bn(o.getBlackMatrix()).detect();c=this.decoder.decode(C.getBits()),u=C.getPoints()}let h=c.getRawBytes(),m=new B(c.getText(),h,8*h.length,u,J.DATA_MATRIX,A.currentTimeMillis()),E=c.getByteSegments();E!=null&&m.putMetadata(ve.BYTE_SEGMENTS,E);let w=c.getECLevel();return w!=null&&m.putMetadata(ve.ERROR_CORRECTION_LEVEL,w),m}reset(){}static extractPureBits(o){let s=o.getTopLeftOnBit(),c=o.getBottomRightOnBit();if(s==null||c==null)throw new G;let u=this.moduleSize(s,o),h=s[1],m=c[1],E=s[0],C=(c[0]-E+1)/u,L=(m-h+1)/u;if(C<=0||L<=0)throw new G;let V=u/2;h+=V,E+=V;let Q=new X(C,L);for(let re=0;re<L;re++){let fe=h+re*u;for(let ye=0;ye<C;ye++)o.get(E+ye*u,fe)&&Q.set(ye,re)}return Q}static moduleSize(o,s){let c=s.getWidth(),u=o[0],h=o[1];for(;u<c&&s.get(u,h);)u++;if(u===c)throw new G;let m=u-o[0];if(m===0)throw new G;return m}}return _.NO_POINTS=[],_})();class h0 extends ht{constructor(r=500){super(new Va,r)}}var to=function(_){return _[_.L=0]="L",_[_.M=1]="M",_[_.Q=2]="Q",_[_.H=3]="H",_}(to||{});class qi{constructor(r,o,s){this.value=r,this.stringValue=o,this.bits=s,qi.FOR_BITS.set(s,this),qi.FOR_VALUE.set(r,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(r){switch(r){case"L":return qi.L;case"M":return qi.M;case"Q":return qi.Q;case"H":return qi.H;default:throw new v(r+"not available")}}toString(){return this.stringValue}equals(r){if(!(r instanceof qi))return!1;let o=r;return this.value===o.value}static forBits(r){if(r<0||r>=qi.FOR_BITS.size)throw new x;return qi.FOR_BITS.get(r)}}qi.FOR_BITS=new Map,qi.FOR_VALUE=new Map,qi.L=new qi(to.L,"L",1),qi.M=new qi(to.M,"M",0),qi.Q=new qi(to.Q,"Q",3),qi.H=new qi(to.H,"H",2);class Ki{constructor(r){this.errorCorrectionLevel=qi.forBits(r>>3&3),this.dataMask=r&7}static numBitsDiffering(r,o){return U.bitCount(r^o)}static decodeFormatInformation(r,o){let s=Ki.doDecodeFormatInformation(r,o);return s!==null?s:Ki.doDecodeFormatInformation(r^Ki.FORMAT_INFO_MASK_QR,o^Ki.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(r,o){let s=Number.MAX_SAFE_INTEGER,c=0;for(let u of Ki.FORMAT_INFO_DECODE_LOOKUP){let h=u[0];if(h===r||h===o)return new Ki(u[1]);let m=Ki.numBitsDiffering(r,h);m<s&&(c=u[1],s=m),r!==o&&(m=Ki.numBitsDiffering(o,h),m<s&&(c=u[1],s=m))}return s<=3?new Ki(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(r){if(!(r instanceof Ki))return!1;let o=r;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}Ki.FORMAT_INFO_MASK_QR=21522,Ki.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Se{constructor(r,...o){this.ecCodewordsPerBlock=r,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let r=0,o=this.ecBlocks;for(let s of o)r+=s.getCount();return r}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class Z{constructor(r,o){this.count=r,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ot{constructor(r,o,...s){this.versionNumber=r,this.alignmentPatternCenters=o,this.ecBlocks=s;let c=0,u=s[0].getECCodewordsPerBlock(),h=s[0].getECBlocks();for(let m of h)c+=m.getCount()*(m.getDataCodewords()+u);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(r){return this.ecBlocks[r.getValue()]}static getProvisionalVersionForDimension(r){if(r%4!==1)throw new ce;try{return this.getVersionForNumber((r-17)/4)}catch{throw new ce}}static getVersionForNumber(r){if(r<1||r>40)throw new x;return Ot.VERSIONS[r-1]}static decodeVersionInformation(r){let o=Number.MAX_SAFE_INTEGER,s=0;for(let c=0;c<Ot.VERSION_DECODE_INFO.length;c++){let u=Ot.VERSION_DECODE_INFO[c];if(u===r)return Ot.getVersionForNumber(c+7);let h=Ki.numBitsDiffering(r,u);h<o&&(s=c+7,o=h)}return o<=3?Ot.getVersionForNumber(s):null}buildFunctionPattern(){let r=this.getDimensionForVersion(),o=new X(r);o.setRegion(0,0,9,9),o.setRegion(r-8,0,8,9),o.setRegion(0,r-8,9,8);let s=this.alignmentPatternCenters.length;for(let c=0;c<s;c++){let u=this.alignmentPatternCenters[c]-2;for(let h=0;h<s;h++)c===0&&(h===0||h===s-1)||c===s-1&&h===0||o.setRegion(this.alignmentPatternCenters[h]-2,u,5,5)}return o.setRegion(6,9,1,r-17),o.setRegion(9,6,r-17,1),this.versionNumber>6&&(o.setRegion(r-11,0,3,6),o.setRegion(0,r-11,6,3)),o}toString(){return""+this.versionNumber}}Ot.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ot.VERSIONS=[new Ot(1,new Int32Array(0),new Se(7,new Z(1,19)),new Se(10,new Z(1,16)),new Se(13,new Z(1,13)),new Se(17,new Z(1,9))),new Ot(2,Int32Array.from([6,18]),new Se(10,new Z(1,34)),new Se(16,new Z(1,28)),new Se(22,new Z(1,22)),new Se(28,new Z(1,16))),new Ot(3,Int32Array.from([6,22]),new Se(15,new Z(1,55)),new Se(26,new Z(1,44)),new Se(18,new Z(2,17)),new Se(22,new Z(2,13))),new Ot(4,Int32Array.from([6,26]),new Se(20,new Z(1,80)),new Se(18,new Z(2,32)),new Se(26,new Z(2,24)),new Se(16,new Z(4,9))),new Ot(5,Int32Array.from([6,30]),new Se(26,new Z(1,108)),new Se(24,new Z(2,43)),new Se(18,new Z(2,15),new Z(2,16)),new Se(22,new Z(2,11),new Z(2,12))),new Ot(6,Int32Array.from([6,34]),new Se(18,new Z(2,68)),new Se(16,new Z(4,27)),new Se(24,new Z(4,19)),new Se(28,new Z(4,15))),new Ot(7,Int32Array.from([6,22,38]),new Se(20,new Z(2,78)),new Se(18,new Z(4,31)),new Se(18,new Z(2,14),new Z(4,15)),new Se(26,new Z(4,13),new Z(1,14))),new Ot(8,Int32Array.from([6,24,42]),new Se(24,new Z(2,97)),new Se(22,new Z(2,38),new Z(2,39)),new Se(22,new Z(4,18),new Z(2,19)),new Se(26,new Z(4,14),new Z(2,15))),new Ot(9,Int32Array.from([6,26,46]),new Se(30,new Z(2,116)),new Se(22,new Z(3,36),new Z(2,37)),new Se(20,new Z(4,16),new Z(4,17)),new Se(24,new Z(4,12),new Z(4,13))),new Ot(10,Int32Array.from([6,28,50]),new Se(18,new Z(2,68),new Z(2,69)),new Se(26,new Z(4,43),new Z(1,44)),new Se(24,new Z(6,19),new Z(2,20)),new Se(28,new Z(6,15),new Z(2,16))),new Ot(11,Int32Array.from([6,30,54]),new Se(20,new Z(4,81)),new Se(30,new Z(1,50),new Z(4,51)),new Se(28,new Z(4,22),new Z(4,23)),new Se(24,new Z(3,12),new Z(8,13))),new Ot(12,Int32Array.from([6,32,58]),new Se(24,new Z(2,92),new Z(2,93)),new Se(22,new Z(6,36),new Z(2,37)),new Se(26,new Z(4,20),new Z(6,21)),new Se(28,new Z(7,14),new Z(4,15))),new Ot(13,Int32Array.from([6,34,62]),new Se(26,new Z(4,107)),new Se(22,new Z(8,37),new Z(1,38)),new Se(24,new Z(8,20),new Z(4,21)),new Se(22,new Z(12,11),new Z(4,12))),new Ot(14,Int32Array.from([6,26,46,66]),new Se(30,new Z(3,115),new Z(1,116)),new Se(24,new Z(4,40),new Z(5,41)),new Se(20,new Z(11,16),new Z(5,17)),new Se(24,new Z(11,12),new Z(5,13))),new Ot(15,Int32Array.from([6,26,48,70]),new Se(22,new Z(5,87),new Z(1,88)),new Se(24,new Z(5,41),new Z(5,42)),new Se(30,new Z(5,24),new Z(7,25)),new Se(24,new Z(11,12),new Z(7,13))),new Ot(16,Int32Array.from([6,26,50,74]),new Se(24,new Z(5,98),new Z(1,99)),new Se(28,new Z(7,45),new Z(3,46)),new Se(24,new Z(15,19),new Z(2,20)),new Se(30,new Z(3,15),new Z(13,16))),new Ot(17,Int32Array.from([6,30,54,78]),new Se(28,new Z(1,107),new Z(5,108)),new Se(28,new Z(10,46),new Z(1,47)),new Se(28,new Z(1,22),new Z(15,23)),new Se(28,new Z(2,14),new Z(17,15))),new Ot(18,Int32Array.from([6,30,56,82]),new Se(30,new Z(5,120),new Z(1,121)),new Se(26,new Z(9,43),new Z(4,44)),new Se(28,new Z(17,22),new Z(1,23)),new Se(28,new Z(2,14),new Z(19,15))),new Ot(19,Int32Array.from([6,30,58,86]),new Se(28,new Z(3,113),new Z(4,114)),new Se(26,new Z(3,44),new Z(11,45)),new Se(26,new Z(17,21),new Z(4,22)),new Se(26,new Z(9,13),new Z(16,14))),new Ot(20,Int32Array.from([6,34,62,90]),new Se(28,new Z(3,107),new Z(5,108)),new Se(26,new Z(3,41),new Z(13,42)),new Se(30,new Z(15,24),new Z(5,25)),new Se(28,new Z(15,15),new Z(10,16))),new Ot(21,Int32Array.from([6,28,50,72,94]),new Se(28,new Z(4,116),new Z(4,117)),new Se(26,new Z(17,42)),new Se(28,new Z(17,22),new Z(6,23)),new Se(30,new Z(19,16),new Z(6,17))),new Ot(22,Int32Array.from([6,26,50,74,98]),new Se(28,new Z(2,111),new Z(7,112)),new Se(28,new Z(17,46)),new Se(30,new Z(7,24),new Z(16,25)),new Se(24,new Z(34,13))),new Ot(23,Int32Array.from([6,30,54,78,102]),new Se(30,new Z(4,121),new Z(5,122)),new Se(28,new Z(4,47),new Z(14,48)),new Se(30,new Z(11,24),new Z(14,25)),new Se(30,new Z(16,15),new Z(14,16))),new Ot(24,Int32Array.from([6,28,54,80,106]),new Se(30,new Z(6,117),new Z(4,118)),new Se(28,new Z(6,45),new Z(14,46)),new Se(30,new Z(11,24),new Z(16,25)),new Se(30,new Z(30,16),new Z(2,17))),new Ot(25,Int32Array.from([6,32,58,84,110]),new Se(26,new Z(8,106),new Z(4,107)),new Se(28,new Z(8,47),new Z(13,48)),new Se(30,new Z(7,24),new Z(22,25)),new Se(30,new Z(22,15),new Z(13,16))),new Ot(26,Int32Array.from([6,30,58,86,114]),new Se(28,new Z(10,114),new Z(2,115)),new Se(28,new Z(19,46),new Z(4,47)),new Se(28,new Z(28,22),new Z(6,23)),new Se(30,new Z(33,16),new Z(4,17))),new Ot(27,Int32Array.from([6,34,62,90,118]),new Se(30,new Z(8,122),new Z(4,123)),new Se(28,new Z(22,45),new Z(3,46)),new Se(30,new Z(8,23),new Z(26,24)),new Se(30,new Z(12,15),new Z(28,16))),new Ot(28,Int32Array.from([6,26,50,74,98,122]),new Se(30,new Z(3,117),new Z(10,118)),new Se(28,new Z(3,45),new Z(23,46)),new Se(30,new Z(4,24),new Z(31,25)),new Se(30,new Z(11,15),new Z(31,16))),new Ot(29,Int32Array.from([6,30,54,78,102,126]),new Se(30,new Z(7,116),new Z(7,117)),new Se(28,new Z(21,45),new Z(7,46)),new Se(30,new Z(1,23),new Z(37,24)),new Se(30,new Z(19,15),new Z(26,16))),new Ot(30,Int32Array.from([6,26,52,78,104,130]),new Se(30,new Z(5,115),new Z(10,116)),new Se(28,new Z(19,47),new Z(10,48)),new Se(30,new Z(15,24),new Z(25,25)),new Se(30,new Z(23,15),new Z(25,16))),new Ot(31,Int32Array.from([6,30,56,82,108,134]),new Se(30,new Z(13,115),new Z(3,116)),new Se(28,new Z(2,46),new Z(29,47)),new Se(30,new Z(42,24),new Z(1,25)),new Se(30,new Z(23,15),new Z(28,16))),new Ot(32,Int32Array.from([6,34,60,86,112,138]),new Se(30,new Z(17,115)),new Se(28,new Z(10,46),new Z(23,47)),new Se(30,new Z(10,24),new Z(35,25)),new Se(30,new Z(19,15),new Z(35,16))),new Ot(33,Int32Array.from([6,30,58,86,114,142]),new Se(30,new Z(17,115),new Z(1,116)),new Se(28,new Z(14,46),new Z(21,47)),new Se(30,new Z(29,24),new Z(19,25)),new Se(30,new Z(11,15),new Z(46,16))),new Ot(34,Int32Array.from([6,34,62,90,118,146]),new Se(30,new Z(13,115),new Z(6,116)),new Se(28,new Z(14,46),new Z(23,47)),new Se(30,new Z(44,24),new Z(7,25)),new Se(30,new Z(59,16),new Z(1,17))),new Ot(35,Int32Array.from([6,30,54,78,102,126,150]),new Se(30,new Z(12,121),new Z(7,122)),new Se(28,new Z(12,47),new Z(26,48)),new Se(30,new Z(39,24),new Z(14,25)),new Se(30,new Z(22,15),new Z(41,16))),new Ot(36,Int32Array.from([6,24,50,76,102,128,154]),new Se(30,new Z(6,121),new Z(14,122)),new Se(28,new Z(6,47),new Z(34,48)),new Se(30,new Z(46,24),new Z(10,25)),new Se(30,new Z(2,15),new Z(64,16))),new Ot(37,Int32Array.from([6,28,54,80,106,132,158]),new Se(30,new Z(17,122),new Z(4,123)),new Se(28,new Z(29,46),new Z(14,47)),new Se(30,new Z(49,24),new Z(10,25)),new Se(30,new Z(24,15),new Z(46,16))),new Ot(38,Int32Array.from([6,32,58,84,110,136,162]),new Se(30,new Z(4,122),new Z(18,123)),new Se(28,new Z(13,46),new Z(32,47)),new Se(30,new Z(48,24),new Z(14,25)),new Se(30,new Z(42,15),new Z(32,16))),new Ot(39,Int32Array.from([6,26,54,82,110,138,166]),new Se(30,new Z(20,117),new Z(4,118)),new Se(28,new Z(40,47),new Z(7,48)),new Se(30,new Z(43,24),new Z(22,25)),new Se(30,new Z(10,15),new Z(67,16))),new Ot(40,Int32Array.from([6,30,58,86,114,142,170]),new Se(30,new Z(19,118),new Z(6,119)),new Se(28,new Z(18,47),new Z(31,48)),new Se(30,new Z(34,24),new Z(34,25)),new Se(30,new Z(20,15),new Z(61,16)))];var er=function(_){return _[_.DATA_MASK_000=0]="DATA_MASK_000",_[_.DATA_MASK_001=1]="DATA_MASK_001",_[_.DATA_MASK_010=2]="DATA_MASK_010",_[_.DATA_MASK_011=3]="DATA_MASK_011",_[_.DATA_MASK_100=4]="DATA_MASK_100",_[_.DATA_MASK_101=5]="DATA_MASK_101",_[_.DATA_MASK_110=6]="DATA_MASK_110",_[_.DATA_MASK_111=7]="DATA_MASK_111",_}(er||{});class oo{constructor(r,o){this.value=r,this.isMasked=o}unmaskBitMatrix(r,o){for(let s=0;s<o;s++)for(let c=0;c<o;c++)this.isMasked(s,c)&&r.flip(c,s)}}oo.values=new Map([[er.DATA_MASK_000,new oo(er.DATA_MASK_000,(_,r)=>(_+r&1)===0)],[er.DATA_MASK_001,new oo(er.DATA_MASK_001,(_,r)=>(_&1)===0)],[er.DATA_MASK_010,new oo(er.DATA_MASK_010,(_,r)=>r%3===0)],[er.DATA_MASK_011,new oo(er.DATA_MASK_011,(_,r)=>(_+r)%3===0)],[er.DATA_MASK_100,new oo(er.DATA_MASK_100,(_,r)=>(Math.floor(_/2)+Math.floor(r/3)&1)===0)],[er.DATA_MASK_101,new oo(er.DATA_MASK_101,(_,r)=>_*r%6===0)],[er.DATA_MASK_110,new oo(er.DATA_MASK_110,(_,r)=>_*r%6<3)],[er.DATA_MASK_111,new oo(er.DATA_MASK_111,(_,r)=>(_+r+_*r%3&1)===0)]]);class sc{constructor(r){let o=r.getHeight();if(o<21||(o&3)!==1)throw new ce;this.bitMatrix=r}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let r=0;for(let u=0;u<6;u++)r=this.copyBit(u,8,r);r=this.copyBit(7,8,r),r=this.copyBit(8,8,r),r=this.copyBit(8,7,r);for(let u=5;u>=0;u--)r=this.copyBit(8,u,r);let o=this.bitMatrix.getHeight(),s=0,c=o-7;for(let u=o-1;u>=c;u--)s=this.copyBit(8,u,s);for(let u=o-8;u<o;u++)s=this.copyBit(u,8,s);if(this.parsedFormatInfo=Ki.decodeFormatInformation(r,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ce}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;let r=this.bitMatrix.getHeight(),o=Math.floor((r-17)/4);if(o<=6)return Ot.getVersionForNumber(o);let s=0,c=r-11;for(let h=5;h>=0;h--)for(let m=r-9;m>=c;m--)s=this.copyBit(m,h,s);let u=Ot.decodeVersionInformation(s);if(u!==null&&u.getDimensionForVersion()===r)return this.parsedVersion=u,u;s=0;for(let h=5;h>=0;h--)for(let m=r-9;m>=c;m--)s=this.copyBit(h,m,s);if(u=Ot.decodeVersionInformation(s),u!==null&&u.getDimensionForVersion()===r)return this.parsedVersion=u,u;throw new ce}copyBit(r,o,s){return(this.isMirror?this.bitMatrix.get(o,r):this.bitMatrix.get(r,o))?s<<1|1:s<<1}readCodewords(){let r=this.readFormatInformation(),o=this.readVersion(),s=oo.values.get(r.getDataMask()),c=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,c);let u=o.buildFunctionPattern(),h=!0,m=new Uint8Array(o.getTotalCodewords()),E=0,w=0,C=0;for(let L=c-1;L>0;L-=2){L===6&&L--;for(let V=0;V<c;V++){let Q=h?c-1-V:V;for(let re=0;re<2;re++)u.get(L-re,Q)||(C++,w<<=1,this.bitMatrix.get(L-re,Q)&&(w|=1),C===8&&(m[E++]=w,C=0,w=0))}h=!h}if(E!==o.getTotalCodewords())throw new ce;return m}remask(){if(this.parsedFormatInfo===null)return;let r=oo.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,o)}setMirror(r){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=r}mirror(){let r=this.bitMatrix;for(let o=0,s=r.getWidth();o<s;o++)for(let c=o+1,u=r.getHeight();c<u;c++)r.get(o,c)!==r.get(c,o)&&(r.flip(c,o),r.flip(o,c))}}class kl{constructor(r,o){this.numDataCodewords=r,this.codewords=o}static getDataBlocks(r,o,s){if(r.length!==o.getTotalCodewords())throw new x;let c=o.getECBlocksForLevel(s),u=0,h=c.getECBlocks();for(let re of h)u+=re.getCount();let m=new Array(u),E=0;for(let re of h)for(let fe=0;fe<re.getCount();fe++){let ye=re.getDataCodewords(),Le=c.getECCodewordsPerBlock()+ye;m[E++]=new kl(ye,new Uint8Array(Le))}let w=m[0].codewords.length,C=m.length-1;for(;C>=0&&m[C].codewords.length!==w;)C--;C++;let L=w-c.getECCodewordsPerBlock(),V=0;for(let re=0;re<L;re++)for(let fe=0;fe<E;fe++)m[fe].codewords[re]=r[V++];for(let re=C;re<E;re++)m[re].codewords[L]=r[V++];let Q=m[0].codewords.length;for(let re=L;re<Q;re++)for(let fe=0;fe<E;fe++){let ye=fe<C?re:re+1;m[fe].codewords[ye]=r[V++]}return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var io=function(_){return _[_.TERMINATOR=0]="TERMINATOR",_[_.NUMERIC=1]="NUMERIC",_[_.ALPHANUMERIC=2]="ALPHANUMERIC",_[_.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",_[_.BYTE=4]="BYTE",_[_.ECI=5]="ECI",_[_.KANJI=6]="KANJI",_[_.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",_[_.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",_[_.HANZI=9]="HANZI",_}(io||{});class Ut{constructor(r,o,s,c){this.value=r,this.stringValue=o,this.characterCountBitsForVersions=s,this.bits=c,Ut.FOR_BITS.set(c,this),Ut.FOR_VALUE.set(r,this)}static forBits(r){let o=Ut.FOR_BITS.get(r);if(o===void 0)throw new x;return o}getCharacterCountBits(r){let o=r.getVersionNumber(),s;return o<=9?s=0:o<=26?s=1:s=2,this.characterCountBitsForVersions[s]}getValue(){return this.value}getBits(){return this.bits}equals(r){if(!(r instanceof Ut))return!1;let o=r;return this.value===o.value}toString(){return this.stringValue}}Ut.FOR_BITS=new Map,Ut.FOR_VALUE=new Map,Ut.TERMINATOR=new Ut(io.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ut.NUMERIC=new Ut(io.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ut.ALPHANUMERIC=new Ut(io.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ut.STRUCTURED_APPEND=new Ut(io.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ut.BYTE=new Ut(io.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ut.ECI=new Ut(io.ECI,"ECI",Int32Array.from([0,0,0]),7),Ut.KANJI=new Ut(io.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ut.FNC1_FIRST_POSITION=new Ut(io.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ut.FNC1_SECOND_POSITION=new Ut(io.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ut.HANZI=new Ut(io.HANZI,"HANZI",Int32Array.from([8,10,12]),13);let lc=(()=>{class _{static decode(o,s,c,u){let h=new Pl(o),m=new W,E=new Array,w=-1,C=-1;try{let L=null,V=!1,Q;do{if(h.available()<4)Q=Ut.TERMINATOR;else{let re=h.readBits(4);Q=Ut.forBits(re)}switch(Q){case Ut.TERMINATOR:break;case Ut.FNC1_FIRST_POSITION:case Ut.FNC1_SECOND_POSITION:V=!0;break;case Ut.STRUCTURED_APPEND:if(h.available()<16)throw new ce;w=h.readBits(8),C=h.readBits(8);break;case Ut.ECI:let re=_.parseECIValue(h);if(L=ne.getCharacterSetECIByValue(re),L===null)throw new ce;break;case Ut.HANZI:let fe=h.readBits(4),ye=h.readBits(Q.getCharacterCountBits(s));fe===_.GB2312_SUBSET&&_.decodeHanziSegment(h,m,ye);break;default:let Le=h.readBits(Q.getCharacterCountBits(s));switch(Q){case Ut.NUMERIC:_.decodeNumericSegment(h,m,Le);break;case Ut.ALPHANUMERIC:_.decodeAlphanumericSegment(h,m,Le,V);break;case Ut.BYTE:_.decodeByteSegment(h,m,Le,L,E,u);break;case Ut.KANJI:_.decodeKanjiSegment(h,m,Le);break;default:throw new ce}break}}while(Q!==Ut.TERMINATOR)}catch{throw new ce}return new Me(o,m.toString(),E.length===0?null:E,c===null?null:c.toString(),w,C)}static decodeHanziSegment(o,s,c){if(c*13>o.available())throw new ce;let u=new Uint8Array(2*c),h=0;for(;c>0;){let m=o.readBits(13),E=m/96<<8&4294967295|m%96;E<959?E+=41377:E+=42657,u[h]=E>>8&255,u[h+1]=E&255,h+=2,c--}try{s.append(Ge.decode(u,Ae.GB2312))}catch(m){throw new ce(m)}}static decodeKanjiSegment(o,s,c){if(c*13>o.available())throw new ce;let u=new Uint8Array(2*c),h=0;for(;c>0;){let m=o.readBits(13),E=m/192<<8&4294967295|m%192;E<7936?E+=33088:E+=49472,u[h]=E>>8,u[h+1]=E,h+=2,c--}try{s.append(Ge.decode(u,Ae.SHIFT_JIS))}catch(m){throw new ce(m)}}static decodeByteSegment(o,s,c,u,h,m){if(8*c>o.available())throw new ce;let E=new Uint8Array(c);for(let C=0;C<c;C++)E[C]=o.readBits(8);let w;u===null?w=Ae.guessEncoding(E,m):w=u.getName();try{s.append(Ge.decode(E,w))}catch(C){throw new ce(C)}h.push(E)}static toAlphaNumericChar(o){if(o>=_.ALPHANUMERIC_CHARS.length)throw new ce;return _.ALPHANUMERIC_CHARS[o]}static decodeAlphanumericSegment(o,s,c,u){let h=s.length();for(;c>1;){if(o.available()<11)throw new ce;let m=o.readBits(11);s.append(_.toAlphaNumericChar(Math.floor(m/45))),s.append(_.toAlphaNumericChar(m%45)),c-=2}if(c===1){if(o.available()<6)throw new ce;s.append(_.toAlphaNumericChar(o.readBits(6)))}if(u)for(let m=h;m<s.length();m++)s.charAt(m)==="%"&&(m<s.length()-1&&s.charAt(m+1)==="%"?s.deleteCharAt(m+1):s.setCharAt(m,""))}static decodeNumericSegment(o,s,c){for(;c>=3;){if(o.available()<10)throw new ce;let u=o.readBits(10);if(u>=1e3)throw new ce;s.append(_.toAlphaNumericChar(Math.floor(u/100))),s.append(_.toAlphaNumericChar(Math.floor(u/10)%10)),s.append(_.toAlphaNumericChar(u%10)),c-=3}if(c===2){if(o.available()<7)throw new ce;let u=o.readBits(7);if(u>=100)throw new ce;s.append(_.toAlphaNumericChar(Math.floor(u/10))),s.append(_.toAlphaNumericChar(u%10))}else if(c===1){if(o.available()<4)throw new ce;let u=o.readBits(4);if(u>=10)throw new ce;s.append(_.toAlphaNumericChar(u))}}static parseECIValue(o){let s=o.readBits(8);if(!(s&128))return s&127;if((s&192)===128){let c=o.readBits(8);return(s&63)<<8&4294967295|c}if((s&224)===192){let c=o.readBits(16);return(s&31)<<16&4294967295|c}throw new ce}}return _.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",_.GB2312_SUBSET=1,_})();class cc{constructor(r){this.mirrored=r}isMirrored(){return this.mirrored}applyMirroredCorrection(r){if(!this.mirrored||r===null||r.length<3)return;let o=r[0];r[0]=r[2],r[2]=o}}class Ca{constructor(){this.rsDecoder=new Ht(Ke.QR_CODE_FIELD_256)}decodeBooleanArray(r,o){return this.decodeBitMatrix(X.parseFromBooleanArray(r),o)}decodeBitMatrix(r,o){let s=new sc(r),c=null;try{return this.decodeBitMatrixParser(s,o)}catch(u){c=u}try{s.remask(),s.setMirror(!0),s.readVersion(),s.readFormatInformation(),s.mirror();let u=this.decodeBitMatrixParser(s,o);return u.setOther(new cc(!0)),u}catch(u){throw c!==null?c:u}}decodeBitMatrixParser(r,o){let s=r.readVersion(),c=r.readFormatInformation().getErrorCorrectionLevel(),u=r.readCodewords(),h=kl.getDataBlocks(u,s,c),m=0;for(let C of h)m+=C.getNumDataCodewords();let E=new Uint8Array(m),w=0;for(let C of h){let L=C.getCodewords(),V=C.getNumDataCodewords();this.correctErrors(L,V);for(let Q=0;Q<V;Q++)E[w++]=L[Q]}return lc.decode(E,s,c,o)}correctErrors(r,o){let s=new Int32Array(r);try{this.rsDecoder.decode(s,r.length-o)}catch{throw new M}for(let c=0;c<o;c++)r[c]=s[c]}}class qa extends Oe{constructor(r,o,s){super(r,o),this.estimatedModuleSize=s}aboutEquals(r,o,s){if(Math.abs(o-this.getY())<=r&&Math.abs(s-this.getX())<=r){let c=Math.abs(r-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(r,o,s){let c=(this.getX()+o)/2,u=(this.getY()+r)/2,h=(this.estimatedModuleSize+s)/2;return new qa(c,u,h)}}class Sa{constructor(r,o,s,c,u,h,m){this.image=r,this.startX=o,this.startY=s,this.width=c,this.height=u,this.moduleSize=h,this.resultPointCallback=m,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){let r=this.startX,o=this.height,s=this.width,c=r+s,u=this.startY+o/2,h=new Int32Array(3),m=this.image;for(let E=0;E<o;E++){let w=u+(E&1?-Math.floor((E+1)/2):Math.floor((E+1)/2));h[0]=0,h[1]=0,h[2]=0;let C=r;for(;C<c&&!m.get(C,w);)C++;let L=0;for(;C<c;){if(m.get(C,w))if(L===1)h[1]++;else if(L===2){if(this.foundPatternCross(h)){let V=this.handlePossibleCenter(h,w,C);if(V!==null)return V}h[0]=h[2],h[1]=1,h[2]=0,L=1}else h[++L]++;else L===1&&L++,h[L]++;C++}if(this.foundPatternCross(h)){let V=this.handlePossibleCenter(h,w,c);if(V!==null)return V}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new G}static centerFromEnd(r,o){return o-r[2]-r[1]/2}foundPatternCross(r){let o=this.moduleSize,s=o/2;for(let c=0;c<3;c++)if(Math.abs(o-r[c])>=s)return!1;return!0}crossCheckVertical(r,o,s,c){let u=this.image,h=u.getHeight(),m=this.crossCheckStateCount;m[0]=0,m[1]=0,m[2]=0;let E=r;for(;E>=0&&u.get(o,E)&&m[1]<=s;)m[1]++,E--;if(E<0||m[1]>s)return NaN;for(;E>=0&&!u.get(o,E)&&m[0]<=s;)m[0]++,E--;if(m[0]>s)return NaN;for(E=r+1;E<h&&u.get(o,E)&&m[1]<=s;)m[1]++,E++;if(E===h||m[1]>s)return NaN;for(;E<h&&!u.get(o,E)&&m[2]<=s;)m[2]++,E++;if(m[2]>s)return NaN;let w=m[0]+m[1]+m[2];return 5*Math.abs(w-c)>=2*c?NaN:this.foundPatternCross(m)?Sa.centerFromEnd(m,E):NaN}handlePossibleCenter(r,o,s){let c=r[0]+r[1]+r[2],u=Sa.centerFromEnd(r,s),h=this.crossCheckVertical(o,u,2*r[1],c);if(!isNaN(h)){let m=(r[0]+r[1]+r[2])/3;for(let w of this.possibleCenters)if(w.aboutEquals(m,h,u))return w.combineEstimate(h,u,m);let E=new qa(u,h,m);this.possibleCenters.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return null}}class Ss extends Oe{constructor(r,o,s,c){super(r,o),this.estimatedModuleSize=s,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(r,o,s){if(Math.abs(o-this.getY())<=r&&Math.abs(s-this.getX())<=r){let c=Math.abs(r-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(r,o,s){let c=this.count+1,u=(this.count*this.getX()+o)/c,h=(this.count*this.getY()+r)/c,m=(this.count*this.estimatedModuleSize+s)/c;return new Ss(u,h,m,c)}}class Mr{constructor(r){this.bottomLeft=r[0],this.topLeft=r[1],this.topRight=r[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}let d0=(()=>{class _{constructor(o,s){this.image=o,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=s}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(o){let s=o!=null&&o.get(xe.TRY_HARDER)!==void 0,c=o!=null&&o.get(xe.PURE_BARCODE)!==void 0,u=this.image,h=u.getHeight(),m=u.getWidth(),E=Math.floor(3*h/(4*_.MAX_MODULES));(E<_.MIN_SKIP||s)&&(E=_.MIN_SKIP);let w=!1,C=new Int32Array(5);for(let V=E-1;V<h&&!w;V+=E){C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0;let Q=0;for(let re=0;re<m;re++)if(u.get(re,V))(Q&1)===1&&Q++,C[Q]++;else if(Q&1)C[Q]++;else if(Q===4)if(_.foundPatternCross(C)){if(this.handlePossibleCenter(C,V,re,c)===!0)if(E=2,this.hasSkipped===!0)w=this.haveMultiplyConfirmedCenters();else{let ye=this.findRowSkip();ye>C[2]&&(V+=ye-C[2]-E,re=m-1)}else{C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,Q=3;continue}Q=0,C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0}else C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,Q=3;else C[++Q]++;_.foundPatternCross(C)&&this.handlePossibleCenter(C,V,m,c)===!0&&(E=C[0],this.hasSkipped&&(w=this.haveMultiplyConfirmedCenters()))}let L=this.selectBestPatterns();return Oe.orderBestPatterns(L),new Mr(L)}static centerFromEnd(o,s){return s-o[4]-o[3]-o[2]/2}static foundPatternCross(o){let s=0;for(let h=0;h<5;h++){let m=o[h];if(m===0)return!1;s+=m}if(s<7)return!1;let c=s/7,u=c/2;return Math.abs(c-o[0])<u&&Math.abs(c-o[1])<u&&Math.abs(3*c-o[2])<3*u&&Math.abs(c-o[3])<u&&Math.abs(c-o[4])<u}getCrossCheckStateCount(){let o=this.crossCheckStateCount;return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o}crossCheckDiagonal(o,s,c,u){let h=this.getCrossCheckStateCount(),m=0,E=this.image;for(;o>=m&&s>=m&&E.get(s-m,o-m);)h[2]++,m++;if(o<m||s<m)return!1;for(;o>=m&&s>=m&&!E.get(s-m,o-m)&&h[1]<=c;)h[1]++,m++;if(o<m||s<m||h[1]>c)return!1;for(;o>=m&&s>=m&&E.get(s-m,o-m)&&h[0]<=c;)h[0]++,m++;if(h[0]>c)return!1;let w=E.getHeight(),C=E.getWidth();for(m=1;o+m<w&&s+m<C&&E.get(s+m,o+m);)h[2]++,m++;if(o+m>=w||s+m>=C)return!1;for(;o+m<w&&s+m<C&&!E.get(s+m,o+m)&&h[3]<c;)h[3]++,m++;if(o+m>=w||s+m>=C||h[3]>=c)return!1;for(;o+m<w&&s+m<C&&E.get(s+m,o+m)&&h[4]<c;)h[4]++,m++;if(h[4]>=c)return!1;let L=h[0]+h[1]+h[2]+h[3]+h[4];return Math.abs(L-u)<2*u&&_.foundPatternCross(h)}crossCheckVertical(o,s,c,u){let h=this.image,m=h.getHeight(),E=this.getCrossCheckStateCount(),w=o;for(;w>=0&&h.get(s,w);)E[2]++,w--;if(w<0)return NaN;for(;w>=0&&!h.get(s,w)&&E[1]<=c;)E[1]++,w--;if(w<0||E[1]>c)return NaN;for(;w>=0&&h.get(s,w)&&E[0]<=c;)E[0]++,w--;if(E[0]>c)return NaN;for(w=o+1;w<m&&h.get(s,w);)E[2]++,w++;if(w===m)return NaN;for(;w<m&&!h.get(s,w)&&E[3]<c;)E[3]++,w++;if(w===m||E[3]>=c)return NaN;for(;w<m&&h.get(s,w)&&E[4]<c;)E[4]++,w++;if(E[4]>=c)return NaN;let C=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(C-u)>=2*u?NaN:_.foundPatternCross(E)?_.centerFromEnd(E,w):NaN}crossCheckHorizontal(o,s,c,u){let h=this.image,m=h.getWidth(),E=this.getCrossCheckStateCount(),w=o;for(;w>=0&&h.get(w,s);)E[2]++,w--;if(w<0)return NaN;for(;w>=0&&!h.get(w,s)&&E[1]<=c;)E[1]++,w--;if(w<0||E[1]>c)return NaN;for(;w>=0&&h.get(w,s)&&E[0]<=c;)E[0]++,w--;if(E[0]>c)return NaN;for(w=o+1;w<m&&h.get(w,s);)E[2]++,w++;if(w===m)return NaN;for(;w<m&&!h.get(w,s)&&E[3]<c;)E[3]++,w++;if(w===m||E[3]>=c)return NaN;for(;w<m&&h.get(w,s)&&E[4]<c;)E[4]++,w++;if(E[4]>=c)return NaN;let C=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(C-u)>=u?NaN:_.foundPatternCross(E)?_.centerFromEnd(E,w):NaN}handlePossibleCenter(o,s,c,u){let h=o[0]+o[1]+o[2]+o[3]+o[4],m=_.centerFromEnd(o,c),E=this.crossCheckVertical(s,Math.floor(m),o[2],h);if(!isNaN(E)&&(m=this.crossCheckHorizontal(Math.floor(m),Math.floor(E),o[2],h),!isNaN(m)&&(!u||this.crossCheckDiagonal(Math.floor(E),Math.floor(m),o[2],h)))){let w=h/7,C=!1,L=this.possibleCenters;for(let V=0,Q=L.length;V<Q;V++){let re=L[V];if(re.aboutEquals(w,E,m)){L[V]=re.combineEstimate(E,m,w),C=!0;break}}if(!C){let V=new Ss(m,E,w);L.push(V),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(V)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let s=null;for(let c of this.possibleCenters)if(c.getCount()>=_.CENTER_QUORUM)if(s==null)s=c;else return this.hasSkipped=!0,Math.floor((Math.abs(s.getX()-c.getX())-Math.abs(s.getY()-c.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let o=0,s=0,c=this.possibleCenters.length;for(let m of this.possibleCenters)m.getCount()>=_.CENTER_QUORUM&&(o++,s+=m.getEstimatedModuleSize());if(o<3)return!1;let u=s/c,h=0;for(let m of this.possibleCenters)h+=Math.abs(m.getEstimatedModuleSize()-u);return h<=.05*s}selectBestPatterns(){let o=this.possibleCenters.length;if(o<3)throw new G;let s=this.possibleCenters,c;if(o>3){let u=0,h=0;for(let w of this.possibleCenters){let C=w.getEstimatedModuleSize();u+=C,h+=C*C}c=u/o;let m=Math.sqrt(h/o-c*c);s.sort((w,C)=>{let L=Math.abs(C.getEstimatedModuleSize()-c),V=Math.abs(w.getEstimatedModuleSize()-c);return L<V?-1:L>V?1:0});let E=Math.max(.2*c,m);for(let w=0;w<s.length&&s.length>3;w++){let C=s[w];Math.abs(C.getEstimatedModuleSize()-c)>E&&(s.splice(w,1),w--)}}if(s.length>3){let u=0;for(let h of s)u+=h.getEstimatedModuleSize();c=u/s.length,s.sort((h,m)=>{if(m.getCount()===h.getCount()){let E=Math.abs(m.getEstimatedModuleSize()-c),w=Math.abs(h.getEstimatedModuleSize()-c);return E<w?1:E>w?-1:0}else return m.getCount()-h.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]}}return _.CENTER_QUORUM=2,_.MIN_SKIP=3,_.MAX_MODULES=57,_})();class za{constructor(r){this.image=r}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(r){this.resultPointCallback=r==null?null:r.get(xe.NEED_RESULT_POINT_CALLBACK);let s=new d0(this.image,this.resultPointCallback).find(r);return this.processFinderPatternInfo(s)}processFinderPatternInfo(r){let o=r.getTopLeft(),s=r.getTopRight(),c=r.getBottomLeft(),u=this.calculateModuleSize(o,s,c);if(u<1)throw new G("No pattern found in proccess finder.");let h=za.computeDimension(o,s,c,u),m=Ot.getProvisionalVersionForDimension(h),E=m.getDimensionForVersion()-7,w=null;if(m.getAlignmentPatternCenters().length>0){let Q=s.getX()-o.getX()+c.getX(),re=s.getY()-o.getY()+c.getY(),fe=1-3/E,ye=Math.floor(o.getX()+fe*(Q-o.getX())),Le=Math.floor(o.getY()+fe*(re-o.getY()));for(let nt=4;nt<=16;nt<<=1)try{w=this.findAlignmentInRegion(u,ye,Le,nt);break}catch(ct){if(!(ct instanceof G))throw ct}}let C=za.createTransform(o,s,c,w,h),L=za.sampleGrid(this.image,C,h),V;return w===null?V=[c,o,s]:V=[c,o,s,w],new ut(L,V)}static createTransform(r,o,s,c,u){let h=u-3.5,m,E,w,C;return c!==null?(m=c.getX(),E=c.getY(),w=h-3,C=w):(m=o.getX()-r.getX()+s.getX(),E=o.getY()-r.getY()+s.getY(),w=h,C=h),Vt.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,w,C,3.5,h,r.getX(),r.getY(),o.getX(),o.getY(),m,E,s.getX(),s.getY())}static sampleGrid(r,o,s){return ri.getInstance().sampleGridWithTransform(r,s,s,o)}static computeDimension(r,o,s,c){let u=Et.round(Oe.distance(r,o)/c),h=Et.round(Oe.distance(r,s)/c),m=Math.floor((u+h)/2)+7;switch(m&3){case 0:m++;break;case 2:m--;break;case 3:throw new G("Dimensions could be not found.")}return m}calculateModuleSize(r,o,s){return(this.calculateModuleSizeOneWay(r,o)+this.calculateModuleSizeOneWay(r,s))/2}calculateModuleSizeOneWay(r,o){let s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(o.getX()),Math.floor(o.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(r.getX()),Math.floor(r.getY()));return isNaN(s)?c/7:isNaN(c)?s/7:(s+c)/14}sizeOfBlackWhiteBlackRunBothWays(r,o,s,c){let u=this.sizeOfBlackWhiteBlackRun(r,o,s,c),h=1,m=r-(s-r);m<0?(h=r/(r-m),m=0):m>=this.image.getWidth()&&(h=(this.image.getWidth()-1-r)/(m-r),m=this.image.getWidth()-1);let E=Math.floor(o-(c-o)*h);return h=1,E<0?(h=o/(o-E),E=0):E>=this.image.getHeight()&&(h=(this.image.getHeight()-1-o)/(E-o),E=this.image.getHeight()-1),m=Math.floor(r+(m-r)*h),u+=this.sizeOfBlackWhiteBlackRun(r,o,m,E),u-1}sizeOfBlackWhiteBlackRun(r,o,s,c){let u=Math.abs(c-o)>Math.abs(s-r);if(u){let Q=r;r=o,o=Q,Q=s,s=c,c=Q}let h=Math.abs(s-r),m=Math.abs(c-o),E=-h/2,w=r<s?1:-1,C=o<c?1:-1,L=0,V=s+w;for(let Q=r,re=o;Q!==V;Q+=w){let fe=u?re:Q,ye=u?Q:re;if(L===1===this.image.get(fe,ye)){if(L===2)return Et.distance(Q,re,r,o);L++}if(E+=m,E>0){if(re===c)break;re+=C,E-=h}}return L===2?Et.distance(s+w,c,r,o):NaN}findAlignmentInRegion(r,o,s,c){let u=Math.floor(c*r),h=Math.max(0,o-u),m=Math.min(this.image.getWidth()-1,o+u);if(m-h<r*3)throw new G("Alignment top exceeds estimated module size.");let E=Math.max(0,s-u),w=Math.min(this.image.getHeight()-1,s+u);if(w-E<r*3)throw new G("Alignment bottom exceeds estimated module size.");return new Sa(this.image,h,E,m-h,w-E,r,this.resultPointCallback).find()}}class Gt{constructor(){this.decoder=new Ca}getDecoder(){return this.decoder}decode(r,o){let s,c;if(o!=null&&o.get(xe.PURE_BARCODE)!==void 0){let E=Gt.extractPureBits(r.getBlackMatrix());s=this.decoder.decodeBitMatrix(E,o),c=Gt.NO_POINTS}else{let E=new za(r.getBlackMatrix()).detect(o);s=this.decoder.decodeBitMatrix(E.getBits(),o),c=E.getPoints()}s.getOther()instanceof cc&&s.getOther().applyMirroredCorrection(c);let u=new B(s.getText(),s.getRawBytes(),void 0,c,J.QR_CODE,void 0),h=s.getByteSegments();h!==null&&u.putMetadata(ve.BYTE_SEGMENTS,h);let m=s.getECLevel();return m!==null&&u.putMetadata(ve.ERROR_CORRECTION_LEVEL,m),s.hasStructuredAppend()&&(u.putMetadata(ve.STRUCTURED_APPEND_SEQUENCE,s.getStructuredAppendSequenceNumber()),u.putMetadata(ve.STRUCTURED_APPEND_PARITY,s.getStructuredAppendParity())),u}reset(){}static extractPureBits(r){let o=r.getTopLeftOnBit(),s=r.getBottomRightOnBit();if(o===null||s===null)throw new G;let c=this.moduleSize(o,r),u=o[1],h=s[1],m=o[0],E=s[0];if(m>=E||u>=h)throw new G;if(h-u!==E-m&&(E=m+(h-u),E>=r.getWidth()))throw new G;let w=Math.round((E-m+1)/c),C=Math.round((h-u+1)/c);if(w<=0||C<=0)throw new G;if(C!==w)throw new G;let L=Math.floor(c/2);u+=L,m+=L;let V=m+Math.floor((w-1)*c)-E;if(V>0){if(V>L)throw new G;m-=V}let Q=u+Math.floor((C-1)*c)-h;if(Q>0){if(Q>L)throw new G;u-=Q}let re=new X(w,C);for(let fe=0;fe<C;fe++){let ye=u+Math.floor(fe*c);for(let Le=0;Le<w;Le++)r.get(m+Math.floor(Le*c),ye)&&re.set(Le,fe)}return re}static moduleSize(r,o){let s=o.getHeight(),c=o.getWidth(),u=r[0],h=r[1],m=!0,E=0;for(;u<c&&h<s;){if(m!==o.get(u,h)){if(++E===5)break;m=!m}u++,h++}if(u===c||h===s)throw new G;return(u-r[0])/7}}Gt.NO_POINTS=new Array;class Wt{PDF417Common(){}static getBitCountSum(r){return Et.sum(r)}static toIntArray(r){if(r==null||!r.length)return Wt.EMPTY_INT_ARRAY;let o=new Int32Array(r.length),s=0;for(let c of r)o[s++]=c;return o}static getCodeword(r){let o=K.binarySearch(Wt.SYMBOL_TABLE,r&262143);return o<0?-1:(Wt.CODEWORD_TABLE[o]-1)%Wt.NUMBER_OF_CODEWORDS}}Wt.NUMBER_OF_CODEWORDS=929,Wt.MAX_CODEWORDS_IN_BARCODE=Wt.NUMBER_OF_CODEWORDS-1,Wt.MIN_ROWS_IN_BARCODE=3,Wt.MAX_ROWS_IN_BARCODE=90,Wt.MODULES_IN_CODEWORD=17,Wt.MODULES_IN_STOP_PATTERN=18,Wt.BARS_IN_MODULE=8,Wt.EMPTY_INT_ARRAY=new Int32Array([]),Wt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Wt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class m0{constructor(r,o){this.bits=r,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Zt{static detectMultiple(r,o,s){let c=r.getBlackMatrix(),u=Zt.detect(s,c);return u.length||(c=c.clone(),c.rotate180(),u=Zt.detect(s,c)),new m0(c,u)}static detect(r,o){let s=new Array,c=0,u=0,h=!1;for(;c<o.getHeight();){let m=Zt.findVertices(o,c,u);if(m[0]==null&&m[3]==null){if(!h)break;h=!1,u=0;for(let E of s)E[1]!=null&&(c=Math.trunc(Math.max(c,E[1].getY()))),E[3]!=null&&(c=Math.max(c,Math.trunc(E[3].getY())));c+=Zt.ROW_STEP;continue}if(h=!0,s.push(m),!r)break;m[2]!=null?(u=Math.trunc(m[2].getX()),c=Math.trunc(m[2].getY())):(u=Math.trunc(m[4].getX()),c=Math.trunc(m[4].getY()))}return s}static findVertices(r,o,s){let c=r.getHeight(),u=r.getWidth(),h=new Array(8);return Zt.copyToResult(h,Zt.findRowsWithPattern(r,c,u,o,s,Zt.START_PATTERN),Zt.INDEXES_START_PATTERN),h[4]!=null&&(s=Math.trunc(h[4].getX()),o=Math.trunc(h[4].getY())),Zt.copyToResult(h,Zt.findRowsWithPattern(r,c,u,o,s,Zt.STOP_PATTERN),Zt.INDEXES_STOP_PATTERN),h}static copyToResult(r,o,s){for(let c=0;c<s.length;c++)r[s[c]]=o[c]}static findRowsWithPattern(r,o,s,c,u,h){let m=new Array(4),E=!1,w=new Int32Array(h.length);for(;c<o;c+=Zt.ROW_STEP){let L=Zt.findGuardPattern(r,u,c,s,!1,h,w);if(L!=null){for(;c>0;){let V=Zt.findGuardPattern(r,u,--c,s,!1,h,w);if(V!=null)L=V;else{c++;break}}m[0]=new Oe(L[0],c),m[1]=new Oe(L[1],c),E=!0;break}}let C=c+1;if(E){let L=0,V=Int32Array.from([Math.trunc(m[0].getX()),Math.trunc(m[1].getX())]);for(;C<o;C++){let Q=Zt.findGuardPattern(r,V[0],C,s,!1,h,w);if(Q!=null&&Math.abs(V[0]-Q[0])<Zt.MAX_PATTERN_DRIFT&&Math.abs(V[1]-Q[1])<Zt.MAX_PATTERN_DRIFT)V=Q,L=0;else{if(L>Zt.SKIPPED_ROW_COUNT_MAX)break;L++}}C-=L+1,m[2]=new Oe(V[0],C),m[3]=new Oe(V[1],C)}return C-c<Zt.BARCODE_MIN_HEIGHT&&K.fill(m,null),m}static findGuardPattern(r,o,s,c,u,h,m){K.fillWithin(m,0,m.length,0);let E=o,w=0;for(;r.get(E,s)&&E>0&&w++<Zt.MAX_PIXEL_DRIFT;)E--;let C=E,L=0,V=h.length;for(let Q=u;C<c;C++)if(r.get(C,s)!==Q)m[L]++;else{if(L===V-1){if(Zt.patternMatchVariance(m,h,Zt.MAX_INDIVIDUAL_VARIANCE)<Zt.MAX_AVG_VARIANCE)return new Int32Array([E,C]);E+=m[0]+m[1],A.arraycopy(m,2,m,0,L-1),m[L-1]=0,m[L]=0,L--}else L++;m[L]=1,Q=!Q}return L===V-1&&Zt.patternMatchVariance(m,h,Zt.MAX_INDIVIDUAL_VARIANCE)<Zt.MAX_AVG_VARIANCE?new Int32Array([E,C-1]):null}static patternMatchVariance(r,o,s){let c=r.length,u=0,h=0;for(let w=0;w<c;w++)u+=r[w],h+=o[w];if(u<h)return 1/0;let m=u/h;s*=m;let E=0;for(let w=0;w<c;w++){let C=r[w],L=o[w]*m,V=C>L?C-L:L-C;if(V>s)return 1/0;E+=V}return E/u}}Zt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Zt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Zt.MAX_AVG_VARIANCE=.42,Zt.MAX_INDIVIDUAL_VARIANCE=.8,Zt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Zt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Zt.MAX_PIXEL_DRIFT=3,Zt.MAX_PATTERN_DRIFT=5,Zt.SKIPPED_ROW_COUNT_MAX=25,Zt.ROW_STEP=5,Zt.BARCODE_MIN_HEIGHT=10;class tr{constructor(r,o){if(o.length===0)throw new x;this.field=r;let s=o.length;if(s>1&&o[0]===0){let c=1;for(;c<s&&o[c]===0;)c++;c===s?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(s-c),A.arraycopy(o,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);if(r===1){let c=0;for(let u of this.coefficients)c=this.field.add(c,u);return c}let o=this.coefficients[0],s=this.coefficients.length;for(let c=1;c<s;c++)o=this.field.add(this.field.multiply(r,o),this.coefficients[c]);return o}add(r){if(!this.field.equals(r.field))throw new x("ModulusPolys do not have same ModulusGF field");if(this.isZero())return r;if(r.isZero())return this;let o=this.coefficients,s=r.coefficients;if(o.length>s.length){let h=o;o=s,s=h}let c=new Int32Array(s.length),u=s.length-o.length;A.arraycopy(s,0,c,0,u);for(let h=u;h<s.length;h++)c[h]=this.field.add(o[h-u],s[h]);return new tr(this.field,c)}subtract(r){if(!this.field.equals(r.field))throw new x("ModulusPolys do not have same ModulusGF field");return r.isZero()?this:this.add(r.negative())}multiply(r){return r instanceof tr?this.multiplyOther(r):this.multiplyScalar(r)}multiplyOther(r){if(!this.field.equals(r.field))throw new x("ModulusPolys do not have same ModulusGF field");if(this.isZero()||r.isZero())return new tr(this.field,new Int32Array([0]));let o=this.coefficients,s=o.length,c=r.coefficients,u=c.length,h=new Int32Array(s+u-1);for(let m=0;m<s;m++){let E=o[m];for(let w=0;w<u;w++)h[m+w]=this.field.add(h[m+w],this.field.multiply(E,c[w]))}return new tr(this.field,h)}negative(){let r=this.coefficients.length,o=new Int32Array(r);for(let s=0;s<r;s++)o[s]=this.field.subtract(0,this.coefficients[s]);return new tr(this.field,o)}multiplyScalar(r){if(r===0)return new tr(this.field,new Int32Array([0]));if(r===1)return this;let o=this.coefficients.length,s=new Int32Array(o);for(let c=0;c<o;c++)s[c]=this.field.multiply(this.coefficients[c],r);return new tr(this.field,s)}multiplyByMonomial(r,o){if(r<0)throw new x;if(o===0)return new tr(this.field,new Int32Array([0]));let s=this.coefficients.length,c=new Int32Array(s+r);for(let u=0;u<s;u++)c[u]=this.field.multiply(this.coefficients[u],o);return new tr(this.field,c)}toString(){let r=new W;for(let o=this.getDegree();o>=0;o--){let s=this.getCoefficient(o);s!==0&&(s<0?(r.append(" - "),s=-s):r.length()>0&&r.append(" + "),(o===0||s!==1)&&r.append(s),o!==0&&(o===1?r.append("x"):(r.append("x^"),r.append(o))))}return r.toString()}}class uc{add(r,o){return(r+o)%this.modulus}subtract(r,o){return(this.modulus+r-o)%this.modulus}exp(r){return this.expTable[r]}log(r){if(r===0)throw new x;return this.logTable[r]}inverse(r){if(r===0)throw new st;return this.expTable[this.modulus-this.logTable[r]-1]}multiply(r,o){return r===0||o===0?0:this.expTable[(this.logTable[r]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(r){return r===this}}class Ha extends uc{constructor(r,o){super(),this.modulus=r,this.expTable=new Int32Array(r),this.logTable=new Int32Array(r);let s=1;for(let c=0;c<r;c++)this.expTable[c]=s,s=s*o%r;for(let c=0;c<r-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new tr(this,new Int32Array([0])),this.one=new tr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,o){if(r<0)throw new x;if(o===0)return this.zero;let s=new Int32Array(r+1);return s[0]=o,new tr(this,s)}}Ha.PDF417_GF=new Ha(Wt.NUMBER_OF_CODEWORDS,3);class As{constructor(){this.field=Ha.PDF417_GF}decode(r,o,s){let c=new tr(this.field,r),u=new Int32Array(o),h=!1;for(let re=o;re>0;re--){let fe=c.evaluateAt(this.field.exp(re));u[o-re]=fe,fe!==0&&(h=!0)}if(!h)return 0;let m=this.field.getOne();if(s!=null)for(let re of s){let fe=this.field.exp(r.length-1-re),ye=new tr(this.field,new Int32Array([this.field.subtract(0,fe),1]));m=m.multiply(ye)}let E=new tr(this.field,u),w=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),E,o),C=w[0],L=w[1],V=this.findErrorLocations(C),Q=this.findErrorMagnitudes(L,C,V);for(let re=0;re<V.length;re++){let fe=r.length-1-this.field.log(V[re]);if(fe<0)throw M.getChecksumInstance();r[fe]=this.field.subtract(r[fe],Q[re])}return V.length}runEuclideanAlgorithm(r,o,s){if(r.getDegree()<o.getDegree()){let V=r;r=o,o=V}let c=r,u=o,h=this.field.getZero(),m=this.field.getOne();for(;u.getDegree()>=Math.round(s/2);){let V=c,Q=h;if(c=u,h=m,c.isZero())throw M.getChecksumInstance();u=V;let re=this.field.getZero(),fe=c.getCoefficient(c.getDegree()),ye=this.field.inverse(fe);for(;u.getDegree()>=c.getDegree()&&!u.isZero();){let Le=u.getDegree()-c.getDegree(),nt=this.field.multiply(u.getCoefficient(u.getDegree()),ye);re=re.add(this.field.buildMonomial(Le,nt)),u=u.subtract(c.multiplyByMonomial(Le,nt))}m=re.multiply(h).subtract(Q).negative()}let E=m.getCoefficient(0);if(E===0)throw M.getChecksumInstance();let w=this.field.inverse(E),C=m.multiply(w),L=u.multiply(w);return[C,L]}findErrorLocations(r){let o=r.getDegree(),s=new Int32Array(o),c=0;for(let u=1;u<this.field.getSize()&&c<o;u++)r.evaluateAt(u)===0&&(s[c]=this.field.inverse(u),c++);if(c!==o)throw M.getChecksumInstance();return s}findErrorMagnitudes(r,o,s){let c=o.getDegree(),u=new Int32Array(c);for(let w=1;w<=c;w++)u[c-w]=this.field.multiply(w,o.getCoefficient(w));let h=new tr(this.field,u),m=s.length,E=new Int32Array(m);for(let w=0;w<m;w++){let C=this.field.inverse(s[w]),L=this.field.subtract(0,r.evaluateAt(C)),V=this.field.inverse(h.evaluateAt(C));E[w]=this.field.multiply(L,V)}return E}}class Aa{constructor(r,o,s,c,u){r instanceof Aa?this.constructor_2(r):this.constructor_1(r,o,s,c,u)}constructor_1(r,o,s,c,u){let h=o==null||s==null,m=c==null||u==null;if(h&&m)throw new G;h?(o=new Oe(0,c.getY()),s=new Oe(0,u.getY())):m&&(c=new Oe(r.getWidth()-1,o.getY()),u=new Oe(r.getWidth()-1,s.getY())),this.image=r,this.topLeft=o,this.bottomLeft=s,this.topRight=c,this.bottomRight=u,this.minX=Math.trunc(Math.min(o.getX(),s.getX())),this.maxX=Math.trunc(Math.max(c.getX(),u.getX())),this.minY=Math.trunc(Math.min(o.getY(),c.getY())),this.maxY=Math.trunc(Math.max(s.getY(),u.getY()))}constructor_2(r){this.image=r.image,this.topLeft=r.getTopLeft(),this.bottomLeft=r.getBottomLeft(),this.topRight=r.getTopRight(),this.bottomRight=r.getBottomRight(),this.minX=r.getMinX(),this.maxX=r.getMaxX(),this.minY=r.getMinY(),this.maxY=r.getMaxY()}static merge(r,o){return r==null?o:o==null?r:new Aa(r.image,r.topLeft,r.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(r,o,s){let c=this.topLeft,u=this.bottomLeft,h=this.topRight,m=this.bottomRight;if(r>0){let E=s?this.topLeft:this.topRight,w=Math.trunc(E.getY()-r);w<0&&(w=0);let C=new Oe(E.getX(),w);s?c=C:h=C}if(o>0){let E=s?this.bottomLeft:this.bottomRight,w=Math.trunc(E.getY()+o);w>=this.image.getHeight()&&(w=this.image.getHeight()-1);let C=new Oe(E.getX(),w);s?u=C:m=C}return new Aa(this.image,c,u,h,m)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class p0{constructor(r,o,s,c){this.columnCount=r,this.errorCorrectionLevel=c,this.rowCountUpperPart=o,this.rowCountLowerPart=s,this.rowCount=o+s}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ss{constructor(){this.buffer=""}static form(r,o){let s=-1;function c(h,m,E,w,C,L){if(h==="%%")return"%";if(o[++s]===void 0)return;h=w?parseInt(w.substr(1)):void 0;let V=C?parseInt(C.substr(1)):void 0,Q;switch(L){case"s":Q=o[s];break;case"c":Q=o[s][0];break;case"f":Q=parseFloat(o[s]).toFixed(h);break;case"p":Q=parseFloat(o[s]).toPrecision(h);break;case"e":Q=parseFloat(o[s]).toExponential(h);break;case"x":Q=parseInt(o[s]).toString(V||16);break;case"d":Q=parseFloat(parseInt(o[s],V||10).toPrecision(h)).toFixed(0);break}Q=typeof Q=="object"?JSON.stringify(Q):(+Q).toString(V);let re=parseInt(E),fe=E&&E[0]+""=="0"?"0":" ";for(;Q.length<re;)Q=m!==void 0?Q+fe:fe+Q;return Q}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(u,c)}format(r,...o){this.buffer+=ss.form(r,o)}toString(){return this.buffer}}let Is=(()=>{class _{constructor(o){this.boundingBox=new Aa(o),this.codewords=new Array(o.getMaxY()-o.getMinY()+1)}getCodewordNearby(o){let s=this.getCodeword(o);if(s!=null)return s;for(let c=1;c<_.MAX_NEARBY_DISTANCE;c++){let u=this.imageRowToCodewordIndex(o)-c;if(u>=0&&(s=this.codewords[u],s!=null)||(u=this.imageRowToCodewordIndex(o)+c,u<this.codewords.length&&(s=this.codewords[u],s!=null)))return s}return null}imageRowToCodewordIndex(o){return o-this.boundingBox.getMinY()}setCodeword(o,s){this.codewords[this.imageRowToCodewordIndex(o)]=s}getCodeword(o){return this.codewords[this.imageRowToCodewordIndex(o)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){let o=new ss,s=0;for(let c of this.codewords){if(c==null){o.format("%3d:    |   %n",s++);continue}o.format("%3d: %3d|%3d%n",s++,c.getRowNumber(),c.getValue())}return o.toString()}}return _.MAX_NEARBY_DISTANCE=5,_})();class Xo{constructor(){this.values=new Map}setValue(r){r=Math.trunc(r);let o=this.values.get(r);o==null&&(o=0),o++,this.values.set(r,o)}getValue(){let r=-1,o=new Array;for(let[s,c]of this.values.entries()){let u={getKey:()=>s,getValue:()=>c};u.getValue()>r?(r=u.getValue(),o=[],o.push(u.getKey())):u.getValue()===r&&o.push(u.getKey())}return Wt.toIntArray(o)}getConfidence(r){return this.values.get(r)}}class Ia extends Is{constructor(r,o){super(r),this._isLeft=o}setRowNumbers(){for(let r of this.getCodewords())r?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(r){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,r);let s=this.getBoundingBox(),c=this._isLeft?s.getTopLeft():s.getTopRight(),u=this._isLeft?s.getBottomLeft():s.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),m=this.imageRowToCodewordIndex(Math.trunc(u.getY())),E=-1,w=1,C=0;for(let L=h;L<m;L++){if(o[L]==null)continue;let V=o[L],Q=V.getRowNumber()-E;if(Q===0)C++;else if(Q===1)w=Math.max(w,C),C=1,E=V.getRowNumber();else if(Q<0||V.getRowNumber()>=r.getRowCount()||Q>L)o[L]=null;else{let re;w>2?re=(w-2)*Q:re=Q;let fe=re>=L;for(let ye=1;ye<=re&&!fe;ye++)fe=o[L-ye]!=null;fe?o[L]=null:(E=V.getRowNumber(),C=1)}}}getRowHeights(){let r=this.getBarcodeMetadata();if(r==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(r);let o=new Int32Array(r.getRowCount());for(let s of this.getCodewords())if(s!=null){let c=s.getRowNumber();if(c>=o.length)continue;o[c]++}return o}adjustIncompleteIndicatorColumnRowNumbers(r){let o=this.getBoundingBox(),s=this._isLeft?o.getTopLeft():o.getTopRight(),c=this._isLeft?o.getBottomLeft():o.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),m=this.getCodewords(),E=-1;for(let w=u;w<h;w++){if(m[w]==null)continue;let C=m[w];C.setRowNumberAsRowIndicatorColumn();let L=C.getRowNumber()-E;L===0||(L===1?E=C.getRowNumber():C.getRowNumber()>=r.getRowCount()?m[w]=null:E=C.getRowNumber())}}getBarcodeMetadata(){let r=this.getCodewords(),o=new Xo,s=new Xo,c=new Xo,u=new Xo;for(let m of r){if(m==null)continue;m.setRowNumberAsRowIndicatorColumn();let E=m.getValue()%30,w=m.getRowNumber();switch(this._isLeft||(w+=2),w%3){case 0:s.setValue(E*3+1);break;case 1:u.setValue(E/3),c.setValue(E%3);break;case 2:o.setValue(E+1);break}}if(o.getValue().length===0||s.getValue().length===0||c.getValue().length===0||u.getValue().length===0||o.getValue()[0]<1||s.getValue()[0]+c.getValue()[0]<Wt.MIN_ROWS_IN_BARCODE||s.getValue()[0]+c.getValue()[0]>Wt.MAX_ROWS_IN_BARCODE)return null;let h=new p0(o.getValue()[0],s.getValue()[0],c.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(r,h),h}removeIncorrectCodewords(r,o){for(let s=0;s<r.length;s++){let c=r[s];if(r[s]==null)continue;let u=c.getValue()%30,h=c.getRowNumber();if(h>o.getRowCount()){r[s]=null;continue}switch(this._isLeft||(h+=2),h%3){case 0:u*3+1!==o.getRowCountUpperPart()&&(r[s]=null);break;case 1:(Math.trunc(u/3)!==o.getErrorCorrectionLevel()||u%3!==o.getRowCountLowerPart())&&(r[s]=null);break;case 2:u+1!==o.getColumnCount()&&(r[s]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class ls{constructor(r,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=r,this.barcodeColumnCount=r.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let r=Wt.MAX_CODEWORDS_IN_BARCODE,o;do o=r,r=this.adjustRowNumbersAndGetCount();while(r>0&&r<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(r){r?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let r=this.adjustRowNumbersByRow();if(r===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let s=this.detectionResultColumns[o].getCodewords();for(let c=0;c<s.length;c++)s[c]!=null&&(s[c].hasValidRowNumber()||this.adjustRowNumbers(o,c,s))}return r}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let r=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<r.length;s++)if(r[s]!=null&&o[s]!=null&&r[s].getRowNumber()===o[s].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let u=this.detectionResultColumns[c].getCodewords()[s];u!=null&&(u.setRowNumber(r[s].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[s]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let r=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<o.length;s++){if(o[s]==null)continue;let c=o[s].getRowNumber(),u=0;for(let h=this.barcodeColumnCount+1;h>0&&u<this.ADJUST_ROW_NUMBER_SKIP;h--){let m=this.detectionResultColumns[h].getCodewords()[s];m!=null&&(u=ls.adjustRowNumberIfValid(c,u,m),m.hasValidRowNumber()||r++)}}return r}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let r=0,o=this.detectionResultColumns[0].getCodewords();for(let s=0;s<o.length;s++){if(o[s]==null)continue;let c=o[s].getRowNumber(),u=0;for(let h=1;h<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;h++){let m=this.detectionResultColumns[h].getCodewords()[s];m!=null&&(u=ls.adjustRowNumberIfValid(c,u,m),m.hasValidRowNumber()||r++)}}return r}static adjustRowNumberIfValid(r,o,s){return s==null||s.hasValidRowNumber()||(s.isValidRowNumber(r)?(s.setRowNumber(r),o=0):++o),o}adjustRowNumbers(r,o,s){if(!this.detectionResultColumns[r-1])return;let c=s[o],u=this.detectionResultColumns[r-1].getCodewords(),h=u;this.detectionResultColumns[r+1]!=null&&(h=this.detectionResultColumns[r+1].getCodewords());let m=new Array(14);m[2]=u[o],m[3]=h[o],o>0&&(m[0]=s[o-1],m[4]=u[o-1],m[5]=h[o-1]),o>1&&(m[8]=s[o-2],m[10]=u[o-2],m[11]=h[o-2]),o<s.length-1&&(m[1]=s[o+1],m[6]=u[o+1],m[7]=h[o+1]),o<s.length-2&&(m[9]=s[o+2],m[12]=u[o+2],m[13]=h[o+2]);for(let E of m)if(ls.adjustRowNumber(c,E))return}static adjustRowNumber(r,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===r.getBucket()?(r.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(r){this.boundingBox=r}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(r,o){this.detectionResultColumns[r]=o}getDetectionResultColumn(r){return this.detectionResultColumns[r]}toString(){let r=this.detectionResultColumns[0];r==null&&(r=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new ss;for(let s=0;s<r.getCodewords().length;s++){o.format("CW %3d:",s);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){o.format("    |   ");continue}let u=this.detectionResultColumns[c].getCodewords()[s];if(u==null){o.format("    |   ");continue}o.format(" %3d|%3d",u.getRowNumber(),u.getValue())}o.format("%n")}return o.toString()}}let cs=(()=>{class _{constructor(o,s,c,u){this.rowNumber=_.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(o),this.endX=Math.trunc(s),this.bucket=Math.trunc(c),this.value=Math.trunc(u)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(o){return o!==_.BARCODE_ROW_UNKNOWN&&this.bucket===o%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(o){this.rowNumber=o}toString(){return this.rowNumber+"|"+this.value}}return _.BARCODE_ROW_UNKNOWN=-1,_})();class vr{static initialize(){for(let r=0;r<Wt.SYMBOL_TABLE.length;r++){let o=Wt.SYMBOL_TABLE[r],s=o&1;for(let c=0;c<Wt.BARS_IN_MODULE;c++){let u=0;for(;(o&1)===s;)u+=1,o>>=1;s=o&1,vr.RATIOS_TABLE[r]||(vr.RATIOS_TABLE[r]=new Array(Wt.BARS_IN_MODULE)),vr.RATIOS_TABLE[r][Wt.BARS_IN_MODULE-c-1]=Math.fround(u/Wt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(r){let o=vr.getDecodedCodewordValue(vr.sampleBitCounts(r));return o!==-1?o:vr.getClosestDecodedValue(r)}static sampleBitCounts(r){let o=Et.sum(r),s=new Int32Array(Wt.BARS_IN_MODULE),c=0,u=0;for(let h=0;h<Wt.MODULES_IN_CODEWORD;h++){let m=o/(2*Wt.MODULES_IN_CODEWORD)+h*o/Wt.MODULES_IN_CODEWORD;u+r[c]<=m&&(u+=r[c],c++),s[c]++}return s}static getDecodedCodewordValue(r){let o=vr.getBitValue(r);return Wt.getCodeword(o)===-1?-1:o}static getBitValue(r){let o=0;for(let s=0;s<r.length;s++)for(let c=0;c<r[s];c++)o=o<<1|(s%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(r){let o=Et.sum(r),s=new Array(Wt.BARS_IN_MODULE);if(o>1)for(let h=0;h<s.length;h++)s[h]=Math.fround(r[h]/o);let c=Lt.MAX_VALUE,u=-1;this.bSymbolTableReady||vr.initialize();for(let h=0;h<vr.RATIOS_TABLE.length;h++){let m=0,E=vr.RATIOS_TABLE[h];for(let w=0;w<Wt.BARS_IN_MODULE;w++){let C=Math.fround(E[w]-s[w]);if(m+=Math.fround(C*C),m>=c)break}m<c&&(c=m,u=Wt.SYMBOL_TABLE[h])}return u}}vr.bSymbolTableReady=!1,vr.RATIOS_TABLE=new Array(Wt.SYMBOL_TABLE.length).map(_=>_=new Array(Wt.BARS_IN_MODULE));class us{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(r){this.segmentIndex=r}getFileId(){return this.fileId}setFileId(r){this.fileId=r}getOptionalData(){return this.optionalData}setOptionalData(r){this.optionalData=r}isLastSegment(){return this.lastSegment}setLastSegment(r){this.lastSegment=r}getSegmentCount(){return this.segmentCount}setSegmentCount(r){this.segmentCount=r}getSender(){return this.sender||null}setSender(r){this.sender=r}getAddressee(){return this.addressee||null}setAddressee(r){this.addressee=r}getFileName(){return this.fileName}setFileName(r){this.fileName=r}getFileSize(){return this.fileSize}setFileSize(r){this.fileSize=r}getChecksum(){return this.checksum}setChecksum(r){this.checksum=r}getTimestamp(){return this.timestamp}setTimestamp(r){this.timestamp=r}}class Bl{static parseLong(r,o=void 0){return parseInt(r,o)}}let fc=(()=>{class _ extends p{}return _.kind="NullPointerException",_})();class hc{writeBytes(r){this.writeBytesOffset(r,0,r.length)}writeBytesOffset(r,o,s){if(r==null)throw new fc;if(o<0||o>r.length||s<0||o+s>r.length||o+s<0)throw new $;if(s===0)return;for(let c=0;c<s;c++)this.write(r[o+c])}flush(){}close(){}}class dc extends p{}class Na extends hc{constructor(r=32){if(super(),this.count=0,r<0)throw new x("Negative initial size: "+r);this.buf=new Uint8Array(r)}ensureCapacity(r){r-this.buf.length>0&&this.grow(r)}grow(r){let s=this.buf.length<<1;if(s-r<0&&(s=r),s<0){if(r<0)throw new dc;s=U.MAX_VALUE}this.buf=K.copyOfUint8Array(this.buf,s)}write(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1}writeBytesOffset(r,o,s){if(o<0||o>r.length||s<0||o+s-r.length>0)throw new $;this.ensureCapacity(this.count+s),A.arraycopy(r,o,this.buf,this.count,s),this.count+=s}writeTo(r){r.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return K.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(r){return new String(this.buf).toString()}toString_number(r){return new String(this.buf).toString()}close(){}}var Si=function(_){return _[_.ALPHA=0]="ALPHA",_[_.LOWER=1]="LOWER",_[_.MIXED=2]="MIXED",_[_.PUNCT=3]="PUNCT",_[_.ALPHA_SHIFT=4]="ALPHA_SHIFT",_[_.PUNCT_SHIFT=5]="PUNCT_SHIFT",_}(Si||{});function mc(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Qo;function Er(_){if(typeof Qo>"u"&&(Qo=mc()),Qo===null)throw new Error("BigInt is not supported!");return Qo(_)}function Fl(){let _=[];_[0]=Er(1);let r=Er(900);_[1]=r;for(let o=2;o<16;o++)_[o]=_[o-1]*r;return _}class ke{static decode(r,o){let s=new W(""),c=ne.ISO8859_1;s.enableDecoding(c);let u=1,h=r[u++],m=new us;for(;u<r[0];){switch(h){case ke.TEXT_COMPACTION_MODE_LATCH:u=ke.textCompaction(r,u,s);break;case ke.BYTE_COMPACTION_MODE_LATCH:case ke.BYTE_COMPACTION_MODE_LATCH_6:u=ke.byteCompaction(h,r,c,u,s);break;case ke.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[u++]);break;case ke.NUMERIC_COMPACTION_MODE_LATCH:u=ke.numericCompaction(r,u,s);break;case ke.ECI_CHARSET:let w=ne.getCharacterSetECIByValue(r[u++]);break;case ke.ECI_GENERAL_PURPOSE:u+=2;break;case ke.ECI_USER_DEFINED:u++;break;case ke.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=ke.decodeMacroBlock(r,u,m);break;case ke.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ke.MACRO_PDF417_TERMINATOR:throw new ce;default:u--,u=ke.textCompaction(r,u,s);break}if(u<r.length)h=r[u++];else throw ce.getFormatInstance()}if(s.length()===0)throw ce.getFormatInstance();let E=new Me(null,s.toString(),null,o);return E.setOther(m),E}static decodeMacroBlock(r,o,s){if(o+ke.NUMBER_OF_SEQUENCE_CODEWORDS>r[0])throw ce.getFormatInstance();let c=new Int32Array(ke.NUMBER_OF_SEQUENCE_CODEWORDS);for(let m=0;m<ke.NUMBER_OF_SEQUENCE_CODEWORDS;m++,o++)c[m]=r[o];s.setSegmentIndex(U.parseInt(ke.decodeBase900toBase10(c,ke.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new W;o=ke.textCompaction(r,o,u),s.setFileId(u.toString());let h=-1;for(r[o]===ke.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(h=o+1);o<r[0];)switch(r[o]){case ke.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,r[o]){case ke.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let m=new W;o=ke.textCompaction(r,o+1,m),s.setFileName(m.toString());break;case ke.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let E=new W;o=ke.textCompaction(r,o+1,E),s.setSender(E.toString());break;case ke.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let w=new W;o=ke.textCompaction(r,o+1,w),s.setAddressee(w.toString());break;case ke.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new W;o=ke.numericCompaction(r,o+1,C),s.setSegmentCount(U.parseInt(C.toString()));break;case ke.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let L=new W;o=ke.numericCompaction(r,o+1,L),s.setTimestamp(Bl.parseLong(L.toString()));break;case ke.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let V=new W;o=ke.numericCompaction(r,o+1,V),s.setChecksum(U.parseInt(V.toString()));break;case ke.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let Q=new W;o=ke.numericCompaction(r,o+1,Q),s.setFileSize(Bl.parseLong(Q.toString()));break;default:throw ce.getFormatInstance()}break;case ke.MACRO_PDF417_TERMINATOR:o++,s.setLastSegment(!0);break;default:throw ce.getFormatInstance()}if(h!==-1){let m=o-h;s.isLastSegment()&&m--,s.setOptionalData(K.copyOfRange(r,h,h+m))}return o}static textCompaction(r,o,s){let c=new Int32Array((r[0]-o)*2),u=new Int32Array((r[0]-o)*2),h=0,m=!1;for(;o<r[0]&&!m;){let E=r[o++];if(E<ke.TEXT_COMPACTION_MODE_LATCH)c[h]=E/30,c[h+1]=E%30,h+=2;else switch(E){case ke.TEXT_COMPACTION_MODE_LATCH:c[h++]=ke.TEXT_COMPACTION_MODE_LATCH;break;case ke.BYTE_COMPACTION_MODE_LATCH:case ke.BYTE_COMPACTION_MODE_LATCH_6:case ke.NUMERIC_COMPACTION_MODE_LATCH:case ke.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ke.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ke.MACRO_PDF417_TERMINATOR:o--,m=!0;break;case ke.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[h]=ke.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,E=r[o++],u[h]=E,h++;break}}return ke.decodeTextCompaction(c,u,h,s),o}static decodeTextCompaction(r,o,s,c){let u=Si.ALPHA,h=Si.ALPHA,m=0;for(;m<s;){let E=r[m],w="";switch(u){case Si.ALPHA:if(E<26)w=String.fromCharCode(65+E);else switch(E){case 26:w=" ";break;case ke.LL:u=Si.LOWER;break;case ke.ML:u=Si.MIXED;break;case ke.PS:h=u,u=Si.PUNCT_SHIFT;break;case ke.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[m]);break;case ke.TEXT_COMPACTION_MODE_LATCH:u=Si.ALPHA;break}break;case Si.LOWER:if(E<26)w=String.fromCharCode(97+E);else switch(E){case 26:w=" ";break;case ke.AS:h=u,u=Si.ALPHA_SHIFT;break;case ke.ML:u=Si.MIXED;break;case ke.PS:h=u,u=Si.PUNCT_SHIFT;break;case ke.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[m]);break;case ke.TEXT_COMPACTION_MODE_LATCH:u=Si.ALPHA;break}break;case Si.MIXED:if(E<ke.PL)w=ke.MIXED_CHARS[E];else switch(E){case ke.PL:u=Si.PUNCT;break;case 26:w=" ";break;case ke.LL:u=Si.LOWER;break;case ke.AL:u=Si.ALPHA;break;case ke.PS:h=u,u=Si.PUNCT_SHIFT;break;case ke.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[m]);break;case ke.TEXT_COMPACTION_MODE_LATCH:u=Si.ALPHA;break}break;case Si.PUNCT:if(E<ke.PAL)w=ke.PUNCT_CHARS[E];else switch(E){case ke.PAL:u=Si.ALPHA;break;case ke.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[m]);break;case ke.TEXT_COMPACTION_MODE_LATCH:u=Si.ALPHA;break}break;case Si.ALPHA_SHIFT:if(u=h,E<26)w=String.fromCharCode(65+E);else switch(E){case 26:w=" ";break;case ke.TEXT_COMPACTION_MODE_LATCH:u=Si.ALPHA;break}break;case Si.PUNCT_SHIFT:if(u=h,E<ke.PAL)w=ke.PUNCT_CHARS[E];else switch(E){case ke.PAL:u=Si.ALPHA;break;case ke.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[m]);break;case ke.TEXT_COMPACTION_MODE_LATCH:u=Si.ALPHA;break}break}w!==""&&c.append(w),m++}}static byteCompaction(r,o,s,c,u){let h=new Na,m=0,E=0,w=!1;switch(r){case ke.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),L=o[c++];for(;c<o[0]&&!w;)switch(C[m++]=L,E=900*E+L,L=o[c++],L){case ke.TEXT_COMPACTION_MODE_LATCH:case ke.BYTE_COMPACTION_MODE_LATCH:case ke.NUMERIC_COMPACTION_MODE_LATCH:case ke.BYTE_COMPACTION_MODE_LATCH_6:case ke.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ke.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ke.MACRO_PDF417_TERMINATOR:c--,w=!0;break;default:if(m%5===0&&m>0){for(let V=0;V<6;++V)h.write(Number(Er(E)>>Er(8*(5-V))));E=0,m=0}break}c===o[0]&&L<ke.TEXT_COMPACTION_MODE_LATCH&&(C[m++]=L);for(let V=0;V<m;V++)h.write(C[V]);break;case ke.BYTE_COMPACTION_MODE_LATCH_6:for(;c<o[0]&&!w;){let V=o[c++];if(V<ke.TEXT_COMPACTION_MODE_LATCH)m++,E=900*E+V;else switch(V){case ke.TEXT_COMPACTION_MODE_LATCH:case ke.BYTE_COMPACTION_MODE_LATCH:case ke.NUMERIC_COMPACTION_MODE_LATCH:case ke.BYTE_COMPACTION_MODE_LATCH_6:case ke.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ke.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ke.MACRO_PDF417_TERMINATOR:c--,w=!0;break}if(m%5===0&&m>0){for(let Q=0;Q<6;++Q)h.write(Number(Er(E)>>Er(8*(5-Q))));E=0,m=0}}break}return u.append(Ge.decode(h.toByteArray(),s)),c}static numericCompaction(r,o,s){let c=0,u=!1,h=new Int32Array(ke.MAX_NUMERIC_CODEWORDS);for(;o<r[0]&&!u;){let m=r[o++];if(o===r[0]&&(u=!0),m<ke.TEXT_COMPACTION_MODE_LATCH)h[c]=m,c++;else switch(m){case ke.TEXT_COMPACTION_MODE_LATCH:case ke.BYTE_COMPACTION_MODE_LATCH:case ke.BYTE_COMPACTION_MODE_LATCH_6:case ke.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ke.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ke.MACRO_PDF417_TERMINATOR:o--,u=!0;break}(c%ke.MAX_NUMERIC_CODEWORDS===0||m===ke.NUMERIC_COMPACTION_MODE_LATCH||u)&&c>0&&(s.append(ke.decodeBase900toBase10(h,c)),c=0)}return o}static decodeBase900toBase10(r,o){let s=Er(0);for(let u=0;u<o;u++)s+=ke.EXP900[o-u-1]*Er(r[u]);let c=s.toString();if(c.charAt(0)!=="1")throw new ce;return c.substring(1)}}ke.TEXT_COMPACTION_MODE_LATCH=900,ke.BYTE_COMPACTION_MODE_LATCH=901,ke.NUMERIC_COMPACTION_MODE_LATCH=902,ke.BYTE_COMPACTION_MODE_LATCH_6=924,ke.ECI_USER_DEFINED=925,ke.ECI_GENERAL_PURPOSE=926,ke.ECI_CHARSET=927,ke.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ke.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ke.MACRO_PDF417_TERMINATOR=922,ke.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ke.MAX_NUMERIC_CODEWORDS=15,ke.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ke.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ke.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ke.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ke.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ke.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ke.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ke.PL=25,ke.LL=27,ke.AS=27,ke.ML=28,ke.AL=28,ke.PS=29,ke.PAL=29,ke.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ke.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ke.EXP900=mc()?Fl():[],ke.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ci{constructor(){}static decode(r,o,s,c,u,h,m){let E=new Aa(r,o,s,c,u),w=null,C=null,L;for(let re=!0;;re=!1){if(o!=null&&(w=ci.getRowIndicatorColumn(r,E,o,!0,h,m)),c!=null&&(C=ci.getRowIndicatorColumn(r,E,c,!1,h,m)),L=ci.merge(w,C),L==null)throw G.getNotFoundInstance();let fe=L.getBoundingBox();if(re&&fe!=null&&(fe.getMinY()<E.getMinY()||fe.getMaxY()>E.getMaxY()))E=fe;else break}L.setBoundingBox(E);let V=L.getBarcodeColumnCount()+1;L.setDetectionResultColumn(0,w),L.setDetectionResultColumn(V,C);let Q=w!=null;for(let re=1;re<=V;re++){let fe=Q?re:V-re;if(L.getDetectionResultColumn(fe)!==void 0)continue;let ye;fe===0||fe===V?ye=new Ia(E,fe===0):ye=new Is(E),L.setDetectionResultColumn(fe,ye);let Le=-1,nt=Le;for(let ct=E.getMinY();ct<=E.getMaxY();ct++){if(Le=ci.getStartColumn(L,fe,ct,Q),Le<0||Le>E.getMaxX()){if(nt===-1)continue;Le=nt}let Ve=ci.detectCodeword(r,E.getMinX(),E.getMaxX(),Q,Le,ct,h,m);Ve!=null&&(ye.setCodeword(ct,Ve),nt=Le,h=Math.min(h,Ve.getWidth()),m=Math.max(m,Ve.getWidth()))}}return ci.createDecoderResult(L)}static merge(r,o){if(r==null&&o==null)return null;let s=ci.getBarcodeMetadata(r,o);if(s==null)return null;let c=Aa.merge(ci.adjustBoundingBox(r),ci.adjustBoundingBox(o));return new ls(s,c)}static adjustBoundingBox(r){if(r==null)return null;let o=r.getRowHeights();if(o==null)return null;let s=ci.getMax(o),c=0;for(let m of o)if(c+=s-m,m>0)break;let u=r.getCodewords();for(let m=0;c>0&&u[m]==null;m++)c--;let h=0;for(let m=o.length-1;m>=0&&(h+=s-o[m],!(o[m]>0));m--);for(let m=u.length-1;h>0&&u[m]==null;m--)h--;return r.getBoundingBox().addMissingRows(c,h,r.isLeft())}static getMax(r){let o=-1;for(let s of r)o=Math.max(o,s);return o}static getBarcodeMetadata(r,o){let s;if(r==null||(s=r.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let c;return o==null||(c=o.getBarcodeMetadata())==null?s:s.getColumnCount()!==c.getColumnCount()&&s.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&s.getRowCount()!==c.getRowCount()?null:s}static getRowIndicatorColumn(r,o,s,c,u,h){let m=new Ia(o,c);for(let E=0;E<2;E++){let w=E===0?1:-1,C=Math.trunc(Math.trunc(s.getX()));for(let L=Math.trunc(Math.trunc(s.getY()));L<=o.getMaxY()&&L>=o.getMinY();L+=w){let V=ci.detectCodeword(r,0,r.getWidth(),c,C,L,u,h);V!=null&&(m.setCodeword(L,V),c?C=V.getStartX():C=V.getEndX())}}return m}static adjustCodewordCount(r,o){let s=o[0][1],c=s.getValue(),u=r.getBarcodeColumnCount()*r.getBarcodeRowCount()-ci.getNumberOfECCodeWords(r.getBarcodeECLevel());if(c.length===0){if(u<1||u>Wt.MAX_CODEWORDS_IN_BARCODE)throw G.getNotFoundInstance();s.setValue(u)}else c[0]!==u&&s.setValue(u)}static createDecoderResult(r){let o=ci.createBarcodeMatrix(r);ci.adjustCodewordCount(r,o);let s=new Array,c=new Int32Array(r.getBarcodeRowCount()*r.getBarcodeColumnCount()),u=[],h=new Array;for(let E=0;E<r.getBarcodeRowCount();E++)for(let w=0;w<r.getBarcodeColumnCount();w++){let C=o[E][w+1].getValue(),L=E*r.getBarcodeColumnCount()+w;C.length===0?s.push(L):C.length===1?c[L]=C[0]:(h.push(L),u.push(C))}let m=new Array(u.length);for(let E=0;E<m.length;E++)m[E]=u[E];return ci.createDecoderResultFromAmbiguousValues(r.getBarcodeECLevel(),c,Wt.toIntArray(s),Wt.toIntArray(h),m)}static createDecoderResultFromAmbiguousValues(r,o,s,c,u){let h=new Int32Array(c.length),m=100;for(;m-- >0;){for(let E=0;E<h.length;E++)o[c[E]]=u[E][h[E]];try{return ci.decodeCodewords(o,r,s)}catch(E){if(!(E instanceof M))throw E}if(h.length===0)throw M.getChecksumInstance();for(let E=0;E<h.length;E++)if(h[E]<u[E].length-1){h[E]++;break}else if(h[E]=0,E===h.length-1)throw M.getChecksumInstance()}throw M.getChecksumInstance()}static createBarcodeMatrix(r){let o=Array.from({length:r.getBarcodeRowCount()},()=>new Array(r.getBarcodeColumnCount()+2));for(let c=0;c<o.length;c++)for(let u=0;u<o[c].length;u++)o[c][u]=new Xo;let s=0;for(let c of r.getDetectionResultColumns()){if(c!=null){for(let u of c.getCodewords())if(u!=null){let h=u.getRowNumber();if(h>=0){if(h>=o.length)continue;o[h][s].setValue(u.getValue())}}}s++}return o}static isValidBarcodeColumn(r,o){return o>=0&&o<=r.getBarcodeColumnCount()+1}static getStartColumn(r,o,s,c){let u=c?1:-1,h=null;if(ci.isValidBarcodeColumn(r,o-u)&&(h=r.getDetectionResultColumn(o-u).getCodeword(s)),h!=null)return c?h.getEndX():h.getStartX();if(h=r.getDetectionResultColumn(o).getCodewordNearby(s),h!=null)return c?h.getStartX():h.getEndX();if(ci.isValidBarcodeColumn(r,o-u)&&(h=r.getDetectionResultColumn(o-u).getCodewordNearby(s)),h!=null)return c?h.getEndX():h.getStartX();let m=0;for(;ci.isValidBarcodeColumn(r,o-u);){o-=u;for(let E of r.getDetectionResultColumn(o).getCodewords())if(E!=null)return(c?E.getEndX():E.getStartX())+u*m*(E.getEndX()-E.getStartX());m++}return c?r.getBoundingBox().getMinX():r.getBoundingBox().getMaxX()}static detectCodeword(r,o,s,c,u,h,m,E){u=ci.adjustCodewordStartColumn(r,o,s,c,u,h);let w=ci.getModuleBitCount(r,o,s,c,u,h);if(w==null)return null;let C,L=Et.sum(w);if(c)C=u+L;else{for(let re=0;re<w.length/2;re++){let fe=w[re];w[re]=w[w.length-1-re],w[w.length-1-re]=fe}C=u,u=C-L}if(!ci.checkCodewordSkew(L,m,E))return null;let V=vr.getDecodedValue(w),Q=Wt.getCodeword(V);return Q===-1?null:new cs(u,C,ci.getCodewordBucketNumber(V),Q)}static getModuleBitCount(r,o,s,c,u,h){let m=u,E=new Int32Array(8),w=0,C=c?1:-1,L=c;for(;(c?m<s:m>=o)&&w<E.length;)r.get(m,h)===L?(E[w]++,m+=C):(w++,L=!L);return w===E.length||m===(c?s:o)&&w===E.length-1?E:null}static getNumberOfECCodeWords(r){return 2<<r}static adjustCodewordStartColumn(r,o,s,c,u,h){let m=u,E=c?-1:1;for(let w=0;w<2;w++){for(;(c?m>=o:m<s)&&c===r.get(m,h);){if(Math.abs(u-m)>ci.CODEWORD_SKEW_SIZE)return u;m+=E}E=-E,c=!c}return m}static checkCodewordSkew(r,o,s){return o-ci.CODEWORD_SKEW_SIZE<=r&&r<=s+ci.CODEWORD_SKEW_SIZE}static decodeCodewords(r,o,s){if(r.length===0)throw ce.getFormatInstance();let c=1<<o+1,u=ci.correctErrors(r,s,c);ci.verifyCodewordCount(r,c);let h=ke.decode(r,""+o);return h.setErrorsCorrected(u),h.setErasures(s.length),h}static correctErrors(r,o,s){if(o!=null&&o.length>s/2+ci.MAX_ERRORS||s<0||s>ci.MAX_EC_CODEWORDS)throw M.getChecksumInstance();return ci.errorCorrection.decode(r,s,o)}static verifyCodewordCount(r,o){if(r.length<4)throw ce.getFormatInstance();let s=r[0];if(s>r.length)throw ce.getFormatInstance();if(s===0)if(o<r.length)r[0]=r.length-o;else throw ce.getFormatInstance()}static getBitCountForCodeword(r){let o=new Int32Array(8),s=0,c=o.length-1;for(;!((r&1)!==s&&(s=r&1,c--,c<0));)o[c]++,r>>=1;return o}static getCodewordBucketNumber(r){return r instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(r):this.getCodewordBucketNumber_number(r)}static getCodewordBucketNumber_number(r){return ci.getCodewordBucketNumber(ci.getBitCountForCodeword(r))}static getCodewordBucketNumber_Int32Array(r){return(r[0]-r[2]+r[4]-r[6]+9)%9}static toString(r){let o=new ss;for(let s=0;s<r.length;s++){o.format("Row %2d: ",s);for(let c=0;c<r[s].length;c++){let u=r[s][c];u.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}o.format("%n")}return o.toString()}}ci.CODEWORD_SKEW_SIZE=2,ci.MAX_ERRORS=3,ci.MAX_EC_CODEWORDS=512,ci.errorCorrection=new As;class kn{decode(r,o=null){let s=kn.decode(r,o,!1);if(s==null||s.length===0||s[0]==null)throw G.getNotFoundInstance();return s[0]}decodeMultiple(r,o=null){try{return kn.decode(r,o,!0)}catch(s){throw s instanceof ce||s instanceof M?G.getNotFoundInstance():s}}static decode(r,o,s){let c=new Array,u=Zt.detectMultiple(r,o,s);for(let h of u.getPoints()){let m=ci.decode(u.getBits(),h[4],h[5],h[6],h[7],kn.getMinCodewordWidth(h),kn.getMaxCodewordWidth(h)),E=new B(m.getText(),m.getRawBytes(),void 0,h,J.PDF_417);E.putMetadata(ve.ERROR_CORRECTION_LEVEL,m.getECLevel());let w=m.getOther();w!=null&&E.putMetadata(ve.PDF417_EXTRA_METADATA,w),c.push(E)}return c.map(h=>h)}static getMaxWidth(r,o){return r==null||o==null?0:Math.trunc(Math.abs(r.getX()-o.getX()))}static getMinWidth(r,o){return r==null||o==null?U.MAX_VALUE:Math.trunc(Math.abs(r.getX()-o.getX()))}static getMaxCodewordWidth(r){return Math.floor(Math.max(Math.max(kn.getMaxWidth(r[0],r[4]),kn.getMaxWidth(r[6],r[2])*Wt.MODULES_IN_CODEWORD/Wt.MODULES_IN_STOP_PATTERN),Math.max(kn.getMaxWidth(r[1],r[5]),kn.getMaxWidth(r[7],r[3])*Wt.MODULES_IN_CODEWORD/Wt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(r){return Math.floor(Math.min(Math.min(kn.getMinWidth(r[0],r[4]),kn.getMinWidth(r[6],r[2])*Wt.MODULES_IN_CODEWORD/Wt.MODULES_IN_STOP_PATTERN),Math.min(kn.getMinWidth(r[1],r[5]),kn.getMinWidth(r[7],r[3])*Wt.MODULES_IN_CODEWORD/Wt.MODULES_IN_STOP_PATTERN)))}reset(){}}let Ul=(()=>{class _ extends p{}return _.kind="ReaderException",_})();class Ns{constructor(r,o){this.verbose=r===!0,o&&this.setHints(o)}decode(r,o){return o&&this.setHints(o),this.decodeInternal(r)}decodeWithState(r){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(r)}setHints(r){this.hints=r;let o=!e(r)&&r.get(xe.TRY_HARDER)===!0,s=e(r)?null:r.get(xe.POSSIBLE_FORMATS),c=new Array;if(!e(s)){let u=s.some(h=>h===J.UPC_A||h===J.UPC_E||h===J.EAN_13||h===J.EAN_8||h===J.CODABAR||h===J.CODE_39||h===J.CODE_93||h===J.CODE_128||h===J.ITF||h===J.RSS_14||h===J.RSS_EXPANDED);u&&!o&&c.push(new ba(r,this.verbose)),s.includes(J.QR_CODE)&&c.push(new Gt),s.includes(J.DATA_MATRIX)&&c.push(new Va),s.includes(J.AZTEC)&&c.push(new Yt),s.includes(J.PDF_417)&&c.push(new kn),u&&o&&c.push(new ba(r,this.verbose))}c.length===0&&(o||c.push(new ba(r,this.verbose)),c.push(new Gt),c.push(new Va),c.push(new Yt),c.push(new kn),o&&c.push(new ba(r,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(let r of this.readers)r.reset()}decodeInternal(r){if(this.readers===null)throw new Ul("No readers where selected, nothing can be read.");for(let o of this.readers)try{return o.decode(r,this.hints)}catch(s){if(s instanceof Ul)continue}throw new G("No MultiFormat Readers were able to detect the code.")}}class jl extends ht{constructor(r=null,o=500){let s=new Ns;s.setHints(r),super(s,o)}decodeBitmap(r){return this.reader.decodeWithState(r)}}class pc extends ht{constructor(r=500){super(new kn,r)}}class Ts extends ht{constructor(r=500){super(new Gt,r)}}var Ms=function(_){return _[_.ERROR_CORRECTION=0]="ERROR_CORRECTION",_[_.CHARACTER_SET=1]="CHARACTER_SET",_[_.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",_[_.MIN_SIZE=3]="MIN_SIZE",_[_.MAX_SIZE=4]="MAX_SIZE",_[_.MARGIN=5]="MARGIN",_[_.PDF417_COMPACT=6]="PDF417_COMPACT",_[_.PDF417_COMPACTION=7]="PDF417_COMPACTION",_[_.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",_[_.AZTEC_LAYERS=9]="AZTEC_LAYERS",_[_.QR_VERSION=10]="QR_VERSION",_}(Ms||{}),Dn=Ms;class Ls{constructor(r){this.field=r,this.cachedGenerators=[],this.cachedGenerators.push(new De(r,Int32Array.from([1])))}buildGenerator(r){let o=this.cachedGenerators;if(r>=o.length){let s=o[o.length-1],c=this.field;for(let u=o.length;u<=r;u++){let h=s.multiply(new De(c,Int32Array.from([1,c.exp(u-1+c.getGeneratorBase())])));o.push(h),s=h}}return o[r]}encode(r,o){if(o===0)throw new x("No error correction bytes");let s=r.length-o;if(s<=0)throw new x("No data bytes provided");let c=this.buildGenerator(o),u=new Int32Array(s);A.arraycopy(r,0,u,0,s);let h=new De(this.field,u);h=h.multiplyByMonomial(o,1);let E=h.divide(c)[1].getCoefficients(),w=o-E.length;for(let C=0;C<w;C++)r[s+C]=0;A.arraycopy(E,0,r,s+w,E.length)}}let Ga=(()=>{class _{constructor(){}static applyMaskPenaltyRule1(o){return _.applyMaskPenaltyRule1Internal(o,!0)+_.applyMaskPenaltyRule1Internal(o,!1)}static applyMaskPenaltyRule2(o){let s=0,c=o.getArray(),u=o.getWidth(),h=o.getHeight();for(let m=0;m<h-1;m++){let E=c[m];for(let w=0;w<u-1;w++){let C=E[w];C===E[w+1]&&C===c[m+1][w]&&C===c[m+1][w+1]&&s++}}return _.N2*s}static applyMaskPenaltyRule3(o){let s=0,c=o.getArray(),u=o.getWidth(),h=o.getHeight();for(let m=0;m<h;m++)for(let E=0;E<u;E++){let w=c[m];E+6<u&&w[E]===1&&w[E+1]===0&&w[E+2]===1&&w[E+3]===1&&w[E+4]===1&&w[E+5]===0&&w[E+6]===1&&(_.isWhiteHorizontal(w,E-4,E)||_.isWhiteHorizontal(w,E+7,E+11))&&s++,m+6<h&&c[m][E]===1&&c[m+1][E]===0&&c[m+2][E]===1&&c[m+3][E]===1&&c[m+4][E]===1&&c[m+5][E]===0&&c[m+6][E]===1&&(_.isWhiteVertical(c,E,m-4,m)||_.isWhiteVertical(c,E,m+7,m+11))&&s++}return s*_.N3}static isWhiteHorizontal(o,s,c){s=Math.max(s,0),c=Math.min(c,o.length);for(let u=s;u<c;u++)if(o[u]===1)return!1;return!0}static isWhiteVertical(o,s,c,u){c=Math.max(c,0),u=Math.min(u,o.length);for(let h=c;h<u;h++)if(o[h][s]===1)return!1;return!0}static applyMaskPenaltyRule4(o){let s=0,c=o.getArray(),u=o.getWidth(),h=o.getHeight();for(let w=0;w<h;w++){let C=c[w];for(let L=0;L<u;L++)C[L]===1&&s++}let m=o.getHeight()*o.getWidth();return Math.floor(Math.abs(s*2-m)*10/m)*_.N4}static getDataMaskBit(o,s,c){let u,h;switch(o){case 0:u=c+s&1;break;case 1:u=c&1;break;case 2:u=s%3;break;case 3:u=(c+s)%3;break;case 4:u=Math.floor(c/2)+Math.floor(s/3)&1;break;case 5:h=c*s,u=(h&1)+h%3;break;case 6:h=c*s,u=(h&1)+h%3&1;break;case 7:h=c*s,u=h%3+(c+s&1)&1;break;default:throw new x("Invalid mask pattern: "+o)}return u===0}static applyMaskPenaltyRule1Internal(o,s){let c=0,u=s?o.getHeight():o.getWidth(),h=s?o.getWidth():o.getHeight(),m=o.getArray();for(let E=0;E<u;E++){let w=0,C=-1;for(let L=0;L<h;L++){let V=s?m[E][L]:m[L][E];V===C?w++:(w>=5&&(c+=_.N1+(w-5)),w=1,C=V)}w>=5&&(c+=_.N1+(w-5))}return c}}return _.N1=3,_.N2=3,_.N3=40,_.N4=10,_})();class Ta{constructor(r,o){this.width=r,this.height=o;let s=new Array(o);for(let c=0;c!==o;c++)s[c]=new Uint8Array(r);this.bytes=s}getHeight(){return this.height}getWidth(){return this.width}get(r,o){return this.bytes[o][r]}getArray(){return this.bytes}setNumber(r,o,s){this.bytes[o][r]=s}setBoolean(r,o,s){this.bytes[o][r]=s?1:0}clear(r){for(let o of this.bytes)K.fill(o,r)}equals(r){if(!(r instanceof Ta))return!1;let o=r;if(this.width!==o.width||this.height!==o.height)return!1;for(let s=0,c=this.height;s<c;++s){let u=this.bytes[s],h=o.bytes[s];for(let m=0,E=this.width;m<E;++m)if(u[m]!==h[m])return!1}return!0}toString(){let r=new W;for(let o=0,s=this.height;o<s;++o){let c=this.bytes[o];for(let u=0,h=this.width;u<h;++u)switch(c[u]){case 0:r.append(" 0");break;case 1:r.append(" 1");break;default:r.append("  ");break}r.append(`
`)}return r.toString()}}let sa=(()=>{class _{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){let o=new W;return o.append(`<<
`),o.append(" mode: "),o.append(this.mode?this.mode.toString():"null"),o.append(`
 ecLevel: `),o.append(this.ecLevel?this.ecLevel.toString():"null"),o.append(`
 version: `),o.append(this.version?this.version.toString():"null"),o.append(`
 maskPattern: `),o.append(this.maskPattern.toString()),this.matrix?(o.append(`
 matrix:
`),o.append(this.matrix.toString())):o.append(`
 matrix: null
`),o.append(`>>
`),o.toString()}setMode(o){this.mode=o}setECLevel(o){this.ecLevel=o}setVersion(o){this.version=o}setMaskPattern(o){this.maskPattern=o}setMatrix(o){this.matrix=o}static isValidMaskPattern(o){return o>=0&&o<_.NUM_MASK_PATTERNS}}return _.NUM_MASK_PATTERNS=8,_})(),Yi=(()=>{class _ extends p{}return _.kind="WriterException",_})();class Rt{constructor(){}static clearMatrix(r){r.clear(255)}static buildMatrix(r,o,s,c,u){Rt.clearMatrix(u),Rt.embedBasicPatterns(s,u),Rt.embedTypeInfo(o,c,u),Rt.maybeEmbedVersionInfo(s,u),Rt.embedDataBits(r,c,u)}static embedBasicPatterns(r,o){Rt.embedPositionDetectionPatternsAndSeparators(o),Rt.embedDarkDotAtLeftBottomCorner(o),Rt.maybeEmbedPositionAdjustmentPatterns(r,o),Rt.embedTimingPatterns(o)}static embedTypeInfo(r,o,s){let c=new Y;Rt.makeTypeInfoBits(r,o,c);for(let u=0,h=c.getSize();u<h;++u){let m=c.get(c.getSize()-1-u),E=Rt.TYPE_INFO_COORDINATES[u],w=E[0],C=E[1];if(s.setBoolean(w,C,m),u<8){let L=s.getWidth()-u-1;s.setBoolean(L,8,m)}else{let V=s.getHeight()-7+(u-8);s.setBoolean(8,V,m)}}}static maybeEmbedVersionInfo(r,o){if(r.getVersionNumber()<7)return;let s=new Y;Rt.makeVersionInfoBits(r,s);let c=6*3-1;for(let u=0;u<6;++u)for(let h=0;h<3;++h){let m=s.get(c);c--,o.setBoolean(u,o.getHeight()-11+h,m),o.setBoolean(o.getHeight()-11+h,u,m)}}static embedDataBits(r,o,s){let c=0,u=-1,h=s.getWidth()-1,m=s.getHeight()-1;for(;h>0;){for(h===6&&(h-=1);m>=0&&m<s.getHeight();){for(let E=0;E<2;++E){let w=h-E;if(!Rt.isEmpty(s.get(w,m)))continue;let C;c<r.getSize()?(C=r.get(c),++c):C=!1,o!==255&&Ga.getDataMaskBit(o,w,m)&&(C=!C),s.setBoolean(w,m,C)}m+=u}u=-u,m+=u,h-=2}if(c!==r.getSize())throw new Yi("Not all bits consumed: "+c+"/"+r.getSize())}static findMSBSet(r){return 32-U.numberOfLeadingZeros(r)}static calculateBCHCode(r,o){if(o===0)throw new x("0 polynomial");let s=Rt.findMSBSet(o);for(r<<=s-1;Rt.findMSBSet(r)>=s;)r^=o<<Rt.findMSBSet(r)-s;return r}static makeTypeInfoBits(r,o,s){if(!sa.isValidMaskPattern(o))throw new Yi("Invalid mask pattern");let c=r.getBits()<<3|o;s.appendBits(c,5);let u=Rt.calculateBCHCode(c,Rt.TYPE_INFO_POLY);s.appendBits(u,10);let h=new Y;if(h.appendBits(Rt.TYPE_INFO_MASK_PATTERN,15),s.xor(h),s.getSize()!==15)throw new Yi("should not happen but we got: "+s.getSize())}static makeVersionInfoBits(r,o){o.appendBits(r.getVersionNumber(),6);let s=Rt.calculateBCHCode(r.getVersionNumber(),Rt.VERSION_INFO_POLY);if(o.appendBits(s,12),o.getSize()!==18)throw new Yi("should not happen but we got: "+o.getSize())}static isEmpty(r){return r===255}static embedTimingPatterns(r){for(let o=8;o<r.getWidth()-8;++o){let s=(o+1)%2;Rt.isEmpty(r.get(o,6))&&r.setNumber(o,6,s),Rt.isEmpty(r.get(6,o))&&r.setNumber(6,o,s)}}static embedDarkDotAtLeftBottomCorner(r){if(r.get(8,r.getHeight()-8)===0)throw new Yi;r.setNumber(8,r.getHeight()-8,1)}static embedHorizontalSeparationPattern(r,o,s){for(let c=0;c<8;++c){if(!Rt.isEmpty(s.get(r+c,o)))throw new Yi;s.setNumber(r+c,o,0)}}static embedVerticalSeparationPattern(r,o,s){for(let c=0;c<7;++c){if(!Rt.isEmpty(s.get(r,o+c)))throw new Yi;s.setNumber(r,o+c,0)}}static embedPositionAdjustmentPattern(r,o,s){for(let c=0;c<5;++c){let u=Rt.POSITION_ADJUSTMENT_PATTERN[c];for(let h=0;h<5;++h)s.setNumber(r+h,o+c,u[h])}}static embedPositionDetectionPattern(r,o,s){for(let c=0;c<7;++c){let u=Rt.POSITION_DETECTION_PATTERN[c];for(let h=0;h<7;++h)s.setNumber(r+h,o+c,u[h])}}static embedPositionDetectionPatternsAndSeparators(r){let o=Rt.POSITION_DETECTION_PATTERN[0].length;Rt.embedPositionDetectionPattern(0,0,r),Rt.embedPositionDetectionPattern(r.getWidth()-o,0,r),Rt.embedPositionDetectionPattern(0,r.getWidth()-o,r);let s=8;Rt.embedHorizontalSeparationPattern(0,s-1,r),Rt.embedHorizontalSeparationPattern(r.getWidth()-s,s-1,r),Rt.embedHorizontalSeparationPattern(0,r.getWidth()-s,r);let c=7;Rt.embedVerticalSeparationPattern(c,0,r),Rt.embedVerticalSeparationPattern(r.getHeight()-c-1,0,r),Rt.embedVerticalSeparationPattern(c,r.getHeight()-c,r)}static maybeEmbedPositionAdjustmentPatterns(r,o){if(r.getVersionNumber()<2)return;let s=r.getVersionNumber()-1,c=Rt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[s];for(let u=0,h=c.length;u!==h;u++){let m=c[u];if(m>=0)for(let E=0;E!==h;E++){let w=c[E];w>=0&&Rt.isEmpty(o.get(w,m))&&Rt.embedPositionAdjustmentPattern(w-2,m-2,o)}}}}Rt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Rt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Rt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Rt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Rt.VERSION_INFO_POLY=7973,Rt.TYPE_INFO_POLY=1335,Rt.TYPE_INFO_MASK_PATTERN=21522;class Vl{constructor(r,o){this.dataBytes=r,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class y{constructor(){}static calculateMaskPenalty(r){return Ga.applyMaskPenaltyRule1(r)+Ga.applyMaskPenaltyRule2(r)+Ga.applyMaskPenaltyRule3(r)+Ga.applyMaskPenaltyRule4(r)}static encode(r,o,s=null){let c=y.DEFAULT_BYTE_MODE_ENCODING,u=s!==null&&s.get(Dn.CHARACTER_SET)!==void 0;u&&(c=s.get(Dn.CHARACTER_SET).toString());let h=this.chooseMode(r,c),m=new Y;if(h===Ut.BYTE&&(u||y.DEFAULT_BYTE_MODE_ENCODING!==c)){let ct=ne.getCharacterSetECIByName(c);ct!==void 0&&this.appendECI(ct,m)}this.appendModeInfo(h,m);let E=new Y;this.appendBytes(r,h,E,c);let w;if(s!==null&&s.get(Dn.QR_VERSION)!==void 0){let ct=Number.parseInt(s.get(Dn.QR_VERSION).toString(),10);w=Ot.getVersionForNumber(ct);let Ve=this.calculateBitsNeeded(h,m,E,w);if(!this.willFit(Ve,w,o))throw new Yi("Data too big for requested version")}else w=this.recommendVersion(o,h,m,E);let C=new Y;C.appendBitArray(m);let L=h===Ut.BYTE?E.getSizeInBytes():r.length;this.appendLengthInfo(L,w,h,C),C.appendBitArray(E);let V=w.getECBlocksForLevel(o),Q=w.getTotalCodewords()-V.getTotalECCodewords();this.terminateBits(Q,C);let re=this.interleaveWithECBytes(C,w.getTotalCodewords(),Q,V.getNumBlocks()),fe=new sa;fe.setECLevel(o),fe.setMode(h),fe.setVersion(w);let ye=w.getDimensionForVersion(),Le=new Ta(ye,ye),nt=this.chooseMaskPattern(re,o,w,Le);return fe.setMaskPattern(nt),Rt.buildMatrix(re,o,w,nt,Le),fe.setMatrix(Le),fe}static recommendVersion(r,o,s,c){let u=this.calculateBitsNeeded(o,s,c,Ot.getVersionForNumber(1)),h=this.chooseVersion(u,r),m=this.calculateBitsNeeded(o,s,c,h);return this.chooseVersion(m,r)}static calculateBitsNeeded(r,o,s,c){return o.getSize()+r.getCharacterCountBits(c)+s.getSize()}static getAlphanumericCode(r){return r<y.ALPHANUMERIC_TABLE.length?y.ALPHANUMERIC_TABLE[r]:-1}static chooseMode(r,o=null){if(ne.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(r))return Ut.KANJI;let s=!1,c=!1;for(let u=0,h=r.length;u<h;++u){let m=r.charAt(u);if(y.isDigit(m))s=!0;else if(this.getAlphanumericCode(m.charCodeAt(0))!==-1)c=!0;else return Ut.BYTE}return c?Ut.ALPHANUMERIC:s?Ut.NUMERIC:Ut.BYTE}static isOnlyDoubleByteKanji(r){let o;try{o=Ge.encode(r,ne.SJIS)}catch{return!1}let s=o.length;if(s%2!==0)return!1;for(let c=0;c<s;c+=2){let u=o[c]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(r,o,s,c){let u=Number.MAX_SAFE_INTEGER,h=-1;for(let m=0;m<sa.NUM_MASK_PATTERNS;m++){Rt.buildMatrix(r,o,s,m,c);let E=this.calculateMaskPenalty(c);E<u&&(u=E,h=m)}return h}static chooseVersion(r,o){for(let s=1;s<=40;s++){let c=Ot.getVersionForNumber(s);if(y.willFit(r,c,o))return c}throw new Yi("Data too big")}static willFit(r,o,s){let c=o.getTotalCodewords(),h=o.getECBlocksForLevel(s).getTotalECCodewords(),m=c-h,E=(r+7)/8;return m>=E}static terminateBits(r,o){let s=r*8;if(o.getSize()>s)throw new Yi("data bits cannot fit in the QR Code"+o.getSize()+" > "+s);for(let h=0;h<4&&o.getSize()<s;++h)o.appendBit(!1);let c=o.getSize()&7;if(c>0)for(let h=c;h<8;h++)o.appendBit(!1);let u=r-o.getSizeInBytes();for(let h=0;h<u;++h)o.appendBits(h&1?17:236,8);if(o.getSize()!==s)throw new Yi("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(r,o,s,c,u,h){if(c>=s)throw new Yi("Block ID too large");let m=r%s,E=s-m,w=Math.floor(r/s),C=w+1,L=Math.floor(o/s),V=L+1,Q=w-L,re=C-V;if(Q!==re)throw new Yi("EC bytes mismatch");if(s!==E+m)throw new Yi("RS blocks mismatch");if(r!==(L+Q)*E+(V+re)*m)throw new Yi("Total bytes mismatch");c<E?(u[0]=L,h[0]=Q):(u[0]=V,h[0]=re)}static interleaveWithECBytes(r,o,s,c){if(r.getSizeInBytes()!==s)throw new Yi("Number of bits and data bytes does not match");let u=0,h=0,m=0,E=new Array;for(let C=0;C<c;++C){let L=new Int32Array(1),V=new Int32Array(1);y.getNumDataBytesAndNumECBytesForBlockID(o,s,c,C,L,V);let Q=L[0],re=new Uint8Array(Q);r.toBytes(8*u,re,0,Q);let fe=y.generateECBytes(re,V[0]);E.push(new Vl(re,fe)),h=Math.max(h,Q),m=Math.max(m,fe.length),u+=L[0]}if(s!==u)throw new Yi("Data bytes does not match offset");let w=new Y;for(let C=0;C<h;++C)for(let L of E){let V=L.getDataBytes();C<V.length&&w.appendBits(V[C],8)}for(let C=0;C<m;++C)for(let L of E){let V=L.getErrorCorrectionBytes();C<V.length&&w.appendBits(V[C],8)}if(o!==w.getSizeInBytes())throw new Yi("Interleaving error: "+o+" and "+w.getSizeInBytes()+" differ.");return w}static generateECBytes(r,o){let s=r.length,c=new Int32Array(s+o);for(let h=0;h<s;h++)c[h]=r[h]&255;new Ls(Ke.QR_CODE_FIELD_256).encode(c,o);let u=new Uint8Array(o);for(let h=0;h<o;h++)u[h]=c[s+h];return u}static appendModeInfo(r,o){o.appendBits(r.getBits(),4)}static appendLengthInfo(r,o,s,c){let u=s.getCharacterCountBits(o);if(r>=1<<u)throw new Yi(r+" is bigger than "+((1<<u)-1));c.appendBits(r,u)}static appendBytes(r,o,s,c){switch(o){case Ut.NUMERIC:y.appendNumericBytes(r,s);break;case Ut.ALPHANUMERIC:y.appendAlphanumericBytes(r,s);break;case Ut.BYTE:y.append8BitBytes(r,s,c);break;case Ut.KANJI:y.appendKanjiBytes(r,s);break;default:throw new Yi("Invalid mode: "+o)}}static getDigit(r){return r.charCodeAt(0)-48}static isDigit(r){let o=y.getDigit(r);return o>=0&&o<=9}static appendNumericBytes(r,o){let s=r.length,c=0;for(;c<s;){let u=y.getDigit(r.charAt(c));if(c+2<s){let h=y.getDigit(r.charAt(c+1)),m=y.getDigit(r.charAt(c+2));o.appendBits(u*100+h*10+m,10),c+=3}else if(c+1<s){let h=y.getDigit(r.charAt(c+1));o.appendBits(u*10+h,7),c+=2}else o.appendBits(u,4),c++}}static appendAlphanumericBytes(r,o){let s=r.length,c=0;for(;c<s;){let u=y.getAlphanumericCode(r.charCodeAt(c));if(u===-1)throw new Yi;if(c+1<s){let h=y.getAlphanumericCode(r.charCodeAt(c+1));if(h===-1)throw new Yi;o.appendBits(u*45+h,11),c+=2}else o.appendBits(u,6),c++}}static append8BitBytes(r,o,s){let c;try{c=Ge.encode(r,s)}catch(u){throw new Yi(u)}for(let u=0,h=c.length;u!==h;u++){let m=c[u];o.appendBits(m,8)}}static appendKanjiBytes(r,o){let s;try{s=Ge.encode(r,ne.SJIS)}catch(u){throw new Yi(u)}let c=s.length;for(let u=0;u<c;u+=2){let h=s[u]&255,m=s[u+1]&255,E=h<<8&4294967295|m,w=-1;if(E>=33088&&E<=40956?w=E-33088:E>=57408&&E<=60351&&(w=E-49472),w===-1)throw new Yi("Invalid byte sequence");let C=(w>>8)*192+(w&255);o.appendBits(C,13)}}static appendECI(r,o){o.appendBits(Ut.ECI.getBits(),4),o.appendBits(r.getValue(),8)}}y.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),y.DEFAULT_BYTE_MODE_ENCODING=ne.UTF8.getName();let R=(()=>{class _{write(o,s,c,u=null){if(o.length===0)throw new x("Found empty contents");if(s<0||c<0)throw new x("Requested dimensions are too small: "+s+"x"+c);let h=qi.L,m=_.QUIET_ZONE_SIZE;u!==null&&(u.get(Dn.ERROR_CORRECTION)!==void 0&&(h=qi.fromString(u.get(Dn.ERROR_CORRECTION).toString())),u.get(Dn.MARGIN)!==void 0&&(m=Number.parseInt(u.get(Dn.MARGIN).toString(),10)));let E=y.encode(o,h,u);return this.renderResult(E,s,c,m)}writeToDom(o,s,c,u,h=null){typeof o=="string"&&(o=document.querySelector(o));let m=this.write(s,c,u,h);o&&o.appendChild(m)}renderResult(o,s,c,u){let h=o.getMatrix();if(h===null)throw new pt;let m=h.getWidth(),E=h.getHeight(),w=m+u*2,C=E+u*2,L=Math.max(s,w),V=Math.max(c,C),Q=Math.min(Math.floor(L/w),Math.floor(V/C)),re=Math.floor((L-m*Q)/2),fe=Math.floor((V-E*Q)/2),ye=this.createSVGElement(L,V);for(let Le=0,nt=fe;Le<E;Le++,nt+=Q)for(let ct=0,Ve=re;ct<m;ct++,Ve+=Q)if(h.get(ct,Le)===1){let ni=this.createSvgRectElement(Ve,nt,Q,Q);ye.appendChild(ni)}return ye}createSVGElement(o,s){let c=document.createElementNS(_.SVG_NS,"svg");return c.setAttributeNS(null,"height",o.toString()),c.setAttributeNS(null,"width",s.toString()),c}createSvgRectElement(o,s,c,u){let h=document.createElementNS(_.SVG_NS,"rect");return h.setAttributeNS(null,"x",o.toString()),h.setAttributeNS(null,"y",s.toString()),h.setAttributeNS(null,"height",c.toString()),h.setAttributeNS(null,"width",u.toString()),h.setAttributeNS(null,"fill","#000000"),h}}return _.QUIET_ZONE_SIZE=4,_.SVG_NS="http://www.w3.org/2000/svg",_})(),te=(()=>{class _{encode(o,s,c,u,h){if(o.length===0)throw new x("Found empty contents");if(s!==J.QR_CODE)throw new x("Can only encode QR_CODE, but got "+s);if(c<0||u<0)throw new x(`Requested dimensions are too small: ${c}x${u}`);let m=qi.L,E=_.QUIET_ZONE_SIZE;h!==null&&(h.get(Dn.ERROR_CORRECTION)!==void 0&&(m=qi.fromString(h.get(Dn.ERROR_CORRECTION).toString())),h.get(Dn.MARGIN)!==void 0&&(E=Number.parseInt(h.get(Dn.MARGIN).toString(),10)));let w=y.encode(o,m,h);return _.renderResult(w,c,u,E)}static renderResult(o,s,c,u){let h=o.getMatrix();if(h===null)throw new pt;let m=h.getWidth(),E=h.getHeight(),w=m+u*2,C=E+u*2,L=Math.max(s,w),V=Math.max(c,C),Q=Math.min(Math.floor(L/w),Math.floor(V/C)),re=Math.floor((L-m*Q)/2),fe=Math.floor((V-E*Q)/2),ye=new X(L,V);for(let Le=0,nt=fe;Le<E;Le++,nt+=Q)for(let ct=0,Ve=re;ct<m;ct++,Ve+=Q)h.get(ct,Le)===1&&ye.setRegion(Ve,nt,Q,Q);return ye}}return _.QUIET_ZONE_SIZE=4,_})();class ue{encode(r,o,s,c,u){let h;switch(o){case J.QR_CODE:h=new te;break;default:throw new x("No encoder available for format "+o)}return h.encode(r,o,s,c,u)}}let Ce=(()=>{class _ extends Be{constructor(o,s,c,u,h,m,E,w){if(super(m,E),this.yuvData=o,this.dataWidth=s,this.dataHeight=c,this.left=u,this.top=h,u+m>s||h+E>c)throw new x("Crop rectangle does not fit within image data.");w&&this.reverseHorizontal(m,E)}getRow(o,s){if(o<0||o>=this.getHeight())throw new x("Requested row is outside the image: "+o);let c=this.getWidth();(s==null||s.length<c)&&(s=new Uint8ClampedArray(c));let u=(o+this.top)*this.dataWidth+this.left;return A.arraycopy(this.yuvData,u,s,0,c),s}getMatrix(){let o=this.getWidth(),s=this.getHeight();if(o===this.dataWidth&&s===this.dataHeight)return this.yuvData;let c=o*s,u=new Uint8ClampedArray(c),h=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return A.arraycopy(this.yuvData,h,u,0,c),u;for(let m=0;m<s;m++){let E=m*o;A.arraycopy(this.yuvData,h,u,E,o),h+=this.dataWidth}return u}isCropSupported(){return!0}crop(o,s,c,u){return new _(this.yuvData,this.dataWidth,this.dataHeight,this.left+o,this.top+s,c,u,!1)}renderThumbnail(){let o=this.getWidth()/_.THUMBNAIL_SCALE_FACTOR,s=this.getHeight()/_.THUMBNAIL_SCALE_FACTOR,c=new Int32Array(o*s),u=this.yuvData,h=this.top*this.dataWidth+this.left;for(let m=0;m<s;m++){let E=m*o;for(let w=0;w<o;w++){let C=u[h+w*_.THUMBNAIL_SCALE_FACTOR]&255;c[E+w]=4278190080|C*65793}h+=this.dataWidth*_.THUMBNAIL_SCALE_FACTOR}return c}getThumbnailWidth(){return this.getWidth()/_.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/_.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(o,s){let c=this.yuvData;for(let u=0,h=this.top*this.dataWidth+this.left;u<s;u++,h+=this.dataWidth){let m=h+o/2;for(let E=h,w=h+o-1;E<m;E++,w--){let C=c[E];c[E]=c[w],c[w]=C}}}invert(){return new ze(this)}}return _.THUMBNAIL_SCALE_FACTOR=2,_})();class He extends Be{constructor(r,o,s,c,u,h,m){if(super(o,s),this.dataWidth=c,this.dataHeight=u,this.left=h,this.top=m,r.BYTES_PER_ELEMENT===4){let E=o*s,w=new Uint8ClampedArray(E);for(let C=0;C<E;C++){let L=r[C],V=L>>16&255,Q=L>>7&510,re=L&255;w[C]=(V+Q+re)/4&255}this.luminances=w}else this.luminances=r;if(c===void 0&&(this.dataWidth=o),u===void 0&&(this.dataHeight=s),h===void 0&&(this.left=0),m===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+s>this.dataHeight)throw new x("Crop rectangle does not fit within image data.")}getRow(r,o){if(r<0||r>=this.getHeight())throw new x("Requested row is outside the image: "+r);let s=this.getWidth();(o==null||o.length<s)&&(o=new Uint8ClampedArray(s));let c=(r+this.top)*this.dataWidth+this.left;return A.arraycopy(this.luminances,c,o,0,s),o}getMatrix(){let r=this.getWidth(),o=this.getHeight();if(r===this.dataWidth&&o===this.dataHeight)return this.luminances;let s=r*o,c=new Uint8ClampedArray(s),u=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return A.arraycopy(this.luminances,u,c,0,s),c;for(let h=0;h<o;h++){let m=h*r;A.arraycopy(this.luminances,u,c,m,r),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(r,o,s,c){return new He(this.luminances,s,c,this.dataWidth,this.dataHeight,this.left+r,this.top+o)}invert(){return new ze(this)}}class rt extends ne{static forName(r){return this.getCharacterSetECIByName(r)}}class Ct{}Ct.ISO_8859_1=ne.ISO8859_1;class jt{isCompact(){return this.compact}setCompact(r){this.compact=r}getSize(){return this.size}setSize(r){this.size=r}getLayers(){return this.layers}setLayers(r){this.layers=r}getCodeWords(){return this.codeWords}setCodeWords(r){this.codeWords=r}getMatrix(){return this.matrix}setMatrix(r){this.matrix=r}}class ai{static singletonList(r){return[r]}static min(r,o){return r.sort(o)[0]}}class ui{constructor(r){this.previous=r}getPrevious(){return this.previous}}class di extends ui{constructor(r,o,s){super(r),this.value=o,this.bitCount=s}appendTo(r,o){r.appendBits(this.value,this.bitCount)}add(r,o){return new di(this,r,o)}addBinaryShift(r,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new di(this,r,o)}toString(){let r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+U.toBinaryString(r|1<<this.bitCount).substring(1)+">"}}class En extends di{constructor(r,o,s){super(r,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=s}appendTo(r,o){for(let s=0;s<this.binaryShiftByteCount;s++)(s===0||s===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):s===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(o[this.binaryShiftStart+s],8)}addBinaryShift(r,o){return new En(this,r,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Bn(_,r,o){return new En(_,r,o)}function Cn(_,r,o){return new di(_,r,o)}let Lr=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],xn=0,ao=1,Sn=2,la=3,bo=4,ql=new di(null,0,0),fs=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Ds(_){for(let r of _)K.fill(r,-1);return _[xn][bo]=0,_[ao][bo]=0,_[ao][xn]=28,_[la][bo]=0,_[Sn][bo]=0,_[Sn][xn]=15,_}let Os=Ds(K.createInt32Array(6,6));class so{constructor(r,o,s,c){this.token=r,this.mode=o,this.binaryShiftByteCount=s,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(r,o){let s=this.bitCount,c=this.token;if(r!==this.mode){let h=fs[this.mode][r];c=Cn(c,h&65535,h>>16),s+=h>>16}let u=r===Sn?4:5;return c=Cn(c,o,u),new so(c,r,0,s+u)}shiftAndAppend(r,o){let s=this.token,c=this.mode===Sn?4:5;return s=Cn(s,Os[this.mode][r],c),s=Cn(s,o,5),new so(s,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(r){let o=this.token,s=this.mode,c=this.bitCount;if(this.mode===bo||this.mode===Sn){let m=fs[s][xn];o=Cn(o,m&65535,m>>16),c+=m>>16,s=xn}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,h=new so(o,s,this.binaryShiftByteCount+1,c+u);return h.binaryShiftByteCount===2078&&(h=h.endBinaryShift(r+1)),h}endBinaryShift(r){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=Bn(o,r-this.binaryShiftByteCount,this.binaryShiftByteCount),new so(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(r){let o=this.bitCount+(fs[this.mode][r.mode]>>16);return this.binaryShiftByteCount<r.binaryShiftByteCount?o+=so.calculateBinaryShiftCost(r)-so.calculateBinaryShiftCost(this):this.binaryShiftByteCount>r.binaryShiftByteCount&&r.binaryShiftByteCount>0&&(o+=10),o<=r.bitCount}toBitArray(r){let o=[];for(let c=this.endBinaryShift(r.length).token;c!==null;c=c.getPrevious())o.unshift(c);let s=new Y;for(let c of o)c.appendTo(s,r);return s}toString(){return Ae.format("%s bits=%d bytes=%d",Lr[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(r){return r.binaryShiftByteCount>62?21:r.binaryShiftByteCount>31?20:r.binaryShiftByteCount>0?10:0}}so.INITIAL_STATE=new so(ql,xn,0,0);function Rs(_){let r=Ae.getCharCode(" "),o=Ae.getCharCode("."),s=Ae.getCharCode(",");_[xn][r]=1;let c=Ae.getCharCode("Z"),u=Ae.getCharCode("A");for(let V=u;V<=c;V++)_[xn][V]=V-u+2;_[ao][r]=1;let h=Ae.getCharCode("z"),m=Ae.getCharCode("a");for(let V=m;V<=h;V++)_[ao][V]=V-m+2;_[Sn][r]=1;let E=Ae.getCharCode("9"),w=Ae.getCharCode("0");for(let V=w;V<=E;V++)_[Sn][V]=V-w+2;_[Sn][s]=12,_[Sn][o]=13;let C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","\x7F"];for(let V=0;V<C.length;V++)_[la][Ae.getCharCode(C[V])]=V;let L=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let V=0;V<L.length;V++)Ae.getCharCode(L[V])>0&&(_[bo][Ae.getCharCode(L[V])]=V);return _}let Dr=Rs(K.createInt32Array(5,256));class ca{constructor(r){this.text=r}encode(){let r=Ae.getCharCode(" "),o=Ae.getCharCode(`
`),s=ai.singletonList(so.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let h,m=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case Ae.getCharCode("\r"):h=m===o?2:0;break;case Ae.getCharCode("."):h=m===r?3:0;break;case Ae.getCharCode(","):h=m===r?4:0;break;case Ae.getCharCode(":"):h=m===r?5:0;break;default:h=0}h>0?(s=ca.updateStateListForPair(s,u,h),u++):s=this.updateStateListForChar(s,u)}return ai.min(s,(u,h)=>u.getBitCount()-h.getBitCount()).toBitArray(this.text)}updateStateListForChar(r,o){let s=[];for(let c of r)this.updateStateForChar(c,o,s);return ca.simplifyStates(s)}updateStateForChar(r,o,s){let c=this.text[o]&255,u=Dr[r.getMode()][c]>0,h=null;for(let m=0;m<=bo;m++){let E=Dr[m][c];if(E>0){if(h==null&&(h=r.endBinaryShift(o)),!u||m===r.getMode()||m===Sn){let w=h.latchAndAppend(m,E);s.push(w)}if(!u&&Os[r.getMode()][m]>=0){let w=h.shiftAndAppend(m,E);s.push(w)}}}if(r.getBinaryShiftByteCount()>0||Dr[r.getMode()][c]===0){let m=r.addBinaryShiftChar(o);s.push(m)}}static updateStateListForPair(r,o,s){let c=[];for(let u of r)this.updateStateForPair(u,o,s,c);return this.simplifyStates(c)}static updateStateForPair(r,o,s,c){let u=r.endBinaryShift(o);if(c.push(u.latchAndAppend(bo,s)),r.getMode()!==bo&&c.push(u.shiftAndAppend(bo,s)),s===3||s===4){let h=u.latchAndAppend(Sn,16-s).latchAndAppend(Sn,1);c.push(h)}if(r.getBinaryShiftByteCount()>0){let h=r.addBinaryShiftChar(o).addBinaryShiftChar(o+1);c.push(h)}}static simplifyStates(r){let o=[];for(let s of r){let c=!0;for(let u of o){if(u.isBetterThanOrEqualTo(s)){c=!1;break}s.isBetterThanOrEqualTo(u)&&(o=o.filter(h=>h!==u))}c&&o.push(s)}return o}}class gi{constructor(){}static encodeBytes(r){return gi.encode(r,gi.DEFAULT_EC_PERCENT,gi.DEFAULT_AZTEC_LAYERS)}static encode(r,o,s){let c=new ca(r).encode(),u=U.truncDivision(c.getSize()*o,100)+11,h=c.getSize()+u,m,E,w,C,L;if(s!==gi.DEFAULT_AZTEC_LAYERS){if(m=s<0,E=Math.abs(s),E>(m?gi.MAX_NB_BITS_COMPACT:gi.MAX_NB_BITS))throw new x(Ae.format("Illegal value %s for layers",s));w=gi.totalBitsInLayer(E,m),C=gi.WORD_SIZE[E];let Ve=w-w%C;if(L=gi.stuffBits(c,C),L.getSize()+u>Ve)throw new x("Data to large for user specified layer");if(m&&L.getSize()>C*64)throw new x("Data to large for user specified layer")}else{C=0,L=null;for(let Ve=0;;Ve++){if(Ve>gi.MAX_NB_BITS)throw new x("Data too large for an Aztec code");if(m=Ve<=3,E=m?Ve+1:Ve,w=gi.totalBitsInLayer(E,m),h>w)continue;(L==null||C!==gi.WORD_SIZE[E])&&(C=gi.WORD_SIZE[E],L=gi.stuffBits(c,C));let ni=w-w%C;if(!(m&&L.getSize()>C*64)&&L.getSize()+u<=ni)break}}let V=gi.generateCheckWords(L,w,C),Q=L.getSize()/C,re=gi.generateModeMessage(m,E,Q),fe=(m?11:14)+E*4,ye=new Int32Array(fe),Le;if(m){Le=fe;for(let Ve=0;Ve<ye.length;Ve++)ye[Ve]=Ve}else{Le=fe+1+2*U.truncDivision(U.truncDivision(fe,2)-1,15);let Ve=U.truncDivision(fe,2),ni=U.truncDivision(Le,2);for(let Jt=0;Jt<Ve;Jt++){let cr=Jt+U.truncDivision(Jt,15);ye[Ve-Jt-1]=ni-cr-1,ye[Ve+Jt]=ni+cr+1}}let nt=new X(Le);for(let Ve=0,ni=0;Ve<E;Ve++){let Jt=(E-Ve)*4+(m?9:12);for(let cr=0;cr<Jt;cr++){let Ir=cr*2;for(let Wn=0;Wn<2;Wn++)V.get(ni+Ir+Wn)&&nt.set(ye[Ve*2+Wn],ye[Ve*2+cr]),V.get(ni+Jt*2+Ir+Wn)&&nt.set(ye[Ve*2+cr],ye[fe-1-Ve*2-Wn]),V.get(ni+Jt*4+Ir+Wn)&&nt.set(ye[fe-1-Ve*2-Wn],ye[fe-1-Ve*2-cr]),V.get(ni+Jt*6+Ir+Wn)&&nt.set(ye[fe-1-Ve*2-cr],ye[Ve*2+Wn])}ni+=Jt*8}if(gi.drawModeMessage(nt,m,Le,re),m)gi.drawBullsEye(nt,U.truncDivision(Le,2),5);else{gi.drawBullsEye(nt,U.truncDivision(Le,2),7);for(let Ve=0,ni=0;Ve<U.truncDivision(fe,2)-1;Ve+=15,ni+=16)for(let Jt=U.truncDivision(Le,2)&1;Jt<Le;Jt+=2)nt.set(U.truncDivision(Le,2)-ni,Jt),nt.set(U.truncDivision(Le,2)+ni,Jt),nt.set(Jt,U.truncDivision(Le,2)-ni),nt.set(Jt,U.truncDivision(Le,2)+ni)}let ct=new jt;return ct.setCompact(m),ct.setSize(Le),ct.setLayers(E),ct.setCodeWords(Q),ct.setMatrix(nt),ct}static drawBullsEye(r,o,s){for(let c=0;c<s;c+=2)for(let u=o-c;u<=o+c;u++)r.set(u,o-c),r.set(u,o+c),r.set(o-c,u),r.set(o+c,u);r.set(o-s,o-s),r.set(o-s+1,o-s),r.set(o-s,o-s+1),r.set(o+s,o-s),r.set(o+s,o-s+1),r.set(o+s,o+s-1)}static generateModeMessage(r,o,s){let c=new Y;return r?(c.appendBits(o-1,2),c.appendBits(s-1,6),c=gi.generateCheckWords(c,28,4)):(c.appendBits(o-1,5),c.appendBits(s-1,11),c=gi.generateCheckWords(c,40,4)),c}static drawModeMessage(r,o,s,c){let u=U.truncDivision(s,2);if(o)for(let h=0;h<7;h++){let m=u-3+h;c.get(h)&&r.set(m,u-5),c.get(h+7)&&r.set(u+5,m),c.get(20-h)&&r.set(m,u+5),c.get(27-h)&&r.set(u-5,m)}else for(let h=0;h<10;h++){let m=u-5+h+U.truncDivision(h,5);c.get(h)&&r.set(m,u-7),c.get(h+10)&&r.set(u+7,m),c.get(29-h)&&r.set(m,u+7),c.get(39-h)&&r.set(u-7,m)}}static generateCheckWords(r,o,s){let c=r.getSize()/s,u=new Ls(gi.getGF(s)),h=U.truncDivision(o,s),m=gi.bitsToWords(r,s,h);u.encode(m,h-c);let E=o%s,w=new Y;w.appendBits(0,E);for(let C of Array.from(m))w.appendBits(C,s);return w}static bitsToWords(r,o,s){let c=new Int32Array(s),u,h;for(u=0,h=r.getSize()/o;u<h;u++){let m=0;for(let E=0;E<o;E++)m|=r.get(u*o+E)?1<<o-E-1:0;c[u]=m}return c}static getGF(r){switch(r){case 4:return Ke.AZTEC_PARAM;case 6:return Ke.AZTEC_DATA_6;case 8:return Ke.AZTEC_DATA_8;case 10:return Ke.AZTEC_DATA_10;case 12:return Ke.AZTEC_DATA_12;default:throw new x("Unsupported word size "+r)}}static stuffBits(r,o){let s=new Y,c=r.getSize(),u=(1<<o)-2;for(let h=0;h<c;h+=o){let m=0;for(let E=0;E<o;E++)(h+E>=c||r.get(h+E))&&(m|=1<<o-1-E);(m&u)===u?(s.appendBits(m&u,o),h--):m&u?s.appendBits(m,o):(s.appendBits(m|1,o),h--)}return s}static totalBitsInLayer(r,o){return((o?88:112)+16*r)*r}}gi.DEFAULT_EC_PERCENT=33,gi.DEFAULT_AZTEC_LAYERS=0,gi.MAX_NB_BITS=32,gi.MAX_NB_BITS_COMPACT=4,gi.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ma{encode(r,o,s,c){return this.encodeWithHints(r,o,s,c,null)}encodeWithHints(r,o,s,c,u){let h=Ct.ISO_8859_1,m=gi.DEFAULT_EC_PERCENT,E=gi.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(Dn.CHARACTER_SET)&&(h=rt.forName(u.get(Dn.CHARACTER_SET).toString())),u.has(Dn.ERROR_CORRECTION)&&(m=U.parseInt(u.get(Dn.ERROR_CORRECTION).toString())),u.has(Dn.AZTEC_LAYERS)&&(E=U.parseInt(u.get(Dn.AZTEC_LAYERS).toString()))),Ma.encodeLayers(r,o,s,c,h,m,E)}static encodeLayers(r,o,s,c,u,h,m){if(o!==J.AZTEC)throw new x("Can only encode AZTEC, but got "+o);let E=gi.encode(Ae.getBytes(r,u),h,m);return Ma.renderResult(E,s,c)}static renderResult(r,o,s){let c=r.getMatrix();if(c==null)throw new pt;let u=c.getWidth(),h=c.getHeight(),m=Math.max(o,u),E=Math.max(s,h),w=Math.min(m/u,E/h),C=(m-u*w)/2,L=(E-h*w)/2,V=new X(m,E);for(let Q=0,re=L;Q<h;Q++,re+=w)for(let fe=0,ye=C;fe<u;fe++,ye+=w)c.get(fe,Q)&&V.setRegion(ye,re,w,w);return V}}t.AbstractExpandedDecoder=Ua,t.ArgumentException=v,t.ArithmeticException=st,t.AztecCode=jt,t.AztecCodeReader=Yt,t.AztecCodeWriter=Ma,t.AztecDecoder=oe,t.AztecDetector=Zi,t.AztecDetectorResult=bt,t.AztecEncoder=gi,t.AztecHighLevelEncoder=ca,t.AztecPoint=ei,t.BarcodeFormat=J,t.Binarizer=k,t.BinaryBitmap=S,t.BitArray=Y,t.BitMatrix=X,t.BitSource=Pl,t.BrowserAztecCodeReader=vi,t.BrowserBarcodeReader=f0,t.BrowserCodeReader=ht,t.BrowserDatamatrixCodeReader=h0,t.BrowserMultiFormatReader=jl,t.BrowserPDF417Reader=pc,t.BrowserQRCodeReader=Ts,t.BrowserQRCodeSvgWriter=R,t.CharacterSetECI=ne,t.ChecksumException=M,t.Code128Reader=ot,t.Code39Reader=bi,t.DataMatrixDecodedBitStreamParser=Yo,t.DataMatrixReader=Va,t.DecodeHintType=xe,t.DecoderResult=Me,t.DefaultGridSampler=si,t.DetectorResult=ut,t.EAN13Reader=vn,t.EncodeHintType=Dn,t.Exception=p,t.FormatException=ce,t.GenericGF=Ke,t.GenericGFPoly=De,t.GlobalHistogramBinarizer=ae,t.GridSampler=Bt,t.GridSamplerInstance=ri,t.HTMLCanvasElementLuminanceSource=Ie,t.HybridBinarizer=be,t.ITFReader=Ei,t.IllegalArgumentException=x,t.IllegalStateException=pt,t.InvertedLuminanceSource=ze,t.LuminanceSource=Be,t.MathUtils=Et,t.MultiFormatOneDReader=ba,t.MultiFormatReader=Ns,t.MultiFormatWriter=ue,t.NotFoundException=G,t.OneDReader=at,t.PDF417DecodedBitStreamParser=ke,t.PDF417DecoderErrorCorrection=As,t.PDF417Reader=kn,t.PDF417ResultMetadata=us,t.PerspectiveTransform=Vt,t.PlanarYUVLuminanceSource=Ce,t.QRCodeByteMatrix=Ta,t.QRCodeDataMask=oo,t.QRCodeDecodedBitStreamParser=lc,t.QRCodeDecoderErrorCorrectionLevel=qi,t.QRCodeDecoderFormatInformation=Ki,t.QRCodeEncoder=y,t.QRCodeEncoderQRCode=sa,t.QRCodeMaskUtil=Ga,t.QRCodeMatrixUtil=Rt,t.QRCodeMode=Ut,t.QRCodeReader=Gt,t.QRCodeVersion=Ot,t.QRCodeWriter=te,t.RGBLuminanceSource=He,t.RSS14Reader=cn,t.RSSExpandedReader=tt,t.ReaderException=Ul,t.ReedSolomonDecoder=Ht,t.ReedSolomonEncoder=Ls,t.ReedSolomonException=vt,t.Result=B,t.ResultMetadataType=ve,t.ResultPoint=Oe,t.StringUtils=Ae,t.UnsupportedOperationException=le,t.VideoInputDevice=Ze,t.WhiteRectangleDetector=dt,t.WriterException=Yi,t.ZXingArrays=K,t.ZXingCharset=rt,t.ZXingInteger=U,t.ZXingStandardCharsets=Ct,t.ZXingStringBuilder=W,t.ZXingStringEncoding=Ge,t.ZXingSystem=A,t.createAbstractExpandedDecoder=as,Object.defineProperty(t,"__esModule",{value:!0})})});var ia=mt(zh=>{"use strict";Object.defineProperty(zh,"__esModule",{value:!0});function Jb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var $b=function t(e,i){Jb(this,t),this.data=e,this.text=i.text||e,this.options=i};zh.default=$b});var o3=mt(Q1=>{"use strict";Object.defineProperty(Q1,"__esModule",{value:!0});Q1.CODE39=void 0;var eC=function(){function t(e,i){for(var n=0;n<i.length;n++){var a=i[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),tC=ia(),iC=nC(tC);function nC(t){return t&&t.__esModule?t:{default:t}}function rC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oC(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function aC(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var sC=function(t){aC(e,t);function e(i,n){return rC(this,e),i=i.toUpperCase(),n.mod43&&(i+=uC(fC(i))),oC(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return eC(e,[{key:"encode",value:function(){for(var n=Hh("*"),a=0;a<this.data.length;a++)n+=Hh(this.data[a])+"0";return n+=Hh("*"),{data:n,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),e}(iC.default),n3=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],lC=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function Hh(t){return cC(r3(t))}function cC(t){return lC[t].toString(2)}function uC(t){return n3[t]}function r3(t){return n3.indexOf(t)}function fC(t){for(var e=0,i=0;i<t.length;i++)e+=r3(t[i]);return e=e%43,e}Q1.CODE39=sC});var Qc=mt(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});var V0;function Gh(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var a3=pr.SET_A=0,s3=pr.SET_B=1,l3=pr.SET_C=2,aB=pr.SHIFT=98,hC=pr.START_A=103,dC=pr.START_B=104,mC=pr.START_C=105,sB=pr.MODULO=103,lB=pr.STOP=106,cB=pr.FNC1=207,uB=pr.SET_BY_CODE=(V0={},Gh(V0,hC,a3),Gh(V0,dC,s3),Gh(V0,mC,l3),V0),fB=pr.SWAP={101:a3,100:s3,99:l3},hB=pr.A_START_CHAR="\xD0",dB=pr.B_START_CHAR="\xD1",mB=pr.C_START_CHAR="\xD2",pB=pr.A_CHARS="[\0-_\xC8-\xCF]",gB=pr.B_CHARS="[ -\x7F\xC8-\xCF]",vB=pr.C_CHARS="(\xCF*[0-9]{2}\xCF*)",EB=pr.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]});var q0=mt(Wh=>{"use strict";Object.defineProperty(Wh,"__esModule",{value:!0});var pC=function(){function t(e,i){for(var n=0;n<i.length;n++){var a=i[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),gC=ia(),vC=EC(gC),na=Qc();function EC(t){return t&&t.__esModule?t:{default:t}}function xC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yC(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function wC(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _C=function(t){wC(e,t);function e(i,n){xC(this,e);var a=yC(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i.substring(1),n));return a.bytes=i.split("").map(function(l){return l.charCodeAt(0)}),a}return pC(e,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var n=this.bytes,a=n.shift()-105,l=na.SET_BY_CODE[a];if(l===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&n.unshift(na.FNC1);var f=e.next(n,1,l);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:e.getBar(a)+f.result+e.getBar((f.checksum+a)%na.MODULO)+e.getBar(na.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var n=this.options.ean128||!1;return typeof n=="string"&&(n=n.toLowerCase()==="true"),n}}],[{key:"getBar",value:function(n){return na.BARS[n]?na.BARS[n].toString():""}},{key:"correctIndex",value:function(n,a){if(a===na.SET_A){var l=n.shift();return l<32?l+64:l-32}else return a===na.SET_B?n.shift()-32:(n.shift()-48)*10+n.shift()-48}},{key:"next",value:function(n,a,l){if(!n.length)return{result:"",checksum:0};var f=void 0,p=void 0;if(n[0]>=200){p=n.shift()-105;var v=na.SWAP[p];v!==void 0?f=e.next(n,a+1,v):((l===na.SET_A||l===na.SET_B)&&p===na.SHIFT&&(n[0]=l===na.SET_A?n[0]>95?n[0]-96:n[0]:n[0]<32?n[0]+96:n[0]),f=e.next(n,a+1,l))}else p=e.correctIndex(n,l),f=e.next(n,a+1,l);var x=e.getBar(p),S=p*a;return{result:x+f.result,checksum:S+f.checksum}}}]),e}(vC.default);Wh.default=_C});var d3=mt(Xh=>{"use strict";Object.defineProperty(Xh,"__esModule",{value:!0});var Il=Qc(),c3=function(e){return e.match(new RegExp("^"+Il.A_CHARS+"*"))[0].length},u3=function(e){return e.match(new RegExp("^"+Il.B_CHARS+"*"))[0].length},f3=function(e){return e.match(new RegExp("^"+Il.C_CHARS+"*"))[0]};function Yh(t,e){var i=e?Il.A_CHARS:Il.B_CHARS,n=t.match(new RegExp("^("+i+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(n)return n[1]+"\xCC"+h3(t.substring(n[1].length));var a=t.match(new RegExp("^"+i+"+"))[0];return a.length===t.length?t:a+String.fromCharCode(e?205:206)+Yh(t.substring(a.length),!e)}function h3(t){var e=f3(t),i=e.length;if(i===t.length)return t;t=t.substring(i);var n=c3(t)>=u3(t);return e+String.fromCharCode(n?206:205)+Yh(t,n)}Xh.default=function(t){var e=void 0,i=f3(t).length;if(i>=2)e=Il.C_START_CHAR+h3(t);else{var n=c3(t)>u3(t);e=(n?Il.A_START_CHAR:Il.B_START_CHAR)+Yh(t,n)}return e.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(a,l){return"\xCB"+l})}});var p3=mt(Zh=>{"use strict";Object.defineProperty(Zh,"__esModule",{value:!0});var bC=q0(),CC=m3(bC),SC=d3(),AC=m3(SC);function m3(t){return t&&t.__esModule?t:{default:t}}function IC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qh(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function NC(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var TC=function(t){NC(e,t);function e(i,n){if(IC(this,e),/^[\x00-\x7F\xC8-\xD3]+$/.test(i))var a=Qh(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(0,AC.default)(i),n));else var a=Qh(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n));return Qh(a)}return e}(CC.default);Zh.default=TC});var v3=mt(Kh=>{"use strict";Object.defineProperty(Kh,"__esModule",{value:!0});var MC=function(){function t(e,i){for(var n=0;n<i.length;n++){var a=i[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),LC=q0(),DC=OC(LC),g3=Qc();function OC(t){return t&&t.__esModule?t:{default:t}}function RC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PC(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function kC(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var BC=function(t){kC(e,t);function e(i,n){return RC(this,e),PC(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,g3.A_START_CHAR+i,n))}return MC(e,[{key:"valid",value:function(){return new RegExp("^"+g3.A_CHARS+"+$").test(this.data)}}]),e}(DC.default);Kh.default=BC});var x3=mt(Jh=>{"use strict";Object.defineProperty(Jh,"__esModule",{value:!0});var FC=function(){function t(e,i){for(var n=0;n<i.length;n++){var a=i[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),UC=q0(),jC=VC(UC),E3=Qc();function VC(t){return t&&t.__esModule?t:{default:t}}function qC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zC(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function HC(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var GC=function(t){HC(e,t);function e(i,n){return qC(this,e),zC(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,E3.B_START_CHAR+i,n))}return FC(e,[{key:"valid",value:function(){return new RegExp("^"+E3.B_CHARS+"+$").test(this.data)}}]),e}(jC.default);Jh.default=GC});var w3=mt($h=>{"use strict";Object.defineProperty($h,"__esModule",{value:!0});var WC=function(){function t(e,i){for(var n=0;n<i.length;n++){var a=i[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),YC=q0(),XC=QC(YC),y3=Qc();function QC(t){return t&&t.__esModule?t:{default:t}}function ZC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KC(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function JC(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var $C=function(t){JC(e,t);function e(i,n){return ZC(this,e),KC(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,y3.C_START_CHAR+i,n))}return WC(e,[{key:"valid",value:function(){return new RegExp("^"+y3.C_CHARS+"+$").test(this.data)}}]),e}(XC.default);$h.default=$C});var _3=mt(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.CODE128C=rs.CODE128B=rs.CODE128A=rs.CODE128=void 0;var eS=p3(),tS=Z1(eS),iS=v3(),nS=Z1(iS),rS=x3(),oS=Z1(rS),aS=w3(),sS=Z1(aS);function Z1(t){return t&&t.__esModule?t:{default:t}}rs.CODE128=tS.default;rs.CODE128A=nS.default;rs.CODE128B=oS.default;rs.CODE128C=sS.default});var Zc=mt(Nl=>{"use strict";Object.defineProperty(Nl,"__esModule",{value:!0});var IB=Nl.SIDE_BIN="101",NB=Nl.MIDDLE_BIN="01010",TB=Nl.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},MB=Nl.EAN2_STRUCTURE=["LL","LG","GL","GG"],LB=Nl.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],DB=Nl.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]});var Kc=mt(ed=>{"use strict";Object.defineProperty(ed,"__esModule",{value:!0});var lS=Zc(),cS=function(e,i,n){var a=e.split("").map(function(f,p){return lS.BINARIES[i[p]]}).map(function(f,p){return f?f[e[p]]:""});if(n){var l=e.length-1;a=a.map(function(f,p){return p<l?f+n:f})}return a.join("")};ed.default=cS});var id=mt(td=>{"use strict";Object.defineProperty(td,"__esModule",{value:!0});var uS=function(){function t(e,i){for(var n=0;n<i.length;n++){var a=i[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Jc=Zc(),fS=Kc(),b3=C3(fS),hS=ia(),dS=C3(hS);function C3(t){return t&&t.__esModule?t:{default:t}}function mS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pS(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function gS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var vS=function(t){gS(e,t);function e(i,n){mS(this,e);var a=pS(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n));return a.fontSize=!n.flat&&n.fontSize>n.width*10?n.width*10:n.fontSize,a.guardHeight=n.height+a.fontSize/2+n.textMargin,a}return uS(e,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(n,a){return this.text.substr(n,a)}},{key:"leftEncode",value:function(n,a){return(0,b3.default)(n,a)}},{key:"rightText",value:function(n,a){return this.text.substr(n,a)}},{key:"rightEncode",value:function(n,a){return(0,b3.default)(n,a)}},{key:"encodeGuarded",value:function(){var n={fontSize:this.fontSize},a={height:this.guardHeight};return[{data:Jc.SIDE_BIN,options:a},{data:this.leftEncode(),text:this.leftText(),options:n},{data:Jc.MIDDLE_BIN,options:a},{data:this.rightEncode(),text:this.rightText(),options:n},{data:Jc.SIDE_BIN,options:a}]}},{key:"encodeFlat",value:function(){var n=[Jc.SIDE_BIN,this.leftEncode(),Jc.MIDDLE_BIN,this.rightEncode(),Jc.SIDE_BIN];return{data:n.join(""),text:this.text}}}]),e}(dS.default);td.default=vS});var A3=mt(nd=>{"use strict";Object.defineProperty(nd,"__esModule",{value:!0});var ES=function(){function t(e,i){for(var n=0;n<i.length;n++){var a=i[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),z0=function t(e,i,n){e===null&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,i);if(a===void 0){var l=Object.getPrototypeOf(e);return l===null?void 0:t(l,i,n)}else{if("value"in a)return a.value;var f=a.get;return f===void 0?void 0:f.call(n)}},xS=Zc(),yS=id(),wS=_S(yS);function _S(t){return t&&t.__esModule?t:{default:t}}function bS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CS(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function SS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var S3=function(e){var i=e.substr(0,12).split("").map(function(n){return+n}).reduce(function(n,a,l){return l%2?n+a*3:n+a},0);return(10-i%10)%10},AS=function(t){SS(e,t);function e(i,n){bS(this,e),i.search(/^[0-9]{12}$/)!==-1&&(i+=S3(i));var a=CS(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n));return a.lastChar=n.lastChar,a}return ES(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===S3(this.data)}},{key:"leftText",value:function(){return z0(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var n=this.data.substr(1,6),a=xS.EAN13_STRUCTURE[this.data[0]];return z0(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,n,a)}},{key:"rightText",value:function(){return z0(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var n=this.data.substr(7,6);return z0(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,n,"RRRRRR")}},{key:"encodeGuarded",value:function(){var n=z0(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(n.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(n.push({data:"00"}),n.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),n}}]),e}(wS.default);nd.default=AS});var N3=mt(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});var IS=function(){function t(e,i){for(var n=0;n<i.length;n++){var a=i[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),K1=function t(e,i,n){e===null&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,i);if(a===void 0){var l=Object.getPrototypeOf(e);return l===null?void 0:t(l,i,n)}else{if("value"in a)return a.value;var f=a.get;return f===void 0?void 0:f.call(n)}},NS=id(),TS=MS(NS);function MS(t){return t&&t.__esModule?t:{default:t}}function LS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DS(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function OS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var I3=function(e){var i=e.substr(0,7).split("").map(function(n){return+n}).reduce(function(n,a,l){return l%2?n+a:n+a*3},0);return(10-i%10)%10},RS=function(t){OS(e,t);function e(i,n){return LS(this,e),i.search(/^[0-9]{7}$/)!==-1&&(i+=I3(i)),DS(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return IS(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===I3(this.data)}},{key:"leftText",value:function(){return K1(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var n=this.data.substr(0,4);return K1(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,n,"LLLL")}},{key:"rightText",value:function(){return K1(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var n=this.data.substr(4,4);return K1(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,n,"RRRR")}}]),e}(TS.default);rd.default=RS});var M3=mt(od=>{"use strict";Object.defineProperty(od,"__esModule",{value:!0});var PS=function(){function t(e,i){for(var n=0;n<i.length;n++){var a=i[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),kS=Zc(),BS=Kc(),FS=T3(BS),US=ia(),jS=T3(US);function T3(t){return t&&t.__esModule?t:{default:t}}function VS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qS(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function zS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var HS=function(e){var i=e.split("").map(function(n){return+n}).reduce(function(n,a,l){return l%2?n+a*9:n+a*3},0);return i%10},GS=function(t){zS(e,t);function e(i,n){return VS(this,e),qS(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return PS(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var n=kS.EAN5_STRUCTURE[HS(this.data)];return{data:"1011"+(0,FS.default)(this.data,n,"01"),text:this.text}}}]),e}(jS.default);od.default=GS});var D3=mt(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});var WS=function(){function t(e,i){for(var n=0;n<i.length;n++){var a=i[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),YS=Zc(),XS=Kc(),QS=L3(XS),ZS=ia(),KS=L3(ZS);function L3(t){return t&&t.__esModule?t:{default:t}}function JS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $S(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function e8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var t8=function(t){e8(e,t);function e(i,n){return JS(this,e),$S(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return WS(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var n=YS.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,QS.default)(this.data,n,"01"),text:this.text}}}]),e}(KS.default);ad.default=t8});var ld=mt(J1=>{"use strict";Object.defineProperty(J1,"__esModule",{value:!0});var i8=function(){function t(e,i){for(var n=0;n<i.length;n++){var a=i[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();J1.checksum=sd;var n8=Kc(),$c=O3(n8),r8=ia(),o8=O3(r8);function O3(t){return t&&t.__esModule?t:{default:t}}function a8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s8(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function l8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c8=function(t){l8(e,t);function e(i,n){a8(this,e),i.search(/^[0-9]{11}$/)!==-1&&(i+=sd(i));var a=s8(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n));return a.displayValue=n.displayValue,n.fontSize>n.width*10?a.fontSize=n.width*10:a.fontSize=n.fontSize,a.guardHeight=n.height+a.fontSize/2+n.textMargin,a}return i8(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==sd(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var n="";return n+="101",n+=(0,$c.default)(this.data.substr(0,6),"LLLLLL"),n+="01010",n+=(0,$c.default)(this.data.substr(6,6),"RRRRRR"),n+="101",{data:n,text:this.text}}},{key:"guardedEncoding",value:function(){var n=[];return this.displayValue&&n.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),n.push({data:"101"+(0,$c.default)(this.data[0],"L"),options:{height:this.guardHeight}}),n.push({data:(0,$c.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),n.push({data:"01010",options:{height:this.guardHeight}}),n.push({data:(0,$c.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),n.push({data:(0,$c.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&n.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),n}}]),e}(o8.default);function sd(t){var e=0,i;for(i=1;i<11;i+=2)e+=parseInt(t[i]);for(i=0;i<11;i+=2)e+=parseInt(t[i])*3;return(10-e%10)%10}J1.default=c8});var k3=mt(ud=>{"use strict";Object.defineProperty(ud,"__esModule",{value:!0});var u8=function(){function t(e,i){for(var n=0;n<i.length;n++){var a=i[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),f8=Kc(),h8=P3(f8),d8=ia(),m8=P3(d8),p8=ld();function P3(t){return t&&t.__esModule?t:{default:t}}function g8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cd(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function v8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var E8=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],x8=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],y8=function(t){v8(e,t);function e(i,n){g8(this,e);var a=cd(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n));if(a.isValid=!1,i.search(/^[0-9]{6}$/)!==-1)a.middleDigits=i,a.upcA=R3(i,"0"),a.text=n.text||""+a.upcA[0]+i+a.upcA[a.upcA.length-1],a.isValid=!0;else if(i.search(/^[01][0-9]{7}$/)!==-1)if(a.middleDigits=i.substring(1,i.length-1),a.upcA=R3(a.middleDigits,i[0]),a.upcA[a.upcA.length-1]===i[i.length-1])a.isValid=!0;else return cd(a);else return cd(a);return a.displayValue=n.displayValue,n.fontSize>n.width*10?a.fontSize=n.width*10:a.fontSize=n.fontSize,a.guardHeight=n.height+a.fontSize/2+n.textMargin,a}return u8(e,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var n="";return n+="101",n+=this.encodeMiddleDigits(),n+="010101",{data:n,text:this.text}}},{key:"guardedEncoding",value:function(){var n=[];return this.displayValue&&n.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),n.push({data:"101",options:{height:this.guardHeight}}),n.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),n.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&n.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),n}},{key:"encodeMiddleDigits",value:function(){var n=this.upcA[0],a=this.upcA[this.upcA.length-1],l=x8[parseInt(a)][parseInt(n)];return(0,h8.default)(this.middleDigits,l)}}]),e}(m8.default);function R3(t,e){for(var i=parseInt(t[t.length-1]),n=E8[i],a="",l=0,f=0;f<n.length;f++){var p=n[f];p==="X"?a+=t[l++]:a+=p}return a=""+e+a,""+a+(0,p8.checksum)(a)}ud.default=y8});var B3=mt(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.UPCE=zo.UPC=zo.EAN2=zo.EAN5=zo.EAN8=zo.EAN13=void 0;var w8=A3(),_8=e0(w8),b8=N3(),C8=e0(b8),S8=M3(),A8=e0(S8),I8=D3(),N8=e0(I8),T8=ld(),M8=e0(T8),L8=k3(),D8=e0(L8);function e0(t){return t&&t.__esModule?t:{default:t}}zo.EAN13=_8.default;zo.EAN8=C8.default;zo.EAN5=A8.default;zo.EAN2=N8.default;zo.UPC=M8.default;zo.UPCE=D8.default});var F3=mt(H0=>{"use strict";Object.defineProperty(H0,"__esModule",{value:!0});var zB=H0.START_BIN="1010",HB=H0.END_BIN="11101",GB=H0.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]});var hd=mt(fd=>{"use strict";Object.defineProperty(fd,"__esModule",{value:!0});var O8=function(){function t(e,i){for(var n=0;n<i.length;n++){var a=i[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),$1=F3(),R8=ia(),P8=k8(R8);function k8(t){return t&&t.__esModule?t:{default:t}}function B8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F8(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function U8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var j8=function(t){U8(e,t);function e(){return B8(this,e),F8(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O8(e,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var n=this,a=this.data.match(/.{2}/g).map(function(l){return n.encodePair(l)}).join("");return{data:$1.START_BIN+a+$1.END_BIN,text:this.text}}},{key:"encodePair",value:function(n){var a=$1.BINARIES[n[1]];return $1.BINARIES[n[0]].split("").map(function(l,f){return(l==="1"?"111":"1")+(a[f]==="1"?"000":"0")}).join("")}}]),e}(P8.default);fd.default=j8});var j3=mt(dd=>{"use strict";Object.defineProperty(dd,"__esModule",{value:!0});var V8=function(){function t(e,i){for(var n=0;n<i.length;n++){var a=i[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),q8=hd(),z8=H8(q8);function H8(t){return t&&t.__esModule?t:{default:t}}function G8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W8(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Y8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var U3=function(e){var i=e.substr(0,13).split("").map(function(n){return parseInt(n,10)}).reduce(function(n,a,l){return n+a*(3-l%2*2)},0);return Math.ceil(i/10)*10-i},X8=function(t){Y8(e,t);function e(i,n){return G8(this,e),i.search(/^[0-9]{13}$/)!==-1&&(i+=U3(i)),W8(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return V8(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===U3(this.data)}}]),e}(z8.default);dd.default=X8});var q3=mt(t0=>{"use strict";Object.defineProperty(t0,"__esModule",{value:!0});t0.ITF14=t0.ITF=void 0;var Q8=hd(),Z8=V3(Q8),K8=j3(),J8=V3(K8);function V3(t){return t&&t.__esModule?t:{default:t}}t0.ITF=Z8.default;t0.ITF14=J8.default});var i0=mt(md=>{"use strict";Object.defineProperty(md,"__esModule",{value:!0});var $8=function(){function t(e,i){for(var n=0;n<i.length;n++){var a=i[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),eA=ia(),tA=iA(eA);function iA(t){return t&&t.__esModule?t:{default:t}}function nA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rA(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function oA(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var aA=function(t){oA(e,t);function e(i,n){return nA(this,e),rA(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return $8(e,[{key:"encode",value:function(){for(var n="110",a=0;a<this.data.length;a++){var l=parseInt(this.data[a]),f=l.toString(2);f=sA(f,4-f.length);for(var p=0;p<f.length;p++)n+=f[p]=="0"?"100":"110"}return n+="1001",{data:n,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),e}(tA.default);function sA(t,e){for(var i=0;i<e;i++)t="0"+t;return t}md.default=aA});var G0=mt(ef=>{"use strict";Object.defineProperty(ef,"__esModule",{value:!0});ef.mod10=lA;ef.mod11=cA;function lA(t){for(var e=0,i=0;i<t.length;i++){var n=parseInt(t[i]);(i+t.length)%2===0?e+=n:e+=n*2%10+Math.floor(n*2/10)}return(10-e%10)%10}function cA(t){for(var e=0,i=[2,3,4,5,6,7],n=0;n<t.length;n++){var a=parseInt(t[t.length-1-n]);e+=i[n%i.length]*a}return(11-e%11)%11}});var z3=mt(pd=>{"use strict";Object.defineProperty(pd,"__esModule",{value:!0});var uA=i0(),fA=dA(uA),hA=G0();function dA(t){return t&&t.__esModule?t:{default:t}}function mA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pA(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function gA(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var vA=function(t){gA(e,t);function e(i,n){return mA(this,e),pA(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i+(0,hA.mod10)(i),n))}return e}(fA.default);pd.default=vA});var H3=mt(gd=>{"use strict";Object.defineProperty(gd,"__esModule",{value:!0});var EA=i0(),xA=wA(EA),yA=G0();function wA(t){return t&&t.__esModule?t:{default:t}}function _A(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bA(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function CA(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var SA=function(t){CA(e,t);function e(i,n){return _A(this,e),bA(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i+(0,yA.mod11)(i),n))}return e}(xA.default);gd.default=SA});var W3=mt(vd=>{"use strict";Object.defineProperty(vd,"__esModule",{value:!0});var AA=i0(),IA=NA(AA),G3=G0();function NA(t){return t&&t.__esModule?t:{default:t}}function TA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MA(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function LA(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var DA=function(t){LA(e,t);function e(i,n){return TA(this,e),i+=(0,G3.mod10)(i),i+=(0,G3.mod10)(i),MA(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return e}(IA.default);vd.default=DA});var X3=mt(Ed=>{"use strict";Object.defineProperty(Ed,"__esModule",{value:!0});var OA=i0(),RA=PA(OA),Y3=G0();function PA(t){return t&&t.__esModule?t:{default:t}}function kA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BA(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function FA(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var UA=function(t){FA(e,t);function e(i,n){return kA(this,e),i+=(0,Y3.mod11)(i),i+=(0,Y3.mod10)(i),BA(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return e}(RA.default);Ed.default=UA});var Q3=mt(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});ya.MSI1110=ya.MSI1010=ya.MSI11=ya.MSI10=ya.MSI=void 0;var jA=i0(),VA=W0(jA),qA=z3(),zA=W0(qA),HA=H3(),GA=W0(HA),WA=W3(),YA=W0(WA),XA=X3(),QA=W0(XA);function W0(t){return t&&t.__esModule?t:{default:t}}ya.MSI=VA.default;ya.MSI10=zA.default;ya.MSI11=GA.default;ya.MSI1010=YA.default;ya.MSI1110=QA.default});var Z3=mt(tf=>{"use strict";Object.defineProperty(tf,"__esModule",{value:!0});tf.pharmacode=void 0;var ZA=function(){function t(e,i){for(var n=0;n<i.length;n++){var a=i[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),KA=ia(),JA=$A(KA);function $A(t){return t&&t.__esModule?t:{default:t}}function e6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t6(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function i6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var n6=function(t){i6(e,t);function e(i,n){e6(this,e);var a=t6(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n));return a.number=parseInt(i,10),a}return ZA(e,[{key:"encode",value:function(){for(var n=this.number,a="";!isNaN(n)&&n!=0;)n%2===0?(a="11100"+a,n=(n-2)/2):(a="100"+a,n=(n-1)/2);return a=a.slice(0,-2),{data:a,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),e}(JA.default);tf.pharmacode=n6});var K3=mt(nf=>{"use strict";Object.defineProperty(nf,"__esModule",{value:!0});nf.codabar=void 0;var r6=function(){function t(e,i){for(var n=0;n<i.length;n++){var a=i[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o6=ia(),a6=s6(o6);function s6(t){return t&&t.__esModule?t:{default:t}}function l6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c6(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function u6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f6=function(t){u6(e,t);function e(i,n){l6(this,e),i.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(i="A"+i+"A");var a=c6(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i.toUpperCase(),n));return a.text=a.options.text||a.text.replace(/[A-D]/g,""),a}return r6(e,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var n=[],a=this.getEncodings(),l=0;l<this.data.length;l++)n.push(a[this.data.charAt(l)]),l!==this.data.length-1&&n.push("0");return{text:this.text,data:n.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),e}(a6.default);nf.codabar=f6});var J3=mt(rf=>{"use strict";Object.defineProperty(rf,"__esModule",{value:!0});rf.GenericBarcode=void 0;var h6=function(){function t(e,i){for(var n=0;n<i.length;n++){var a=i[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),d6=ia(),m6=p6(d6);function p6(t){return t&&t.__esModule?t:{default:t}}function g6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v6(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function E6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var x6=function(t){E6(e,t);function e(i,n){return g6(this,e),v6(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return h6(e,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),e}(m6.default);rf.GenericBarcode=x6});var e5=mt(xd=>{"use strict";Object.defineProperty(xd,"__esModule",{value:!0});var y6=o3(),of=_3(),n0=B3(),$3=q3(),Y0=Q3(),w6=Z3(),_6=K3(),b6=J3();xd.default={CODE39:y6.CODE39,CODE128:of.CODE128,CODE128A:of.CODE128A,CODE128B:of.CODE128B,CODE128C:of.CODE128C,EAN13:n0.EAN13,EAN8:n0.EAN8,EAN5:n0.EAN5,EAN2:n0.EAN2,UPC:n0.UPC,UPCE:n0.UPCE,ITF14:$3.ITF14,ITF:$3.ITF,MSI:Y0.MSI,MSI10:Y0.MSI10,MSI11:Y0.MSI11,MSI1010:Y0.MSI1010,MSI1110:Y0.MSI1110,pharmacode:w6.pharmacode,codabar:_6.codabar,GenericBarcode:b6.GenericBarcode}});var X0=mt(yd=>{"use strict";Object.defineProperty(yd,"__esModule",{value:!0});var C6=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};yd.default=function(t,e){return C6({},t,e)}});var t5=mt(wd=>{"use strict";Object.defineProperty(wd,"__esModule",{value:!0});wd.default=S6;function S6(t){var e=[];function i(n){if(Array.isArray(n))for(var a=0;a<n.length;a++)i(n[a]);else n.text=n.text||"",n.data=n.data||"",e.push(n)}return i(t),e}});var i5=mt(_d=>{"use strict";Object.defineProperty(_d,"__esModule",{value:!0});_d.default=A6;function A6(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}});var Cd=mt(bd=>{"use strict";Object.defineProperty(bd,"__esModule",{value:!0});bd.default=I6;function I6(t){var e=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var i in e)e.hasOwnProperty(i)&&(i=e[i],typeof t[i]=="string"&&(t[i]=parseInt(t[i],10)));return typeof t.displayValue=="string"&&(t.displayValue=t.displayValue!="false"),t}});var Ad=mt(Sd=>{"use strict";Object.defineProperty(Sd,"__esModule",{value:!0});var N6={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};Sd.default=N6});var o5=mt(Id=>{"use strict";Object.defineProperty(Id,"__esModule",{value:!0});var T6=Cd(),M6=r5(T6),L6=Ad(),n5=r5(L6);function r5(t){return t&&t.__esModule?t:{default:t}}function D6(t){var e={};for(var i in n5.default)n5.default.hasOwnProperty(i)&&(t.hasAttribute("jsbarcode-"+i.toLowerCase())&&(e[i]=t.getAttribute("jsbarcode-"+i.toLowerCase())),t.hasAttribute("data-"+i.toLowerCase())&&(e[i]=t.getAttribute("data-"+i.toLowerCase())));return e.value=t.getAttribute("jsbarcode-value")||t.getAttribute("data-value"),e=(0,M6.default)(e),e}Id.default=D6});var Nd=mt(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});wa.getTotalWidthOfEncodings=wa.calculateEncodingAttributes=wa.getBarcodePadding=wa.getEncodingHeight=wa.getMaximumHeightOfEncodings=void 0;var O6=X0(),R6=P6(O6);function P6(t){return t&&t.__esModule?t:{default:t}}function a5(t,e){return e.height+(e.displayValue&&t.text.length>0?e.fontSize+e.textMargin:0)+e.marginTop+e.marginBottom}function s5(t,e,i){if(i.displayValue&&e<t){if(i.textAlign=="center")return Math.floor((t-e)/2);if(i.textAlign=="left")return 0;if(i.textAlign=="right")return Math.floor(t-e)}return 0}function k6(t,e,i){for(var n=0;n<t.length;n++){var a=t[n],l=(0,R6.default)(e,a.options),f;l.displayValue?f=U6(a.text,l,i):f=0;var p=a.data.length*l.width;a.width=Math.ceil(Math.max(f,p)),a.height=a5(a,l),a.barcodePadding=s5(f,p,l)}}function B6(t){for(var e=0,i=0;i<t.length;i++)e+=t[i].width;return e}function F6(t){for(var e=0,i=0;i<t.length;i++)t[i].height>e&&(e=t[i].height);return e}function U6(t,e,i){var n;if(i)n=i;else if(typeof document<"u")n=document.createElement("canvas").getContext("2d");else return 0;n.font=e.fontOptions+" "+e.fontSize+"px "+e.font;var a=n.measureText(t);if(!a)return 0;var l=a.width;return l}wa.getMaximumHeightOfEncodings=F6;wa.getEncodingHeight=a5;wa.getBarcodePadding=s5;wa.calculateEncodingAttributes=k6;wa.getTotalWidthOfEncodings=B6});var l5=mt(Md=>{"use strict";Object.defineProperty(Md,"__esModule",{value:!0});var j6=function(){function t(e,i){for(var n=0;n<i.length;n++){var a=i[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),V6=X0(),q6=z6(V6),Td=Nd();function z6(t){return t&&t.__esModule?t:{default:t}}function H6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var G6=function(){function t(e,i,n){H6(this,t),this.canvas=e,this.encodings=i,this.options=n}return j6(t,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var i=0;i<this.encodings.length;i++){var n=(0,q6.default)(this.options,this.encodings[i].options);this.drawCanvasBarcode(n,this.encodings[i]),this.drawCanvasText(n,this.encodings[i]),this.moveCanvasDrawing(this.encodings[i])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var i=this.canvas.getContext("2d");i.save(),(0,Td.calculateEncodingAttributes)(this.encodings,this.options,i);var n=(0,Td.getTotalWidthOfEncodings)(this.encodings),a=(0,Td.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=n+this.options.marginLeft+this.options.marginRight,this.canvas.height=a,i.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(i.fillStyle=this.options.background,i.fillRect(0,0,this.canvas.width,this.canvas.height)),i.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(i,n){var a=this.canvas.getContext("2d"),l=n.data,f;i.textPosition=="top"?f=i.marginTop+i.fontSize+i.textMargin:f=i.marginTop,a.fillStyle=i.lineColor;for(var p=0;p<l.length;p++){var v=p*i.width+n.barcodePadding;l[p]==="1"?a.fillRect(v,f,i.width,i.height):l[p]&&a.fillRect(v,f,i.width,i.height*l[p])}}},{key:"drawCanvasText",value:function(i,n){var a=this.canvas.getContext("2d"),l=i.fontOptions+" "+i.fontSize+"px "+i.font;if(i.displayValue){var f,p;i.textPosition=="top"?p=i.marginTop+i.fontSize-i.textMargin:p=i.height+i.textMargin+i.marginTop+i.fontSize,a.font=l,i.textAlign=="left"||n.barcodePadding>0?(f=0,a.textAlign="left"):i.textAlign=="right"?(f=n.width-1,a.textAlign="right"):(f=n.width/2,a.textAlign="center"),a.fillText(n.text,f,p)}}},{key:"moveCanvasDrawing",value:function(i){var n=this.canvas.getContext("2d");n.translate(i.width,0)}},{key:"restoreCanvas",value:function(){var i=this.canvas.getContext("2d");i.restore()}}]),t}();Md.default=G6});var c5=mt(Dd=>{"use strict";Object.defineProperty(Dd,"__esModule",{value:!0});var W6=function(){function t(e,i){for(var n=0;n<i.length;n++){var a=i[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Y6=X0(),X6=Q6(Y6),Ld=Nd();function Q6(t){return t&&t.__esModule?t:{default:t}}function Z6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var af="http://www.w3.org/2000/svg",K6=function(){function t(e,i,n){Z6(this,t),this.svg=e,this.encodings=i,this.options=n,this.document=n.xmlDocument||document}return W6(t,[{key:"render",value:function(){var i=this.options.marginLeft;this.prepareSVG();for(var n=0;n<this.encodings.length;n++){var a=this.encodings[n],l=(0,X6.default)(this.options,a.options),f=this.createGroup(i,l.marginTop,this.svg);this.setGroupOptions(f,l),this.drawSvgBarcode(f,l,a),this.drawSVGText(f,l,a),i+=a.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,Ld.calculateEncodingAttributes)(this.encodings,this.options);var i=(0,Ld.getTotalWidthOfEncodings)(this.encodings),n=(0,Ld.getMaximumHeightOfEncodings)(this.encodings),a=i+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(a,n),this.options.background&&this.drawRect(0,0,a,n,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(i,n,a){var l=a.data,f;n.textPosition=="top"?f=n.fontSize+n.textMargin:f=0;for(var p=0,v=0,x=0;x<l.length;x++)v=x*n.width+a.barcodePadding,l[x]==="1"?p++:p>0&&(this.drawRect(v-n.width*p,f,n.width*p,n.height,i),p=0);p>0&&this.drawRect(v-n.width*(p-1),f,n.width*p,n.height,i)}},{key:"drawSVGText",value:function(i,n,a){var l=this.document.createElementNS(af,"text");if(n.displayValue){var f,p;l.setAttribute("style","font:"+n.fontOptions+" "+n.fontSize+"px "+n.font),n.textPosition=="top"?p=n.fontSize-n.textMargin:p=n.height+n.textMargin+n.fontSize,n.textAlign=="left"||a.barcodePadding>0?(f=0,l.setAttribute("text-anchor","start")):n.textAlign=="right"?(f=a.width-1,l.setAttribute("text-anchor","end")):(f=a.width/2,l.setAttribute("text-anchor","middle")),l.setAttribute("x",f),l.setAttribute("y",p),l.appendChild(this.document.createTextNode(a.text)),i.appendChild(l)}}},{key:"setSvgAttributes",value:function(i,n){var a=this.svg;a.setAttribute("width",i+"px"),a.setAttribute("height",n+"px"),a.setAttribute("x","0px"),a.setAttribute("y","0px"),a.setAttribute("viewBox","0 0 "+i+" "+n),a.setAttribute("xmlns",af),a.setAttribute("version","1.1"),a.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(i,n,a){var l=this.document.createElementNS(af,"g");return l.setAttribute("transform","translate("+i+", "+n+")"),a.appendChild(l),l}},{key:"setGroupOptions",value:function(i,n){i.setAttribute("style","fill:"+n.lineColor+";")}},{key:"drawRect",value:function(i,n,a,l,f){var p=this.document.createElementNS(af,"rect");return p.setAttribute("x",i),p.setAttribute("y",n),p.setAttribute("width",a),p.setAttribute("height",l),f.appendChild(p),p}}]),t}();Dd.default=K6});var u5=mt(Od=>{"use strict";Object.defineProperty(Od,"__esModule",{value:!0});var J6=function(){function t(e,i){for(var n=0;n<i.length;n++){var a=i[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function $6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var eI=function(){function t(e,i,n){$6(this,t),this.object=e,this.encodings=i,this.options=n}return J6(t,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),t}();Od.default=eI});var f5=mt(Pd=>{"use strict";Object.defineProperty(Pd,"__esModule",{value:!0});var tI=l5(),iI=Rd(tI),nI=c5(),rI=Rd(nI),oI=u5(),aI=Rd(oI);function Rd(t){return t&&t.__esModule?t:{default:t}}Pd.default={CanvasRenderer:iI.default,SVGRenderer:rI.default,ObjectRenderer:aI.default}});var Ud=mt(Q0=>{"use strict";Object.defineProperty(Q0,"__esModule",{value:!0});function kd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bd(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Fd(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var sI=function(t){Fd(e,t);function e(i,n){kd(this,e);var a=Bd(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return a.name="InvalidInputException",a.symbology=i,a.input=n,a.message='"'+a.input+'" is not a valid input for '+a.symbology,a}return e}(Error),lI=function(t){Fd(e,t);function e(){kd(this,e);var i=Bd(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.name="InvalidElementException",i.message="Not supported type to render on",i}return e}(Error),cI=function(t){Fd(e,t);function e(){kd(this,e);var i=Bd(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.name="NoElementException",i.message="No element to render on.",i}return e}(Error);Q0.InvalidInputException=sI;Q0.InvalidElementException=lI;Q0.NoElementException=cI});var d5=mt(qd=>{"use strict";Object.defineProperty(qd,"__esModule",{value:!0});var uI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fI=o5(),jd=h5(fI),hI=f5(),Z0=h5(hI),dI=Ud();function h5(t){return t&&t.__esModule?t:{default:t}}function Vd(t){if(typeof t=="string")return mI(t);if(Array.isArray(t)){for(var e=[],i=0;i<t.length;i++)e.push(Vd(t[i]));return e}else{if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLImageElement)return pI(t);if(t&&t.nodeName&&t.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&t instanceof SVGElement)return{element:t,options:(0,jd.default)(t),renderer:Z0.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement)return{element:t,options:(0,jd.default)(t),renderer:Z0.default.CanvasRenderer};if(t&&t.getContext)return{element:t,renderer:Z0.default.CanvasRenderer};if(t&&(typeof t>"u"?"undefined":uI(t))==="object"&&!t.nodeName)return{element:t,renderer:Z0.default.ObjectRenderer};throw new dI.InvalidElementException}}function mI(t){var e=document.querySelectorAll(t);if(e.length!==0){for(var i=[],n=0;n<e.length;n++)i.push(Vd(e[n]));return i}}function pI(t){var e=document.createElement("canvas");return{element:e,options:(0,jd.default)(t),renderer:Z0.default.CanvasRenderer,afterRender:function(){t.setAttribute("src",e.toDataURL())}}}qd.default=Vd});var m5=mt(zd=>{"use strict";Object.defineProperty(zd,"__esModule",{value:!0});var gI=function(){function t(e,i){for(var n=0;n<i.length;n++){var a=i[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function vI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var EI=function(){function t(e){vI(this,t),this.api=e}return gI(t,[{key:"handleCatch",value:function(i){if(i.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw i.message;else throw i;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(i){try{var n=i.apply(void 0,arguments);return this.api._options.valid(!0),n}catch(a){return this.handleCatch(a),this.api}}}]),t}();zd.default=EI});var _5=mt((wF,w5)=>{"use strict";var xI=e5(),tc=Tl(xI),yI=X0(),K0=Tl(yI),wI=t5(),g5=Tl(wI),_I=i5(),p5=Tl(_I),bI=d5(),CI=Tl(bI),SI=Cd(),AI=Tl(SI),II=m5(),NI=Tl(II),v5=Ud(),TI=Ad(),E5=Tl(TI);function Tl(t){return t&&t.__esModule?t:{default:t}}var ws=function(){},sf=function(e,i,n){var a=new ws;if(typeof e>"u")throw Error("No element to render on was provided.");return a._renderProperties=(0,CI.default)(e),a._encodings=[],a._options=E5.default,a._errorHandler=new NI.default(a),typeof i<"u"&&(n=n||{},n.format||(n.format=y5()),a.options(n)[n.format](i,n).render()),a};sf.getModule=function(t){return tc.default[t]};for(Hd in tc.default)tc.default.hasOwnProperty(Hd)&&MI(tc.default,Hd);var Hd;function MI(t,e){ws.prototype[e]=ws.prototype[e.toUpperCase()]=ws.prototype[e.toLowerCase()]=function(i,n){var a=this;return a._errorHandler.wrapBarcodeCall(function(){n.text=typeof n.text>"u"?void 0:""+n.text;var l=(0,K0.default)(a._options,n);l=(0,AI.default)(l);var f=t[e],p=x5(i,f,l);return a._encodings.push(p),a})}}function x5(t,e,i){t=""+t;var n=new e(t,i);if(!n.valid())throw new v5.InvalidInputException(n.constructor.name,t);var a=n.encode();a=(0,g5.default)(a);for(var l=0;l<a.length;l++)a[l].options=(0,K0.default)(i,a[l].options);return a}function y5(){return tc.default.CODE128?"CODE128":Object.keys(tc.default)[0]}ws.prototype.options=function(t){return this._options=(0,K0.default)(this._options,t),this};ws.prototype.blank=function(t){var e=new Array(t+1).join("0");return this._encodings.push({data:e}),this};ws.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var t;for(var e in this._renderProperties){t=this._renderProperties[e];var i=(0,K0.default)(this._options,t.options);i.format=="auto"&&(i.format=y5()),this._errorHandler.wrapBarcodeCall(function(){var n=i.value,a=tc.default[i.format.toUpperCase()],l=x5(n,a,i);Gd(t,l,i)})}}};ws.prototype.render=function(){if(!this._renderProperties)throw new v5.NoElementException;if(Array.isArray(this._renderProperties))for(var t=0;t<this._renderProperties.length;t++)Gd(this._renderProperties[t],this._encodings,this._options);else Gd(this._renderProperties,this._encodings,this._options);return this};ws.prototype._defaults=E5.default;function Gd(t,e,i){e=(0,g5.default)(e);for(var n=0;n<e.length;n++)e[n].options=(0,K0.default)(i,e[n].options),(0,p5.default)(e[n].options);(0,p5.default)(i);var a=t.renderer,l=new a(t.element,e,i);l.render(),t.afterRender&&t.afterRender()}typeof window<"u"&&(window.JsBarcode=sf);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(t,e){var i=[];return jQuery(this).each(function(){i.push(this)}),sf(i,t,e)});w5.exports=sf});var I5=mt((_F,A5)=>{A5.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var Ml=mt(ic=>{var Wd,OI=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ic.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};ic.getSymbolTotalCodewords=function(e){return OI[e]};ic.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};ic.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Wd=e};ic.isKanjiModeEnabled=function(){return typeof Wd<"u"};ic.toSJIS=function(e){return Wd(e)}});var lf=mt(_a=>{_a.L={bit:1};_a.M={bit:0};_a.Q={bit:3};_a.H={bit:2};function RI(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return _a.L;case"m":case"medium":return _a.M;case"q":case"quartile":return _a.Q;case"h":case"high":return _a.H;default:throw new Error("Unknown EC Level: "+t)}}_a.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};_a.from=function(e,i){if(_a.isValid(e))return e;try{return RI(e)}catch{return i}}});var M5=mt((SF,T5)=>{function N5(){this.buffer=[],this.length=0}N5.prototype={get:function(t){let e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let i=0;i<e;i++)this.putBit((t>>>e-i-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};T5.exports=N5});var D5=mt((AF,L5)=>{function J0(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}J0.prototype.set=function(t,e,i,n){let a=t*this.size+e;this.data[a]=i,n&&(this.reservedBit[a]=!0)};J0.prototype.get=function(t,e){return this.data[t*this.size+e]};J0.prototype.xor=function(t,e,i){this.data[t*this.size+e]^=i};J0.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};L5.exports=J0});var O5=mt(cf=>{var PI=Ml().getSymbolSize;cf.getRowColCoords=function(e){if(e===1)return[];let i=Math.floor(e/7)+2,n=PI(e),a=n===145?26:Math.ceil((n-13)/(2*i-2))*2,l=[n-7];for(let f=1;f<i-1;f++)l[f]=l[f-1]-a;return l.push(6),l.reverse()};cf.getPositions=function(e){let i=[],n=cf.getRowColCoords(e),a=n.length;for(let l=0;l<a;l++)for(let f=0;f<a;f++)l===0&&f===0||l===0&&f===a-1||l===a-1&&f===0||i.push([n[l],n[f]]);return i}});var k5=mt(P5=>{var kI=Ml().getSymbolSize,R5=7;P5.getPositions=function(e){let i=kI(e);return[[0,0],[i-R5,0],[0,i-R5]]}});var B5=mt(Ln=>{Ln.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var nc={N1:3,N2:3,N3:40,N4:10};Ln.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};Ln.from=function(e){return Ln.isValid(e)?parseInt(e,10):void 0};Ln.getPenaltyN1=function(e){let i=e.size,n=0,a=0,l=0,f=null,p=null;for(let v=0;v<i;v++){a=l=0,f=p=null;for(let x=0;x<i;x++){let S=e.get(v,x);S===f?a++:(a>=5&&(n+=nc.N1+(a-5)),f=S,a=1),S=e.get(x,v),S===p?l++:(l>=5&&(n+=nc.N1+(l-5)),p=S,l=1)}a>=5&&(n+=nc.N1+(a-5)),l>=5&&(n+=nc.N1+(l-5))}return n};Ln.getPenaltyN2=function(e){let i=e.size,n=0;for(let a=0;a<i-1;a++)for(let l=0;l<i-1;l++){let f=e.get(a,l)+e.get(a,l+1)+e.get(a+1,l)+e.get(a+1,l+1);(f===4||f===0)&&n++}return n*nc.N2};Ln.getPenaltyN3=function(e){let i=e.size,n=0,a=0,l=0;for(let f=0;f<i;f++){a=l=0;for(let p=0;p<i;p++)a=a<<1&2047|e.get(f,p),p>=10&&(a===1488||a===93)&&n++,l=l<<1&2047|e.get(p,f),p>=10&&(l===1488||l===93)&&n++}return n*nc.N3};Ln.getPenaltyN4=function(e){let i=0,n=e.data.length;for(let l=0;l<n;l++)i+=e.data[l];return Math.abs(Math.ceil(i*100/n/5)-10)*nc.N4};function BI(t,e,i){switch(t){case Ln.Patterns.PATTERN000:return(e+i)%2===0;case Ln.Patterns.PATTERN001:return e%2===0;case Ln.Patterns.PATTERN010:return i%3===0;case Ln.Patterns.PATTERN011:return(e+i)%3===0;case Ln.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(i/3))%2===0;case Ln.Patterns.PATTERN101:return e*i%2+e*i%3===0;case Ln.Patterns.PATTERN110:return(e*i%2+e*i%3)%2===0;case Ln.Patterns.PATTERN111:return(e*i%3+(e+i)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}Ln.applyMask=function(e,i){let n=i.size;for(let a=0;a<n;a++)for(let l=0;l<n;l++)i.isReserved(l,a)||i.xor(l,a,BI(e,l,a))};Ln.getBestMask=function(e,i){let n=Object.keys(Ln.Patterns).length,a=0,l=1/0;for(let f=0;f<n;f++){i(f),Ln.applyMask(f,e);let p=Ln.getPenaltyN1(e)+Ln.getPenaltyN2(e)+Ln.getPenaltyN3(e)+Ln.getPenaltyN4(e);Ln.applyMask(f,e),p<l&&(l=p,a=f)}return a}});var Xd=mt(Yd=>{var Ll=lf(),uf=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],ff=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Yd.getBlocksCount=function(e,i){switch(i){case Ll.L:return uf[(e-1)*4+0];case Ll.M:return uf[(e-1)*4+1];case Ll.Q:return uf[(e-1)*4+2];case Ll.H:return uf[(e-1)*4+3];default:return}};Yd.getTotalCodewordsCount=function(e,i){switch(i){case Ll.L:return ff[(e-1)*4+0];case Ll.M:return ff[(e-1)*4+1];case Ll.Q:return ff[(e-1)*4+2];case Ll.H:return ff[(e-1)*4+3];default:return}}});var F5=mt(df=>{var $0=new Uint8Array(512),hf=new Uint8Array(256);(function(){let e=1;for(let i=0;i<255;i++)$0[i]=e,hf[e]=i,e<<=1,e&256&&(e^=285);for(let i=255;i<512;i++)$0[i]=$0[i-255]})();df.log=function(e){if(e<1)throw new Error("log("+e+")");return hf[e]};df.exp=function(e){return $0[e]};df.mul=function(e,i){return e===0||i===0?0:$0[hf[e]+hf[i]]}});var U5=mt(eu=>{var Qd=F5();eu.mul=function(e,i){let n=new Uint8Array(e.length+i.length-1);for(let a=0;a<e.length;a++)for(let l=0;l<i.length;l++)n[a+l]^=Qd.mul(e[a],i[l]);return n};eu.mod=function(e,i){let n=new Uint8Array(e);for(;n.length-i.length>=0;){let a=n[0];for(let f=0;f<i.length;f++)n[f]^=Qd.mul(i[f],a);let l=0;for(;l<n.length&&n[l]===0;)l++;n=n.slice(l)}return n};eu.generateECPolynomial=function(e){let i=new Uint8Array([1]);for(let n=0;n<e;n++)i=eu.mul(i,new Uint8Array([1,Qd.exp(n)]));return i}});var q5=mt((OF,V5)=>{var j5=U5();function Zd(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}Zd.prototype.initialize=function(e){this.degree=e,this.genPoly=j5.generateECPolynomial(this.degree)};Zd.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let i=new Uint8Array(e.length+this.degree);i.set(e);let n=j5.mod(i,this.genPoly),a=this.degree-n.length;if(a>0){let l=new Uint8Array(this.degree);return l.set(n,a),l}return n};V5.exports=Zd});var Kd=mt(z5=>{z5.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var Jd=mt(_s=>{var H5="[0-9]+",FI="[A-Z $%*+\\-./:]+",tu="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";tu=tu.replace(/u/g,"\\u");var UI="(?:(?![A-Z0-9 $%*+\\-./:]|"+tu+`)(?:.|[\r
]))+`;_s.KANJI=new RegExp(tu,"g");_s.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");_s.BYTE=new RegExp(UI,"g");_s.NUMERIC=new RegExp(H5,"g");_s.ALPHANUMERIC=new RegExp(FI,"g");var jI=new RegExp("^"+tu+"$"),VI=new RegExp("^"+H5+"$"),qI=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");_s.testKanji=function(e){return jI.test(e)};_s.testNumeric=function(e){return VI.test(e)};_s.testAlphanumeric=function(e){return qI.test(e)}});var Dl=mt(Ar=>{var zI=Kd(),$d=Jd();Ar.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};Ar.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};Ar.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};Ar.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};Ar.MIXED={bit:-1};Ar.getCharCountIndicator=function(e,i){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!zI.isValid(i))throw new Error("Invalid version: "+i);return i>=1&&i<10?e.ccBits[0]:i<27?e.ccBits[1]:e.ccBits[2]};Ar.getBestModeForData=function(e){return $d.testNumeric(e)?Ar.NUMERIC:$d.testAlphanumeric(e)?Ar.ALPHANUMERIC:$d.testKanji(e)?Ar.KANJI:Ar.BYTE};Ar.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};Ar.isValid=function(e){return e&&e.bit&&e.ccBits};function HI(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return Ar.NUMERIC;case"alphanumeric":return Ar.ALPHANUMERIC;case"kanji":return Ar.KANJI;case"byte":return Ar.BYTE;default:throw new Error("Unknown mode: "+t)}}Ar.from=function(e,i){if(Ar.isValid(e))return e;try{return HI(e)}catch{return i}}});var Q5=mt(rc=>{var mf=Ml(),GI=Xd(),G5=lf(),Ol=Dl(),em=Kd(),Y5=7973,W5=mf.getBCHDigit(Y5);function WI(t,e,i){for(let n=1;n<=40;n++)if(e<=rc.getCapacity(n,i,t))return n}function X5(t,e){return Ol.getCharCountIndicator(t,e)+4}function YI(t,e){let i=0;return t.forEach(function(n){let a=X5(n.mode,e);i+=a+n.getBitsLength()}),i}function XI(t,e){for(let i=1;i<=40;i++)if(YI(t,i)<=rc.getCapacity(i,e,Ol.MIXED))return i}rc.from=function(e,i){return em.isValid(e)?parseInt(e,10):i};rc.getCapacity=function(e,i,n){if(!em.isValid(e))throw new Error("Invalid QR Code version");typeof n>"u"&&(n=Ol.BYTE);let a=mf.getSymbolTotalCodewords(e),l=GI.getTotalCodewordsCount(e,i),f=(a-l)*8;if(n===Ol.MIXED)return f;let p=f-X5(n,e);switch(n){case Ol.NUMERIC:return Math.floor(p/10*3);case Ol.ALPHANUMERIC:return Math.floor(p/11*2);case Ol.KANJI:return Math.floor(p/13);case Ol.BYTE:default:return Math.floor(p/8)}};rc.getBestVersionForData=function(e,i){let n,a=G5.from(i,G5.M);if(Array.isArray(e)){if(e.length>1)return XI(e,a);if(e.length===0)return 1;n=e[0]}else n=e;return WI(n.mode,n.getLength(),a)};rc.getEncodedBits=function(e){if(!em.isValid(e)||e<7)throw new Error("Invalid QR Code version");let i=e<<12;for(;mf.getBCHDigit(i)-W5>=0;)i^=Y5<<mf.getBCHDigit(i)-W5;return e<<12|i}});var $5=mt(J5=>{var tm=Ml(),K5=1335,QI=21522,Z5=tm.getBCHDigit(K5);J5.getEncodedBits=function(e,i){let n=e.bit<<3|i,a=n<<10;for(;tm.getBCHDigit(a)-Z5>=0;)a^=K5<<tm.getBCHDigit(a)-Z5;return(n<<10|a)^QI}});var tv=mt((UF,ev)=>{var ZI=Dl();function r0(t){this.mode=ZI.NUMERIC,this.data=t.toString()}r0.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};r0.prototype.getLength=function(){return this.data.length};r0.prototype.getBitsLength=function(){return r0.getBitsLength(this.data.length)};r0.prototype.write=function(e){let i,n,a;for(i=0;i+3<=this.data.length;i+=3)n=this.data.substr(i,3),a=parseInt(n,10),e.put(a,10);let l=this.data.length-i;l>0&&(n=this.data.substr(i),a=parseInt(n,10),e.put(a,l*3+1))};ev.exports=r0});var nv=mt((jF,iv)=>{var KI=Dl(),im=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o0(t){this.mode=KI.ALPHANUMERIC,this.data=t}o0.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};o0.prototype.getLength=function(){return this.data.length};o0.prototype.getBitsLength=function(){return o0.getBitsLength(this.data.length)};o0.prototype.write=function(e){let i;for(i=0;i+2<=this.data.length;i+=2){let n=im.indexOf(this.data[i])*45;n+=im.indexOf(this.data[i+1]),e.put(n,11)}this.data.length%2&&e.put(im.indexOf(this.data[i]),6)};iv.exports=o0});var ov=mt((VF,rv)=>{"use strict";rv.exports=function(e){for(var i=[],n=e.length,a=0;a<n;a++){var l=e.charCodeAt(a);if(l>=55296&&l<=56319&&n>a+1){var f=e.charCodeAt(a+1);f>=56320&&f<=57343&&(l=(l-55296)*1024+f-56320+65536,a+=1)}if(l<128){i.push(l);continue}if(l<2048){i.push(l>>6|192),i.push(l&63|128);continue}if(l<55296||l>=57344&&l<65536){i.push(l>>12|224),i.push(l>>6&63|128),i.push(l&63|128);continue}if(l>=65536&&l<=1114111){i.push(l>>18|240),i.push(l>>12&63|128),i.push(l>>6&63|128),i.push(l&63|128);continue}i.push(239,191,189)}return new Uint8Array(i).buffer}});var sv=mt((qF,av)=>{var JI=ov(),$I=Dl();function a0(t){this.mode=$I.BYTE,typeof t=="string"&&(t=JI(t)),this.data=new Uint8Array(t)}a0.getBitsLength=function(e){return e*8};a0.prototype.getLength=function(){return this.data.length};a0.prototype.getBitsLength=function(){return a0.getBitsLength(this.data.length)};a0.prototype.write=function(t){for(let e=0,i=this.data.length;e<i;e++)t.put(this.data[e],8)};av.exports=a0});var cv=mt((zF,lv)=>{var e7=Dl(),t7=Ml();function s0(t){this.mode=e7.KANJI,this.data=t}s0.getBitsLength=function(e){return e*13};s0.prototype.getLength=function(){return this.data.length};s0.prototype.getBitsLength=function(){return s0.getBitsLength(this.data.length)};s0.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let i=t7.toSJIS(this.data[e]);if(i>=33088&&i<=40956)i-=33088;else if(i>=57408&&i<=60351)i-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);i=(i>>>8&255)*192+(i&255),t.put(i,13)}};lv.exports=s0});var uv=mt((HF,nm)=>{"use strict";var iu={single_source_shortest_paths:function(t,e,i){var n={},a={};a[e]=0;var l=iu.PriorityQueue.make();l.push(e,0);for(var f,p,v,x,S,M,k,A,$;!l.empty();){f=l.pop(),p=f.value,x=f.cost,S=t[p]||{};for(v in S)S.hasOwnProperty(v)&&(M=S[v],k=x+M,A=a[v],$=typeof a[v]>"u",($||A>k)&&(a[v]=k,l.push(v,k),n[v]=p))}if(typeof i<"u"&&typeof a[i]>"u"){var z=["Could not find a path from ",e," to ",i,"."].join("");throw new Error(z)}return n},extract_shortest_path_from_predecessor_list:function(t,e){for(var i=[],n=e,a;n;)i.push(n),a=t[n],n=t[n];return i.reverse(),i},find_path:function(t,e,i){var n=iu.single_source_shortest_paths(t,e,i);return iu.extract_shortest_path_from_predecessor_list(n,i)},PriorityQueue:{make:function(t){var e=iu.PriorityQueue,i={},n;t=t||{};for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i.queue=[],i.sorter=t.sorter||e.default_sorter,i},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var i={value:t,cost:e};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof nm<"u"&&(nm.exports=iu)});var Ev=mt(l0=>{var ln=Dl(),dv=tv(),mv=nv(),pv=sv(),gv=cv(),nu=Jd(),pf=Ml(),i7=uv();function fv(t){return unescape(encodeURIComponent(t)).length}function ru(t,e,i){let n=[],a;for(;(a=t.exec(i))!==null;)n.push({data:a[0],index:a.index,mode:e,length:a[0].length});return n}function vv(t){let e=ru(nu.NUMERIC,ln.NUMERIC,t),i=ru(nu.ALPHANUMERIC,ln.ALPHANUMERIC,t),n,a;return pf.isKanjiModeEnabled()?(n=ru(nu.BYTE,ln.BYTE,t),a=ru(nu.KANJI,ln.KANJI,t)):(n=ru(nu.BYTE_KANJI,ln.BYTE,t),a=[]),e.concat(i,n,a).sort(function(f,p){return f.index-p.index}).map(function(f){return{data:f.data,mode:f.mode,length:f.length}})}function rm(t,e){switch(e){case ln.NUMERIC:return dv.getBitsLength(t);case ln.ALPHANUMERIC:return mv.getBitsLength(t);case ln.KANJI:return gv.getBitsLength(t);case ln.BYTE:return pv.getBitsLength(t)}}function n7(t){return t.reduce(function(e,i){let n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===i.mode?(e[e.length-1].data+=i.data,e):(e.push(i),e)},[])}function r7(t){let e=[];for(let i=0;i<t.length;i++){let n=t[i];switch(n.mode){case ln.NUMERIC:e.push([n,{data:n.data,mode:ln.ALPHANUMERIC,length:n.length},{data:n.data,mode:ln.BYTE,length:n.length}]);break;case ln.ALPHANUMERIC:e.push([n,{data:n.data,mode:ln.BYTE,length:n.length}]);break;case ln.KANJI:e.push([n,{data:n.data,mode:ln.BYTE,length:fv(n.data)}]);break;case ln.BYTE:e.push([{data:n.data,mode:ln.BYTE,length:fv(n.data)}])}}return e}function o7(t,e){let i={},n={start:{}},a=["start"];for(let l=0;l<t.length;l++){let f=t[l],p=[];for(let v=0;v<f.length;v++){let x=f[v],S=""+l+v;p.push(S),i[S]={node:x,lastCount:0},n[S]={};for(let M=0;M<a.length;M++){let k=a[M];i[k]&&i[k].node.mode===x.mode?(n[k][S]=rm(i[k].lastCount+x.length,x.mode)-rm(i[k].lastCount,x.mode),i[k].lastCount+=x.length):(i[k]&&(i[k].lastCount=x.length),n[k][S]=rm(x.length,x.mode)+4+ln.getCharCountIndicator(x.mode,e))}}a=p}for(let l=0;l<a.length;l++)n[a[l]].end=0;return{map:n,table:i}}function hv(t,e){let i,n=ln.getBestModeForData(t);if(i=ln.from(e,n),i!==ln.BYTE&&i.bit<n.bit)throw new Error('"'+t+'" cannot be encoded with mode '+ln.toString(i)+`.
 Suggested mode is: `+ln.toString(n));switch(i===ln.KANJI&&!pf.isKanjiModeEnabled()&&(i=ln.BYTE),i){case ln.NUMERIC:return new dv(t);case ln.ALPHANUMERIC:return new mv(t);case ln.KANJI:return new gv(t);case ln.BYTE:return new pv(t)}}l0.fromArray=function(e){return e.reduce(function(i,n){return typeof n=="string"?i.push(hv(n,null)):n.data&&i.push(hv(n.data,n.mode)),i},[])};l0.fromString=function(e,i){let n=vv(e,pf.isKanjiModeEnabled()),a=r7(n),l=o7(a,i),f=i7.find_path(l.map,"start","end"),p=[];for(let v=1;v<f.length-1;v++)p.push(l.table[f[v]].node);return l0.fromArray(n7(p))};l0.rawSplit=function(e){return l0.fromArray(vv(e,pf.isKanjiModeEnabled()))}});var yv=mt(xv=>{var vf=Ml(),om=lf(),a7=M5(),s7=D5(),l7=O5(),c7=k5(),lm=B5(),cm=Xd(),u7=q5(),gf=Q5(),f7=$5(),h7=Dl(),am=Ev();function d7(t,e){let i=t.size,n=c7.getPositions(e);for(let a=0;a<n.length;a++){let l=n[a][0],f=n[a][1];for(let p=-1;p<=7;p++)if(!(l+p<=-1||i<=l+p))for(let v=-1;v<=7;v++)f+v<=-1||i<=f+v||(p>=0&&p<=6&&(v===0||v===6)||v>=0&&v<=6&&(p===0||p===6)||p>=2&&p<=4&&v>=2&&v<=4?t.set(l+p,f+v,!0,!0):t.set(l+p,f+v,!1,!0))}}function m7(t){let e=t.size;for(let i=8;i<e-8;i++){let n=i%2===0;t.set(i,6,n,!0),t.set(6,i,n,!0)}}function p7(t,e){let i=l7.getPositions(e);for(let n=0;n<i.length;n++){let a=i[n][0],l=i[n][1];for(let f=-2;f<=2;f++)for(let p=-2;p<=2;p++)f===-2||f===2||p===-2||p===2||f===0&&p===0?t.set(a+f,l+p,!0,!0):t.set(a+f,l+p,!1,!0)}}function g7(t,e){let i=t.size,n=gf.getEncodedBits(e),a,l,f;for(let p=0;p<18;p++)a=Math.floor(p/3),l=p%3+i-8-3,f=(n>>p&1)===1,t.set(a,l,f,!0),t.set(l,a,f,!0)}function sm(t,e,i){let n=t.size,a=f7.getEncodedBits(e,i),l,f;for(l=0;l<15;l++)f=(a>>l&1)===1,l<6?t.set(l,8,f,!0):l<8?t.set(l+1,8,f,!0):t.set(n-15+l,8,f,!0),l<8?t.set(8,n-l-1,f,!0):l<9?t.set(8,15-l-1+1,f,!0):t.set(8,15-l-1,f,!0);t.set(n-8,8,1,!0)}function v7(t,e){let i=t.size,n=-1,a=i-1,l=7,f=0;for(let p=i-1;p>0;p-=2)for(p===6&&p--;;){for(let v=0;v<2;v++)if(!t.isReserved(a,p-v)){let x=!1;f<e.length&&(x=(e[f]>>>l&1)===1),t.set(a,p-v,x),l--,l===-1&&(f++,l=7)}if(a+=n,a<0||i<=a){a-=n,n=-n;break}}}function E7(t,e,i){let n=new a7;i.forEach(function(v){n.put(v.mode.bit,4),n.put(v.getLength(),h7.getCharCountIndicator(v.mode,t)),v.write(n)});let a=vf.getSymbolTotalCodewords(t),l=cm.getTotalCodewordsCount(t,e),f=(a-l)*8;for(n.getLengthInBits()+4<=f&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);let p=(f-n.getLengthInBits())/8;for(let v=0;v<p;v++)n.put(v%2?17:236,8);return x7(n,t,e)}function x7(t,e,i){let n=vf.getSymbolTotalCodewords(e),a=cm.getTotalCodewordsCount(e,i),l=n-a,f=cm.getBlocksCount(e,i),p=n%f,v=f-p,x=Math.floor(n/f),S=Math.floor(l/f),M=S+1,k=x-S,A=new u7(k),$=0,z=new Array(f),K=new Array(f),U=0,Y=new Uint8Array(t.buffer);for(let ne=0;ne<f;ne++){let le=ne<v?S:M;z[ne]=Y.slice($,$+le),K[ne]=A.encode(z[ne]),$+=le,U=Math.max(U,le)}let ge=new Uint8Array(n),xe=0,ce,Re;for(ce=0;ce<U;ce++)for(Re=0;Re<f;Re++)ce<z[Re].length&&(ge[xe++]=z[Re][ce]);for(ce=0;ce<k;ce++)for(Re=0;Re<f;Re++)ge[xe++]=K[Re][ce];return ge}function y7(t,e,i,n){let a;if(Array.isArray(t))a=am.fromArray(t);else if(typeof t=="string"){let x=e;if(!x){let S=am.rawSplit(t);x=gf.getBestVersionForData(S,i)}a=am.fromString(t,x||40)}else throw new Error("Invalid data");let l=gf.getBestVersionForData(a,i);if(!l)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=l;else if(e<l)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+l+`.
`);let f=E7(e,i,a),p=vf.getSymbolSize(e),v=new s7(p);return d7(v,e),m7(v),p7(v,e),sm(v,i,0),e>=7&&g7(v,e),v7(v,f),isNaN(n)&&(n=lm.getBestMask(v,sm.bind(null,v,i))),lm.applyMask(n,v),sm(v,i,n),{modules:v,version:e,errorCorrectionLevel:i,maskPattern:n,segments:a}}xv.create=function(e,i){if(typeof e>"u"||e==="")throw new Error("No input text");let n=om.M,a,l;return typeof i<"u"&&(n=om.from(i.errorCorrectionLevel,om.M),a=gf.from(i.version),l=lm.from(i.maskPattern),i.toSJISFunc&&vf.setToSJISFunction(i.toSJISFunc)),y7(e,a,n,l)}});var um=mt(oc=>{function wv(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+t);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(n){return[n,n]}))),e.length===6&&e.push("F","F");let i=parseInt(e.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+e.slice(0,6).join("")}}oc.getOptions=function(e){e||(e={}),e.color||(e.color={});let i=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,a=e.scale||4;return{width:n,scale:n?4:a,margin:i,color:{dark:wv(e.color.dark||"#000000ff"),light:wv(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};oc.getScale=function(e,i){return i.width&&i.width>=e+i.margin*2?i.width/(e+i.margin*2):i.scale};oc.getImageWidth=function(e,i){let n=oc.getScale(e,i);return Math.floor((e+i.margin*2)*n)};oc.qrToImageData=function(e,i,n){let a=i.modules.size,l=i.modules.data,f=oc.getScale(a,n),p=Math.floor((a+n.margin*2)*f),v=n.margin*f,x=[n.color.light,n.color.dark];for(let S=0;S<p;S++)for(let M=0;M<p;M++){let k=(S*p+M)*4,A=n.color.light;if(S>=v&&M>=v&&S<p-v&&M<p-v){let $=Math.floor((S-v)/f),z=Math.floor((M-v)/f);A=x[l[$*a+z]?1:0]}e[k++]=A.r,e[k++]=A.g,e[k++]=A.b,e[k]=A.a}}});var _v=mt(Ef=>{var fm=um();function w7(t,e,i){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=i,e.width=i,e.style.height=i+"px",e.style.width=i+"px"}function _7(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}Ef.render=function(e,i,n){let a=n,l=i;typeof a>"u"&&(!i||!i.getContext)&&(a=i,i=void 0),i||(l=_7()),a=fm.getOptions(a);let f=fm.getImageWidth(e.modules.size,a),p=l.getContext("2d"),v=p.createImageData(f,f);return fm.qrToImageData(v.data,e,a),w7(p,l,f),p.putImageData(v,0,0),l};Ef.renderToDataURL=function(e,i,n){let a=n;typeof a>"u"&&(!i||!i.getContext)&&(a=i,i=void 0),a||(a={});let l=Ef.render(e,i,a),f=a.type||"image/png",p=a.rendererOpts||{};return l.toDataURL(f,p.quality)}});var Sv=mt(Cv=>{var b7=um();function bv(t,e){let i=t.a/255,n=e+'="'+t.hex+'"';return i<1?n+" "+e+'-opacity="'+i.toFixed(2).slice(1)+'"':n}function hm(t,e,i){let n=t+e;return typeof i<"u"&&(n+=" "+i),n}function C7(t,e,i){let n="",a=0,l=!1,f=0;for(let p=0;p<t.length;p++){let v=Math.floor(p%e),x=Math.floor(p/e);!v&&!l&&(l=!0),t[p]?(f++,p>0&&v>0&&t[p-1]||(n+=l?hm("M",v+i,.5+x+i):hm("m",a,0),a=0,l=!1),v+1<e&&t[p+1]||(n+=hm("h",f),f=0)):a++}return n}Cv.render=function(e,i,n){let a=b7.getOptions(i),l=e.modules.size,f=e.modules.data,p=l+a.margin*2,v=a.color.light.a?"<path "+bv(a.color.light,"fill")+' d="M0 0h'+p+"v"+p+'H0z"/>':"",x="<path "+bv(a.color.dark,"stroke")+' d="'+C7(f,l,a.margin)+'"/>',S='viewBox="0 0 '+p+" "+p+'"',k='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+S+' shape-rendering="crispEdges">'+v+x+`</svg>
`;return typeof n=="function"&&n(null,k),k}});var Iv=mt(ou=>{var S7=I5(),dm=yv(),Av=_v(),A7=Sv();function mm(t,e,i,n,a){let l=[].slice.call(arguments,1),f=l.length,p=typeof l[f-1]=="function";if(!p&&!S7())throw new Error("Callback required as last argument");if(p){if(f<2)throw new Error("Too few arguments provided");f===2?(a=i,i=e,e=n=void 0):f===3&&(e.getContext&&typeof a>"u"?(a=n,n=void 0):(a=n,n=i,i=e,e=void 0))}else{if(f<1)throw new Error("Too few arguments provided");return f===1?(i=e,e=n=void 0):f===2&&!e.getContext&&(n=i,i=e,e=void 0),new Promise(function(v,x){try{let S=dm.create(i,n);v(t(S,e,n))}catch(S){x(S)}})}try{let v=dm.create(i,n);a(null,t(v,e,n))}catch(v){a(v)}}ou.create=dm.create;ou.toCanvas=mm.bind(null,Av.render);ou.toDataURL=mm.bind(null,Av.renderToDataURL);ou.toString=mm.bind(null,function(t,e,i){return A7.render(t,i)})});var Oa=Object.create(null);Oa.open="0";Oa.close="1";Oa.ping="2";Oa.pong="3";Oa.message="4";Oa.upgrade="5";Oa.noop="6";var b0=Object.create(null);Object.keys(Oa).forEach(t=>{b0[Oa[t]]=t});var C0={type:"error",data:"parser error"};var Lp=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Dp=typeof ArrayBuffer=="function",Op=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,S0=({type:t,data:e},i,n)=>Lp&&e instanceof Blob?i?n(e):Tp(e,n):Dp&&(e instanceof ArrayBuffer||Op(e))?i?n(e):Tp(new Blob([e]),n):n(Oa[t]+(e||"")),Tp=(t,e)=>{let i=new FileReader;return i.onload=function(){let n=i.result.split(",")[1];e("b"+(n||""))},i.readAsDataURL(t)};function Mp(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}var Vf;function Rp(t,e){if(Lp&&t.data instanceof Blob)return t.data.arrayBuffer().then(Mp).then(e);if(Dp&&(t.data instanceof ArrayBuffer||Op(t.data)))return e(Mp(t.data));S0(t,!1,i=>{Vf||(Vf=new TextEncoder),e(Vf.encode(i))})}var Pp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Pp.length;t++)A0[Pp.charCodeAt(t)]=t;var kp=t=>{let e=t.length*.75,i=t.length,n,a=0,l,f,p,v;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);let x=new ArrayBuffer(e),S=new Uint8Array(x);for(n=0;n<i;n+=4)l=A0[t.charCodeAt(n)],f=A0[t.charCodeAt(n+1)],p=A0[t.charCodeAt(n+2)],v=A0[t.charCodeAt(n+3)],S[a++]=l<<2|f>>4,S[a++]=(f&15)<<4|p>>2,S[a++]=(p&3)<<6|v&63;return x};var vE=typeof ArrayBuffer=="function",I0=(t,e)=>{if(typeof t!="string")return{type:"message",data:Bp(t,e)};let i=t.charAt(0);return i==="b"?{type:"message",data:EE(t.substring(1),e)}:b0[i]?t.length>1?{type:b0[i],data:t.substring(1)}:{type:b0[i]}:C0},EE=(t,e)=>{if(vE){let i=kp(t);return Bp(i,e)}else return{base64:!0,data:t}},Bp=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}};var Fp="",Up=(t,e)=>{let i=t.length,n=new Array(i),a=0;t.forEach((l,f)=>{S0(l,!1,p=>{n[f]=p,++a===i&&e(n.join(Fp))})})},jp=(t,e)=>{let i=t.split(Fp),n=[];for(let a=0;a<i.length;a++){let l=I0(i[a],e);if(n.push(l),l.type==="error")break}return n};function Vp(){return new TransformStream({transform(t,e){Rp(t,i=>{let n=i.length,a;if(n<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,n);else if(n<65536){a=new Uint8Array(3);let l=new DataView(a.buffer);l.setUint8(0,126),l.setUint16(1,n)}else{a=new Uint8Array(9);let l=new DataView(a.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(a[0]|=128),e.enqueue(a),e.enqueue(i)})}})}var qf;function o1(t){return t.reduce((e,i)=>e+i.length,0)}function a1(t,e){if(t[0].length===e)return t.shift();let i=new Uint8Array(e),n=0;for(let a=0;a<e;a++)i[a]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),i}function qp(t,e){qf||(qf=new TextDecoder);let i=[],n=0,a=-1,l=!1;return new TransformStream({transform(f,p){for(i.push(f);;){if(n===0){if(o1(i)<1)break;let v=a1(i,1);l=(v[0]&128)===128,a=v[0]&127,a<126?n=3:a===126?n=1:n=2}else if(n===1){if(o1(i)<2)break;let v=a1(i,2);a=new DataView(v.buffer,v.byteOffset,v.length).getUint16(0),n=3}else if(n===2){if(o1(i)<8)break;let v=a1(i,8),x=new DataView(v.buffer,v.byteOffset,v.length),S=x.getUint32(0);if(S>Math.pow(2,21)-1){p.enqueue(C0);break}a=S*Math.pow(2,32)+x.getUint32(4),n=3}else{if(o1(i)<a)break;let v=a1(i,a);p.enqueue(I0(l?v:qf.decode(v),e)),n=0}if(a===0||a>t){p.enqueue(C0);break}}}})}var zf=4;function Mn(t){if(t)return xE(t)}function xE(t){for(var e in Mn.prototype)t[e]=Mn.prototype[e];return t}Mn.prototype.on=Mn.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Mn.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this};Mn.prototype.off=Mn.prototype.removeListener=Mn.prototype.removeAllListeners=Mn.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var i=this._callbacks["$"+t];if(!i)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,a=0;a<i.length;a++)if(n=i[a],n===e||n.fn===e){i.splice(a,1);break}return i.length===0&&delete this._callbacks["$"+t],this};Mn.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),i=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(i){i=i.slice(0);for(var n=0,a=i.length;n<a;++n)i[n].apply(this,e)}return this};Mn.prototype.emitReserved=Mn.prototype.emit;Mn.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Mn.prototype.hasListeners=function(t){return!!this.listeners(t).length};var mo=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function s1(t,...e){return e.reduce((i,n)=>(t.hasOwnProperty(n)&&(i[n]=t[n]),i),{})}var yE=mo.setTimeout,wE=mo.clearTimeout;function gs(t,e){e.useNativeTimers?(t.setTimeoutFn=yE.bind(mo),t.clearTimeoutFn=wE.bind(mo)):(t.setTimeoutFn=mo.setTimeout.bind(mo),t.clearTimeoutFn=mo.clearTimeout.bind(mo))}var _E=1.33;function zp(t){return typeof t=="string"?bE(t):Math.ceil((t.byteLength||t.size)*_E)}function bE(t){let e=0,i=0;for(let n=0,a=t.length;n<a;n++)e=t.charCodeAt(n),e<128?i+=1:e<2048?i+=2:e<55296||e>=57344?i+=3:(n++,i+=4);return i}function Hp(t){let e="";for(let i in t)t.hasOwnProperty(i)&&(e.length&&(e+="&"),e+=encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return e}function Gp(t){let e={},i=t.split("&");for(let n=0,a=i.length;n<a;n++){let l=i[n].split("=");e[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return e}var l1=class extends Error{constructor(e,i,n){super(e),this.description=i,this.context=n,this.type="TransportError"}},vs=class extends Mn{constructor(e){super(),this.writable=!1,gs(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,i,n){return super.emitReserved("error",new l1(e,i,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let i=I0(e,this.socket.binaryType);this.onPacket(i)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,i={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(i)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let i=Hp(e);return i.length?"?"+i:""}};var Qp="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Hf=64,CE={},Wp=0,c1=0,Yp;function Xp(t){let e="";do e=Qp[t%Hf]+e,t=Math.floor(t/Hf);while(t>0);return e}function u1(){let t=Xp(+new Date);return t!==Yp?(Wp=0,Yp=t):t+"."+Xp(Wp++)}for(;c1<Hf;c1++)CE[Qp[c1]]=c1;var Zp=!1;try{Zp=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var Kp=Zp;function Gf(t){let e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Kp))return new XMLHttpRequest}catch{}if(!e)try{return new mo[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function SE(){}var AE=function(){return new Gf({xdomain:!1}).responseType!=null}(),h1=class extends vs{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){let n=location.protocol==="https:",a=location.port;a||(a=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||a!==e.port}let i=e&&e.forceBase64;this.supportsBinary=AE&&!i,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";let i=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||i()})),this.writable||(n++,this.once("drain",function(){--n||i()}))}else i()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){let i=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};jp(e,this.socket.binaryType).forEach(i),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){let e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Up(e,i=>{this.doWrite(i,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",i=this.query||{};return this.opts.timestampRequests!==!1&&(i[this.opts.timestampParam]=u1()),!this.supportsBinary&&!i.sid&&(i.b64=1),this.createUri(e,i)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new f1(this.uri(),e)}doWrite(e,i){let n=this.request({method:"POST",data:e});n.on("success",i),n.on("error",(a,l)=>{this.onError("xhr post error",a,l)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(i,n)=>{this.onError("xhr poll error",i,n)}),this.pollXhr=e}},f1=(()=>{class t extends Mn{constructor(i,n){super(),gs(this,n),this.opts=n,this.method=n.method||"GET",this.uri=i,this.data=n.data!==void 0?n.data:null,this.create()}create(){var i;let n=s1(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;let a=this.xhr=new Gf(n);try{a.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0);for(let l in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(l)&&a.setRequestHeader(l,this.opts.extraHeaders[l])}}catch{}if(this.method==="POST")try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{a.setRequestHeader("Accept","*/*")}catch{}(i=this.opts.cookieJar)===null||i===void 0||i.addCookies(a),"withCredentials"in a&&(a.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(a.timeout=this.opts.requestTimeout),a.onreadystatechange=()=>{var l;a.readyState===3&&((l=this.opts.cookieJar)===null||l===void 0||l.parseCookies(a)),a.readyState===4&&(a.status===200||a.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof a.status=="number"?a.status:0)},0))},a.send(this.data)}catch(l){this.setTimeoutFn(()=>{this.onError(l)},0);return}typeof document<"u"&&(this.index=t.requestsCount++,t.requests[this.index]=this)}onError(i){this.emitReserved("error",i,this.xhr),this.cleanup(!0)}cleanup(i){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=SE,i)try{this.xhr.abort()}catch{}typeof document<"u"&&delete t.requests[this.index],this.xhr=null}}onLoad(){let i=this.xhr.responseText;i!==null&&(this.emitReserved("data",i),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}return t.requestsCount=0,t.requests={},t})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Jp);else if(typeof addEventListener=="function"){let t="onpagehide"in mo?"pagehide":"unload";addEventListener(t,Jp,!1)}}function Jp(){for(let t in f1.requests)f1.requests.hasOwnProperty(t)&&f1.requests[t].abort()}var Xl=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,i)=>i(e,0),N0=mo.WebSocket||mo.MozWebSocket,d1=!0,$p="arraybuffer";var e2=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",m1=class extends vs{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let e=this.uri(),i=this.opts.protocols,n=e2?{}:s1(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=d1&&!e2?i?new N0(e,i):new N0(e):new N0(e,i,n)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let i=0;i<e.length;i++){let n=e[i],a=i===e.length-1;S0(n,this.supportsBinary,l=>{let f={};d1||(n.options&&(f.compress=n.options.compress),this.opts.perMessageDeflate&&(typeof l=="string"?Buffer.byteLength(l):l.length)<this.opts.perMessageDeflate.threshold&&(f.compress=!1));try{d1?this.ws.send(l):this.ws.send(l,f)}catch{}a&&Xl(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",i=this.query||{};return this.opts.timestampRequests&&(i[this.opts.timestampParam]=u1()),this.supportsBinary||(i.b64=1),this.createUri(e,i)}check(){return!!N0}};var p1=class extends vs{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{let i=qp(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(i).getReader(),a=Vp();a.readable.pipeTo(e.writable),this.writer=a.writable.getWriter();let l=()=>{n.read().then(({done:p,value:v})=>{p||(this.onPacket(v),l())}).catch(p=>{})};l();let f={type:"open"};this.query.sid&&(f.data=`{"sid":"${this.query.sid}"}`),this.writer.write(f).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let i=0;i<e.length;i++){let n=e[i],a=i===e.length-1;this.writer.write(n).then(()=>{a&&Xl(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}};var Wf={websocket:m1,webtransport:p1,polling:h1};var IE=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,NE=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Oc(t){if(t.length>2e3)throw"URI too long";let e=t,i=t.indexOf("["),n=t.indexOf("]");i!=-1&&n!=-1&&(t=t.substring(0,i)+t.substring(i,n).replace(/:/g,";")+t.substring(n,t.length));let a=IE.exec(t||""),l={},f=14;for(;f--;)l[NE[f]]=a[f]||"";return i!=-1&&n!=-1&&(l.source=e,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=TE(l,l.path),l.queryKey=ME(l,l.query),l}function TE(t,e){let i=/\/{2,9}/g,n=e.replace(i,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function ME(t,e){let i={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,a,l){a&&(i[a]=l)}),i}var g1=(()=>{class t extends Mn{constructor(i,n={}){super(),this.binaryType=$p,this.writeBuffer=[],i&&typeof i=="object"&&(n=i,i=null),i?(i=Oc(i),n.hostname=i.host,n.secure=i.protocol==="https"||i.protocol==="wss",n.port=i.port,i.query&&(n.query=i.query)):n.host&&(n.hostname=Oc(n.host).host),gs(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Gp(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(i){let n=Object.assign({},this.opts.query);n.EIO=zf,n.transport=i,this.id&&(n.sid=this.id);let a=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[i]);return new Wf[i](a)}open(){let i;if(this.opts.rememberUpgrade&&t.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)i="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else i=this.transports[0];this.readyState="opening";try{i=this.createTransport(i)}catch{this.transports.shift(),this.open();return}i.open(),this.setTransport(i)}setTransport(i){this.transport&&this.transport.removeAllListeners(),this.transport=i,i.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(i){let n=this.createTransport(i),a=!1;t.priorWebsocketSuccess=!1;let l=()=>{a||(n.send([{type:"ping",data:"probe"}]),n.once("packet",k=>{if(!a)if(k.type==="pong"&&k.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;t.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{a||this.readyState!=="closed"&&(M(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{let A=new Error("probe error");A.transport=n.name,this.emitReserved("upgradeError",A)}}))};function f(){a||(a=!0,M(),n.close(),n=null)}let p=k=>{let A=new Error("probe error: "+k);A.transport=n.name,f(),this.emitReserved("upgradeError",A)};function v(){p("transport closed")}function x(){p("socket closed")}function S(k){n&&k.name!==n.name&&f()}let M=()=>{n.removeListener("open",l),n.removeListener("error",p),n.removeListener("close",v),this.off("close",x),this.off("upgrading",S)};n.once("open",l),n.once("error",p),n.once("close",v),this.once("close",x),this.once("upgrading",S),this.upgrades.indexOf("webtransport")!==-1&&i!=="webtransport"?this.setTimeoutFn(()=>{a||n.open()},200):n.open()}onOpen(){if(this.readyState="open",t.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let i=0,n=this.upgrades.length;for(;i<n;i++)this.probe(this.upgrades[i])}}onPacket(i){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",i),this.emitReserved("heartbeat"),this.resetPingTimeout(),i.type){case"open":this.onHandshake(JSON.parse(i.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":let n=new Error("server error");n.code=i.data,this.onError(n);break;case"message":this.emitReserved("data",i.data),this.emitReserved("message",i.data);break}}onHandshake(i){this.emitReserved("handshake",i),this.id=i.sid,this.transport.query.sid=i.sid,this.upgrades=this.filterUpgrades(i.upgrades),this.pingInterval=i.pingInterval,this.pingTimeout=i.pingTimeout,this.maxPayload=i.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let i=this.getWritablePackets();this.transport.send(i),this.prevBufferLen=i.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let a=0;a<this.writeBuffer.length;a++){let l=this.writeBuffer[a].data;if(l&&(n+=zp(l)),a>0&&n>this.maxPayload)return this.writeBuffer.slice(0,a);n+=2}return this.writeBuffer}write(i,n,a){return this.sendPacket("message",i,n,a),this}send(i,n,a){return this.sendPacket("message",i,n,a),this}sendPacket(i,n,a,l){if(typeof n=="function"&&(l=n,n=void 0),typeof a=="function"&&(l=a,a=null),this.readyState==="closing"||this.readyState==="closed")return;a=a||{},a.compress=a.compress!==!1;let f={type:i,data:n,options:a};this.emitReserved("packetCreate",f),this.writeBuffer.push(f),l&&this.once("flush",l),this.flush()}close(){let i=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),i()},a=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():i()}):this.upgrading?a():i()),this}onError(i){t.priorWebsocketSuccess=!1,this.emitReserved("error",i),this.onClose("transport error",i)}onClose(i,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",i,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(i){let n=[],a=0,l=i.length;for(;a<l;a++)~this.transports.indexOf(i[a])&&n.push(i[a]);return n}}return t.protocol=zf,t})();var ST=g1.protocol;function t2(t,e="",i){let n=t;i=i||typeof location<"u"&&location,t==null&&(t=i.protocol+"//"+i.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=i.protocol+t:t=i.host+t),/^(https?|wss?):\/\//.test(t)||(typeof i<"u"?t=i.protocol+"//"+t:t="https://"+t),n=Oc(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";let l=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+l+":"+n.port+e,n.href=n.protocol+"://"+l+(i&&i.port===n.port?"":":"+n.port),n}var Jf={};gE(Jf,{Decoder:()=>Zf,Encoder:()=>Qf,PacketType:()=>Di,protocol:()=>a2});var LE=typeof ArrayBuffer=="function",DE=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,i2=Object.prototype.toString,OE=typeof Blob=="function"||typeof Blob<"u"&&i2.call(Blob)==="[object BlobConstructor]",RE=typeof File=="function"||typeof File<"u"&&i2.call(File)==="[object FileConstructor]";function M0(t){return LE&&(t instanceof ArrayBuffer||DE(t))||OE&&t instanceof Blob||RE&&t instanceof File}function T0(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let i=0,n=t.length;i<n;i++)if(T0(t[i]))return!0;return!1}if(M0(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return T0(t.toJSON(),!0);for(let i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&T0(t[i]))return!0;return!1}function n2(t){let e=[],i=t.data,n=t;return n.data=Yf(i,e),n.attachments=e.length,{packet:n,buffers:e}}function Yf(t,e){if(!t)return t;if(M0(t)){let i={_placeholder:!0,num:e.length};return e.push(t),i}else if(Array.isArray(t)){let i=new Array(t.length);for(let n=0;n<t.length;n++)i[n]=Yf(t[n],e);return i}else if(typeof t=="object"&&!(t instanceof Date)){let i={};for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=Yf(t[n],e));return i}return t}function r2(t,e){return t.data=Xf(t.data,e),delete t.attachments,t}function Xf(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let i=0;i<t.length;i++)t[i]=Xf(t[i],e);else if(typeof t=="object")for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(t[i]=Xf(t[i],e));return t}var PE=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],a2=5,Di=function(t){return t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK",t}(Di||{}),Qf=class{constructor(e){this.replacer=e}encode(e){return(e.type===Di.EVENT||e.type===Di.ACK)&&T0(e)?this.encodeAsBinary({type:e.type===Di.EVENT?Di.BINARY_EVENT:Di.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let i=""+e.type;return(e.type===Di.BINARY_EVENT||e.type===Di.BINARY_ACK)&&(i+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(i+=e.nsp+","),e.id!=null&&(i+=e.id),e.data!=null&&(i+=JSON.stringify(e.data,this.replacer)),i}encodeAsBinary(e){let i=n2(e),n=this.encodeAsString(i.packet),a=i.buffers;return a.unshift(n),a}};function o2(t){return Object.prototype.toString.call(t)==="[object Object]"}var Zf=class t extends Mn{constructor(e){super(),this.reviver=e}add(e){let i;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");i=this.decodeString(e);let n=i.type===Di.BINARY_EVENT;n||i.type===Di.BINARY_ACK?(i.type=n?Di.EVENT:Di.ACK,this.reconstructor=new Kf(i),i.attachments===0&&super.emitReserved("decoded",i)):super.emitReserved("decoded",i)}else if(M0(e)||e.base64)if(this.reconstructor)i=this.reconstructor.takeBinaryData(e),i&&(this.reconstructor=null,super.emitReserved("decoded",i));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let i=0,n={type:Number(e.charAt(0))};if(Di[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Di.BINARY_EVENT||n.type===Di.BINARY_ACK){let l=i+1;for(;e.charAt(++i)!=="-"&&i!=e.length;);let f=e.substring(l,i);if(f!=Number(f)||e.charAt(i)!=="-")throw new Error("Illegal attachments");n.attachments=Number(f)}if(e.charAt(i+1)==="/"){let l=i+1;for(;++i&&!(e.charAt(i)===","||i===e.length););n.nsp=e.substring(l,i)}else n.nsp="/";let a=e.charAt(i+1);if(a!==""&&Number(a)==a){let l=i+1;for(;++i;){let f=e.charAt(i);if(f==null||Number(f)!=f){--i;break}if(i===e.length)break}n.id=Number(e.substring(l,i+1))}if(e.charAt(++i)){let l=this.tryParse(e.substr(i));if(t.isPayloadValid(n.type,l))n.data=l;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,i){switch(e){case Di.CONNECT:return o2(i);case Di.DISCONNECT:return i===void 0;case Di.CONNECT_ERROR:return typeof i=="string"||o2(i);case Di.EVENT:case Di.BINARY_EVENT:return Array.isArray(i)&&(typeof i[0]=="number"||typeof i[0]=="string"&&PE.indexOf(i[0])===-1);case Di.ACK:case Di.BINARY_ACK:return Array.isArray(i)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},Kf=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let i=r2(this.reconPack,this.buffers);return this.finishedReconstruction(),i}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function $o(t,e,i){return t.on(e,i),function(){t.off(e,i)}}var kE=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Rc=class extends Mn{constructor(e,i,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=i,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[$o(e,"open",this.onopen.bind(this)),$o(e,"packet",this.onpacket.bind(this)),$o(e,"error",this.onerror.bind(this)),$o(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...i){if(kE.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(i.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(i),this;let n={type:Di.EVENT,data:i};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof i[i.length-1]=="function"){let f=this.ids++,p=i.pop();this._registerAckCallback(f,p),n.id=f}let a=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!a||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,i){var n;let a=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(a===void 0){this.acks[e]=i;return}let l=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let p=0;p<this.sendBuffer.length;p++)this.sendBuffer[p].id===e&&this.sendBuffer.splice(p,1);i.call(this,new Error("operation has timed out"))},a),f=(...p)=>{this.io.clearTimeoutFn(l),i.apply(this,p)};f.withError=!0,this.acks[e]=f}emitWithAck(e,...i){return new Promise((n,a)=>{let l=(f,p)=>f?a(f):n(p);l.withError=!0,i.push(l),this.emit(e,...i)})}_addToQueue(e){let i;typeof e[e.length-1]=="function"&&(i=e.pop());let n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((a,...l)=>n!==this._queue[0]?void 0:(a!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),i&&i(a)):(this._queue.shift(),i&&i(null,...l)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let i=this._queue[0];i.pending&&!e||(i.pending=!0,i.tryCount++,this.flags=i.flags,this.emit.apply(this,i.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Di.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,i){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,i),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){let n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Di.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Di.EVENT:case Di.BINARY_EVENT:this.onevent(e);break;case Di.ACK:case Di.BINARY_ACK:this.onack(e);break;case Di.DISCONNECT:this.ondisconnect();break;case Di.CONNECT_ERROR:this.destroy();let n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){let i=e.data||[];e.id!=null&&i.push(this.ack(e.id)),this.connected?this.emitEvent(i):this.receiveBuffer.push(Object.freeze(i))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let i=this._anyListeners.slice();for(let n of i)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let i=this,n=!1;return function(...a){n||(n=!0,i.packet({type:Di.ACK,id:e,data:a}))}}onack(e){let i=this.acks[e.id];typeof i=="function"&&(delete this.acks[e.id],i.withError&&e.data.unshift(null),i.apply(this,e.data))}onconnect(e,i){this.id=e,this.recovered=i&&this._pid===i,this._pid=i,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Di.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let i=this._anyListeners;for(let n=0;n<i.length;n++)if(e===i[n])return i.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let i=this._anyOutgoingListeners;for(let n=0;n<i.length;n++)if(e===i[n])return i.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let i=this._anyOutgoingListeners.slice();for(let n of i)n.apply(this,e.data)}}};function Ql(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Ql.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),i=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+i:t-i}return Math.min(t,this.max)|0};Ql.prototype.reset=function(){this.attempts=0};Ql.prototype.setMin=function(t){this.ms=t};Ql.prototype.setMax=function(t){this.max=t};Ql.prototype.setJitter=function(t){this.jitter=t};var Pc=class extends Mn{constructor(e,i){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(i=e,e=void 0),i=i||{},i.path=i.path||"/socket.io",this.opts=i,gs(this,i),this.reconnection(i.reconnection!==!1),this.reconnectionAttempts(i.reconnectionAttempts||1/0),this.reconnectionDelay(i.reconnectionDelay||1e3),this.reconnectionDelayMax(i.reconnectionDelayMax||5e3),this.randomizationFactor((n=i.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Ql({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(i.timeout==null?2e4:i.timeout),this._readyState="closed",this.uri=e;let a=i.parser||Jf;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=i.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var i;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(i=this.backoff)===null||i===void 0||i.setMin(e),this)}randomizationFactor(e){var i;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(i=this.backoff)===null||i===void 0||i.setJitter(e),this)}reconnectionDelayMax(e){var i;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(i=this.backoff)===null||i===void 0||i.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new g1(this.uri,this.opts);let i=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;let a=$o(i,"open",function(){n.onopen(),e&&e()}),l=p=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",p),e?e(p):this.maybeReconnectOnOpen()},f=$o(i,"error",l);if(this._timeout!==!1){let p=this._timeout,v=this.setTimeoutFn(()=>{a(),l(new Error("timeout")),i.close()},p);this.opts.autoUnref&&v.unref(),this.subs.push(()=>{this.clearTimeoutFn(v)})}return this.subs.push(a),this.subs.push(f),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push($o(e,"ping",this.onping.bind(this)),$o(e,"data",this.ondata.bind(this)),$o(e,"error",this.onerror.bind(this)),$o(e,"close",this.onclose.bind(this)),$o(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(i){this.onclose("parse error",i)}}ondecoded(e){Xl(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,i){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Rc(this,e,i),this.nsps[e]=n),n}_destroy(e){let i=Object.keys(this.nsps);for(let n of i)if(this.nsps[n].active)return;this._close()}_packet(e){let i=this.encoder.encode(e);for(let n=0;n<i.length;n++)this.engine.write(i[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,i){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,i),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let i=this.backoff.duration();this._reconnecting=!0;let n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(a=>{a?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",a)):e.onreconnect()}))},i);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}};var L0={};function D0(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};let i=t2(t,e.path||"/socket.io"),n=i.source,a=i.id,l=i.path,f=L0[a]&&l in L0[a].nsps,p=e.forceNew||e["force new connection"]||e.multiplex===!1||f,v;return p?v=new Pc(n,e):(L0[a]||(L0[a]=new Pc(n,e)),v=L0[a]),i.query&&!e.query&&(e.query=i.queryKey),v.socket(i.path,e)}Object.assign(D0,{Manager:Pc,Socket:Rc,io:D0,connect:D0});var Qr=(()=>{let e=class e{constructor(){this.inventories=[],this.inventories$=new Nr,this.isLoading=!1,this.isLoading$=new Nr}onInventoriesListener(){return this.inventories$.asObservable()}onIsLoadingListener(){return this.isLoading$.asObservable()}setIsLoading(n){this.isLoading=n,this.isLoading$.next(n)}getIsLoading(){return this.isLoading}setInventory(n){this.inventories=[],n&&this.inventories.push(n),this.inventories$.next(this.inventories.slice())}setInventories(n){this.inventories=n,this.inventories$.next(this.inventories.slice())}getInventories(){return this.inventories.slice()}getInventoriesTable(){return this.inventories.map((n,a)=>({no:a+1,id:n.id,track:n.track,image:n.image,code:n.code,category:n.Category.name,status:n.Status.name,usage:n.Usage.name,description:n.description})).slice()}getInventoryById(n){return this.inventories.find(a=>a.id===n)}getInventoryByCode(n){return this.inventories.find(a=>a.code===n)}getInventoryByTrack(n){return this.inventories.find(a=>a.track===n)}getInventoryByCodeTable(n){return this.inventories.filter(a=>a.code===n).map((a,l)=>({no:l+1,id:a.id,track:a.track,image:a.image,code:a.code,category:a.Category.name,status:a.Status.name,usage:a.Usage.name,description:a.description})).slice()}createInventory(n){this.inventories.push(n),this.inventories$.next(this.inventories.slice())}updateInventory(n,a){let l=this.inventories.findIndex(f=>f.id===n);l!==-1&&(this.inventories[l]=yi(yi({},this.inventories[l]),a),this.inventories$.next(this.inventories.slice()))}getUseDate(n){let a=new Date,l=a.getFullYear()-n.getFullYear(),f=a.getMonth()-n.getMonth();return f<0&&(l--,f+=12),`${l} \u0E1B\u0E35 ${f} \u0E40\u0E14\u0E37\u0E2D\u0E19`}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=hi({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var v1=(()=>{let e=class e{constructor(n){this.inventoryService=n}initializeSocketIO(n){this.socketIO=n,this.socketIO&&(this.socketIO.on("inventory:create",a=>{this.inventoryService.createInventory(a)}),this.socketIO.on("inventory:update",(a,l)=>{this.inventoryService.updateInventory(a,l)}))}createInventory(n){this.socketIO&&this.socketIO.emit("inventory:create",n)}updateInventory(n,a){this.socketIO&&this.socketIO.emit("inventory:update",n,a)}};e.\u0275fac=function(a){return new(a||e)(_i(Qr))},e.\u0275prov=hi({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Qa=(()=>{let e=class e{constructor(){this.logs=[],this.logs$=new Nr}onLogsListener(){return this.logs$.asObservable()}setLogs(n){this.logs=n,this.logs$.next(this.logs.slice())}getLogs(){return this.logs.slice()}getLogsTable(){return this.logs.map((n,a)=>yi({no:a+1},n)).slice()}getLogsByCodeInput(n){return this.logs.filter(a=>a.code===n).map((a,l)=>yi({no:l+1},a)).slice()}getLogById(n){return this.logs.find(a=>a.id===n)}createLog(n){this.logs.push(n),this.logs$.next(this.logs.slice())}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=hi({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var E1=(()=>{let e=class e{constructor(n){this.logService=n}initializeSocketIO(n){this.socketIO=n,this.socketIO&&this.socketIO.on("log:create",a=>{this.logService.createLog(a)})}createLog(n){this.socketIO&&this.socketIO.emit("log:create",n)}};e.\u0275fac=function(a){return new(a||e)(_i(Qa))},e.\u0275prov=hi({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var u2=(()=>{let e=class e{constructor(n,a){this.socketInventoryService=n,this.socketLogService=a,this.url=Mi.localhost}setupSocketConnection(){this.socketIO=D0(this.url,{reconnection:!1}),this.socketIO&&(this.socketInventoryService.initializeSocketIO(this.socketIO),this.socketLogService.initializeSocketIO(this.socketIO))}disconnect(){this.socketIO&&this.socketIO.close()}};e.\u0275fac=function(a){return new(a||e)(_i(v1),_i(E1))},e.\u0275prov=hi({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function FE(t,e){if(t&1&&(I(0,"span"),D(1),N()),t&2){let i=e;P(),Ou("",i.firstname," ",i.lastname,"")}}var f2=(()=>{let e=class e{constructor(){this.menuToggle=new Mu,this.subscription=new Ri,this.profileService=_e(Xr),this.authService=_e(n1),this.themeService=_e(Ip),this.title=""}ngOnInit(){this.profile$=this.profileService.onProfileListener(),this.isDarkTheme=this.themeService.getTheme()}ngOnDestroy(){this.subscription.unsubscribe()}onMenuToggle(){this.menuToggle.emit()}onLogout(){this.authService.logout().subscribe()}onSwitchTheme(n){n.stopPropagation(),this.themeService.setTheme(this.isDarkTheme)}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=zt({type:e,selectors:[["app-toolbar"]],outputs:{menuToggle:"menuToggle"},decls:36,vars:6,consts:[["menu","matMenu"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"],[1,"toolbar-box"],[1,"toolbar-right"],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","","routerLink","/profile"],["mat-menu-item","","routerLink","/password"],["type","button","mat-menu-item",""],[2,"margin-left","50px",3,"ngModelChange","click","ngModel"],["type","button","mat-menu-item","",3,"click"],["color","warn"],[2,"color","#f44336"]],template:function(a,l){if(a&1){let f=St();I(0,"mat-toolbar",1)(1,"button",2),Ye("click",function(){return Xe(f),Qe(l.onMenuToggle())}),I(2,"mat-icon",3),D(3,"menu"),N()(),I(4,"div",4)(5,"span"),D(6),N(),I(7,"div",5),Fe(8,FE,2,2,"span"),hn(9,"async"),I(10,"button",6)(11,"mat-icon"),D(12,"more_vert"),N()()()()(),I(13,"mat-menu",null,0)(15,"a",7)(16,"mat-icon"),D(17,"person"),N(),I(18,"span"),D(19,"\u0E42\u0E1B\u0E23\u0E44\u0E1F\u0E25\u0E4C"),N()(),I(20,"a",8)(21,"mat-icon"),D(22,"lock"),N(),I(23,"span"),D(24,"\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19\u0E23\u0E2B\u0E31\u0E2A\u0E1C\u0E48\u0E32\u0E19"),N()(),I(25,"button",9)(26,"mat-icon"),D(27,"dark_mode"),N(),I(28,"span"),D(29,"\u0E18\u0E35\u0E21\u0E21\u0E37\u0E14"),N(),I(30,"mat-slide-toggle",10),Qs("ngModelChange",function(v){return Xe(f),Xs(l.isDarkTheme,v)||(l.isDarkTheme=v),Qe(v)}),Ye("click",function(v){return Xe(f),Qe(l.onSwitchTheme(v))}),N()(),I(31,"button",11),Ye("click",function(){return Xe(f),Qe(l.onLogout())}),I(32,"mat-icon",12),D(33,"logout"),N(),I(34,"span",13),D(35,"\u0E2D\u0E2D\u0E01\u0E08\u0E01\u0E32\u0E23\u0E30\u0E1A\u0E1A"),N()()()}if(a&2){let f,p=Xi(14);P(6),ft(l.title),P(2),Pt(8,(f=Pn(9,4,l.profile$))?8:-1,f),P(2),se("matMenuTriggerFor",p),P(20),Ys("ngModel",l.isDarkTheme)}},dependencies:[Tr,nn,ku,mn,Ii,vp,gp,Ep,pa,il,Sc],styles:[".toolbar-box[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;align-items:center}.toolbar-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-transform:capitalize}.toolbar-box[_ngcontent-%COMP%]   .toolbar-right[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center}"]});let t=e;return t})();var Ka=(()=>{let e=class e{constructor(){this.inventories=[],this.inventories$=new Nr}onInventoriesListener(){return this.inventories$.asObservable()}getInventories(){return this.inventories.slice()}getInventoryById(n){return this.inventories.find(a=>a.id===n)}getInventoryByCode(n){return this.inventories.find(a=>a.code===n)}getInventoryByTrack(n){return this.inventories.find(a=>a.track===n)}createInventory(n){this.inventories.push(n),this.inventories$.next(this.inventories.slice())}updatPrintCountInventory(n,a){let l=this.inventories.findIndex(f=>f.id===n);l!==-1&&(this.inventories[l].printCount=a,this.inventories$.next(this.inventories.slice()))}incrementPrintCount(n){let a=this.inventories.findIndex(l=>l.id===n);a!==-1&&(this.inventories[a].printCount>=100||(this.inventories[a].printCount+=1,this.inventories$.next(this.inventories.slice())))}decrementPrintCount(n){let a=this.inventories.findIndex(l=>l.id===n);a!==-1&&(this.inventories[a].printCount<=1||(this.inventories[a].printCount-=1,this.inventories$.next(this.inventories.slice())))}deleteInventory(n){let a=this.inventories.findIndex(l=>l.id===n);a!==-1&&(this.inventories.splice(a,1),this.inventories$.next(this.inventories.slice()))}resetInventory(){this.inventories=[],this.inventories$.next(this.inventories.slice())}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=hi({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jE(t,e){if(t&1&&(I(0,"mat-accordion")(1,"mat-expansion-panel",15)(2,"mat-expansion-panel-header")(3,"div",7)(4,"mat-icon",8),D(5,"settings"),N(),I(6,"div",16),D(7,"\u0E15\u0E31\u0E49\u0E07\u0E04\u0E48\u0E32"),N()()(),I(8,"mat-nav-list")(9,"a",17)(10,"div",7)(11,"mat-icon",8),D(12,"manage_accounts"),N(),I(13,"div",9),D(14,"\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19"),N()()(),I(15,"a",18)(16,"div",7)(17,"mat-icon",8),D(18,"list_alt"),N(),I(19,"div",9),D(20,"\u0E04\u0E38\u0E13\u0E2A\u0E21\u0E1A\u0E31\u0E15\u0E34"),N()()(),I(21,"a",19)(22,"div",7)(23,"mat-icon",8),D(24,"dataset"),N(),I(25,"div",9),D(26,"\u0E2A\u0E16\u0E32\u0E19\u0E30"),N()()(),I(27,"a",20)(28,"div",7)(29,"mat-icon",8),D(30,"text_snippet"),N(),I(31,"div",9),D(32,"\u0E01\u0E32\u0E23\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19"),N()()()()()()),t&2){let i=We();P(),$m("mat-elevation-z0",!0),se("expanded",i.isExpanded)}}var d2=(()=>{let e=class e{constructor(){this.subscription=new Ri,this.router=_e(Js),this.profileService=_e(Xr),this.printService=_e(Ka),this.isExpanded=!1,this.isAdmin=!1,this.isBadge=!1}ngOnInit(){this.isExpanded=this.router.url.includes("setting"),this.isAdmin=this.profileService.getProfile().role==="admin",this.subscription=this.printService.onInventoriesListener().subscribe(n=>{this.badge=n.length,this.badge>0?this.isBadge=!0:this.isBadge=!1})}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=zt({type:e,selectors:[["app-sidenav"]],decls:42,vars:3,consts:[[1,"toolbar-box"],[1,"toolbar-logo"],["src","assets/images/logo-ms-bsru.png","alt","logo"],[1,"toolbar-text"],[1,"line-1"],[1,"line-2"],["mat-list-item","","routerLink","/scan","routerLinkActive","link-active"],[1,"link-box"],["matListIcon",""],["mat-line",""],["mat-list-item","","routerLink","/inventory","routerLinkActive","link-active"],["mat-list-item","","routerLink","/print","routerLinkActive","link-active"],["matListIcon","","matBadgeSize","medium","matBadgeColor","accent","aria-hidden","false",3,"matBadge","matBadgeHidden"],["mat-list-item","","routerLink","/log","routerLinkActive","link-active"],["mat-list-item","","routerLink","/inventory-check","routerLinkActive","link-active"],[3,"expanded"],["mat-line","",2,"font-size","16px"],["mat-list-item","","routerLink","/setting/user","routerLinkActive","link-active"],["mat-list-item","","routerLink","/setting/category","routerLinkActive","link-active"],["mat-list-item","","routerLink","/setting/status","routerLinkActive","link-active"],["mat-list-item","","routerLink","/setting/usage","routerLinkActive","link-active"]],template:function(a,l){a&1&&(I(0,"mat-toolbar")(1,"div",0)(2,"div",1),he(3,"img",2),N(),I(4,"div",3)(5,"span",4),D(6,"BSRU"),N(),I(7,"span",5),D(8,"\u0E04\u0E13\u0E30\u0E27\u0E34\u0E17\u0E22\u0E32\u0E01\u0E32\u0E23\u0E08\u0E31\u0E14\u0E01\u0E32\u0E23"),N()()()(),I(9,"mat-nav-list")(10,"a",6)(11,"div",7)(12,"mat-icon",8),D(13,"qr_code_scanner"),N(),I(14,"div",9),D(15,"\u0E2A\u0E41\u0E01\u0E19"),N()()(),I(16,"a",10)(17,"div",7)(18,"mat-icon",8),D(19,"list_alt"),N(),I(20,"div",9),D(21,"\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C"),N()()(),I(22,"a",11)(23,"div",7)(24,"mat-icon",12),D(25,"print"),N(),I(26,"div",9),D(27,"\u0E1E\u0E34\u0E21\u0E1E\u0E4C"),N()()(),I(28,"a",13)(29,"div",7)(30,"mat-icon",8),D(31,"history"),N(),I(32,"div",9),D(33,"\u0E1B\u0E23\u0E30\u0E27\u0E31\u0E15\u0E34"),N()()(),I(34,"a",14)(35,"div",7)(36,"mat-icon",8),D(37,"fact_check"),N(),I(38,"div",9),D(39,"\u0E15\u0E23\u0E27\u0E08\u0E2A\u0E2D\u0E1A"),N()()(),he(40,"mat-divider"),Fe(41,jE,33,3,"mat-accordion"),N()),a&2&&(P(24),se("matBadge",l.badge)("matBadgeHidden",!l.isBadge),P(17),Pt(41,l.isAdmin?41:-1))},dependencies:[Tr,np,ku,Ii,pp,Tc,ma,wp,xp,yp,_p],styles:["mat-nav-list[_ngcontent-%COMP%]{padding:0}.link-box[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;transition:.3s;padding-block:10px}.link-active[_ngcontent-%COMP%]{background-color:#ff9800}a[_ngcontent-%COMP%]{transition:all .3s}mat-expansion-panel-header[_ngcontent-%COMP%]{padding:0 16px}  .mat-expansion-panel-body{padding:0!important}  .mat-expansion-panel-body a{padding-left:24px}mat-toolbar[_ngcontent-%COMP%]   .toolbar-box[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px}mat-toolbar[_ngcontent-%COMP%]   .toolbar-box[_ngcontent-%COMP%]   .toolbar-logo[_ngcontent-%COMP%]{border-radius:50%}mat-toolbar[_ngcontent-%COMP%]   .toolbar-box[_ngcontent-%COMP%]   .toolbar-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px}mat-toolbar[_ngcontent-%COMP%]   .toolbar-box[_ngcontent-%COMP%]   .toolbar-text[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column}mat-toolbar[_ngcontent-%COMP%]   .toolbar-box[_ngcontent-%COMP%]   .toolbar-text[_ngcontent-%COMP%]   .line-1[_ngcontent-%COMP%]{position:absolute;top:-25px;letter-spacing:4px;font-weight:800}mat-toolbar[_ngcontent-%COMP%]   .toolbar-box[_ngcontent-%COMP%]   .toolbar-text[_ngcontent-%COMP%]   .line-2[_ngcontent-%COMP%]{position:absolute;top:-4px;font-size:.75rem;font-weight:600}.line-2[_ngcontent-%COMP%]{color:#757575}.dark-theme[_nghost-%COMP%]   .link-active[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .link-active[_ngcontent-%COMP%]{background-color:#ff5722}.dark-theme[_nghost-%COMP%]   .line-2[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .line-2[_ngcontent-%COMP%]{color:#c7c7c7}"]});let t=e;return t})();var qE=["sidenav"],m2=(()=>{let e=class e{constructor(){this.subscription=new Ri,this.router=_e(Js),this.breakpointObserver=_e(rp),this.socketIoService=_e(u2),this.isHandset$=this.breakpointObserver.observe(op.Handset).pipe(Fn(n=>n.matches),Qm())}ngOnInit(){this.subscription=this.router.events.pipe(Km(this.isHandset$),nr(([n,a])=>a&&n instanceof ip)).subscribe(()=>this.sidenav.close()),this.socketIoService.setupSocketConnection()}ngOnDestroy(){this.subscription.unsubscribe(),this.socketIoService.disconnect()}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=zt({type:e,selectors:[["app-dashboard"]],viewQuery:function(a,l){if(a&1&&Nt(qE,7),a&2){let f;Tt(f=Mt())&&(l.sidenav=f.first)}},decls:11,vars:9,consts:[["sidenav",""],[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],[3,"menuToggle"]],template:function(a,l){if(a&1){let f=St();I(0,"mat-sidenav-container",1)(1,"mat-sidenav",2,0),hn(3,"async"),hn(4,"async"),hn(5,"async"),he(6,"app-sidenav"),N(),I(7,"mat-sidenav-content")(8,"app-toolbar",3),Ye("menuToggle",function(){Xe(f);let v=Xi(2);return Qe(v.toggle())}),N(),I(9,"main"),he(10,"router-outlet"),N()()()}a&2&&(P(),se("mode",Pn(3,3,l.isHandset$)?"over":"side")("opened",Pn(4,5,l.isHandset$)===!1),Jm("role",Pn(5,7,l.isHandset$)?"dialog":"navigation"))},dependencies:[Ks,up,fp,cp,f2,d2,Sc],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}main[_ngcontent-%COMP%]{margin:15px}"]});let t=e;return t})();var kc=(()=>{let e=class e{constructor(n,a,l){this.http=n,this.profileService=a,this.toastService=l,this.apiUrl=Mi.apiUrl+"profile"}getProfile(){return this.http.get(this.apiUrl).pipe(qt(n=>this.profileService.setProfile(n)))}updateProfile(n){return this.http.patch(this.apiUrl,n).pipe(qt(a=>{this.profileService.updateProfile(n),this.toastService.success("",a.message)}))}changePassword(n){return this.http.post(`${this.apiUrl}/change-password`,n).pipe(qt(a=>this.toastService.success("",a.message)))}};e.\u0275fac=function(a){return new(a||e)(_i(Pr),_i(Xr),_i(Gn))},e.\u0275prov=hi({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var p2=(t,e)=>{let i=_e(i1),n=_e(Ap),a=_e(Gn),l=_e(n1),f=_e(Xr),p=_e(kc),v=f.getProfile(),x=n.getAccessToken();return x&&v?!0:!x||x==="undefined"?l.logout().pipe(Fn(()=>!1)):(i.setIsLoading(!0),v?(a.error("500","Internal Server Error!"),l.logout().pipe(Fn(()=>!1))):p.getProfile().pipe(Fn(()=>(i.setIsLoading(!1),!0))))};var g2=(t,e)=>{let i=_e(Js);return _e(Xr).isProfileAdmin()?!0:(i.navigate(["/scan"]),!1)};var v2=(()=>{let e=class e{constructor(){this.inventories=[],this.inventories$=new Nr}onInventoriesListener(){return this.inventories$.asObservable()}getInventories(){return this.inventories.slice()}getInventoryById(n){return this.inventories.find(a=>a.id===n)}getInventoryByCode(n){return this.inventories.find(a=>a.code===n)}getInventoryByTrack(n){return this.inventories.find(a=>a.track===n)}createInventory(n){let a={id:n.id,image:n.image,code:n.code,track:n.track,description:n.description};this.inventories.unshift(a),this.inventories$.next(this.inventories.slice())}deleteInventory(n){let a=this.inventories.findIndex(l=>l.id===n);a!==-1&&(this.inventories.splice(a,1),this.inventories$.next(this.inventories.slice()))}resetInventory(){this.inventories=[],this.inventories$.next(this.inventories.slice())}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=hi({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var E2=(()=>{let e=class e{constructor(n){this.http=n,this.apiUrl=Mi.apiUrl+"inventory"}getInventoryByCode(n){return this.http.get(`${this.apiUrl}/code/${n}`)}getInventoryByTrack(n){return this.http.get(`${this.apiUrl}/track/${n}`)}};e.\u0275fac=function(a){return new(a||e)(_i(Pr))},e.\u0275prov=hi({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var It=function(t){return t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",t}(It||{}),x2=new Map([[It.QR_CODE,"QR_CODE"],[It.AZTEC,"AZTEC"],[It.CODABAR,"CODABAR"],[It.CODE_39,"CODE_39"],[It.CODE_93,"CODE_93"],[It.CODE_128,"CODE_128"],[It.DATA_MATRIX,"DATA_MATRIX"],[It.MAXICODE,"MAXICODE"],[It.ITF,"ITF"],[It.EAN_13,"EAN_13"],[It.EAN_8,"EAN_8"],[It.PDF_417,"PDF_417"],[It.RSS_14,"RSS_14"],[It.RSS_EXPANDED,"RSS_EXPANDED"],[It.UPC_A,"UPC_A"],[It.UPC_E,"UPC_E"],[It.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]);function y2(t){return Object.values(It).includes(t)}var Ja=function(t){return t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE",t}(Ja||{}),jo=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[Ja.SCAN_TYPE_CAMERA,Ja.SCAN_TYPE_FILE],t}();var x1=function(){function t(e,i){this.format=e,this.formatName=i}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!x2.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,x2.get(e))},t}();var eh=function(){function t(){}return t.createFromText=function(e){var i={text:e};return{decodedText:e,result:i}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t}();var w2=function(t){return t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR",t}(w2||{}),y1=function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:w2.UNKWOWN_ERROR}},t}();var w1=function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,i){(this.verbose||i===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t}();function va(t){return typeof t>"u"||t===null}function _2(t,e,i){return t>i?i:t<e?e:t}var pl=function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}();var ji=function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(e){return"Last Match: ".concat(e)},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t.cameraScanAltText=function(){return"Camera based scan"},t.fileScanAltText=function(){return"Fule based scan"},t}();var th=function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t}();var ih=function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,i){if(typeof e!="object"){var n=typeof e;return i.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var a=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],l=new Set(a),f=Object.keys(e),p=0,v=f;p<v.length;p++){var x=v[p];if(l.has(x))return i.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},t}();var sn=kf(C2());var nh=function(){function t(e,i,n){if(this.formatMap=new Map([[It.QR_CODE,sn.BarcodeFormat.QR_CODE],[It.AZTEC,sn.BarcodeFormat.AZTEC],[It.CODABAR,sn.BarcodeFormat.CODABAR],[It.CODE_39,sn.BarcodeFormat.CODE_39],[It.CODE_93,sn.BarcodeFormat.CODE_93],[It.CODE_128,sn.BarcodeFormat.CODE_128],[It.DATA_MATRIX,sn.BarcodeFormat.DATA_MATRIX],[It.MAXICODE,sn.BarcodeFormat.MAXICODE],[It.ITF,sn.BarcodeFormat.ITF],[It.EAN_13,sn.BarcodeFormat.EAN_13],[It.EAN_8,sn.BarcodeFormat.EAN_8],[It.PDF_417,sn.BarcodeFormat.PDF_417],[It.RSS_14,sn.BarcodeFormat.RSS_14],[It.RSS_EXPANDED,sn.BarcodeFormat.RSS_EXPANDED],[It.UPC_A,sn.BarcodeFormat.UPC_A],[It.UPC_E,sn.BarcodeFormat.UPC_E],[It.UPC_EAN_EXTENSION,sn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!sn)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=i,this.logger=n;var a=this.createZXingFormats(e),l=new Map;l.set(sn.DecodeHintType.POSSIBLE_FORMATS,a),l.set(sn.DecodeHintType.TRY_HARDER,!1),this.hints=l}return t.prototype.decodeAsync=function(e){var i=this;return new Promise(function(n,a){try{n(i.decode(e))}catch(l){a(l)}})},t.prototype.decode=function(e){var i=new sn.MultiFormatReader(this.verbose,this.hints),n=new sn.HTMLCanvasElementLuminanceSource(e),a=new sn.BinaryBitmap(new sn.HybridBinarizer(n)),l=i.decode(a);return{text:l.text,format:x1.create(this.toHtml5QrcodeSupportedFormats(l.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(i,n,a){e.set(i,n)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var i=[],n=0,a=e;n<a.length;n++){var l=a[n];this.formatMap.has(l)?i.push(this.formatMap.get(l)):this.logger.logError("".concat(l," is not supported by")+"ZXingHtml5QrcodeShim")}return i},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}();var zE=function(t,e,i,n){function a(l){return l instanceof i?l:new i(function(f){f(l)})}return new(i||(i=Promise))(function(l,f){function p(S){try{x(n.next(S))}catch(M){f(M)}}function v(S){try{x(n.throw(S))}catch(M){f(M)}}function x(S){S.done?l(S.value):a(S.value).then(p,v)}x((n=n.apply(t,e||[])).next())})},HE=function(t,e){var i={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},n,a,l,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(x){return function(S){return v([x,S])}}function v(x){if(n)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(i=0)),i;)try{if(n=1,a&&(l=x[0]&2?a.return:x[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,x[1])).done)return l;switch(a=0,l&&(x=[x[0]&2,l.value]),x[0]){case 0:case 1:l=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,a=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(l=i.trys,!(l=l.length>0&&l[l.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!l||x[1]>l[0]&&x[1]<l[3])){i.label=x[1];break}if(x[0]===6&&i.label<l[1]){i.label=l[1],l=x;break}if(l&&i.label<l[2]){i.label=l[2],i.ops.push(x);break}l[2]&&i.ops.pop(),i.trys.pop();continue}x=e.call(t,i)}catch(S){x=[6,S],a=0}finally{n=l=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},rh=function(){function t(e,i,n){if(this.formatMap=new Map([[It.QR_CODE,"qr_code"],[It.AZTEC,"aztec"],[It.CODABAR,"codabar"],[It.CODE_39,"code_39"],[It.CODE_93,"code_93"],[It.CODE_128,"code_128"],[It.DATA_MATRIX,"data_matrix"],[It.ITF,"itf"],[It.EAN_13,"ean_13"],[It.EAN_8,"ean_8"],[It.PDF_417,"pdf417"],[It.UPC_A,"upc_a"],[It.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=i,this.logger=n;var a=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(a),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return zE(this,void 0,void 0,function(){var i,n;return HE(this,function(a){switch(a.label){case 0:return[4,this.detector.detect(e)];case 1:if(i=a.sent(),!i||i.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(i),[2,{text:n.rawValue,format:x1.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var i=null,n=0,a=0,l=e;a<l.length;a++){var f=l[a],p=f.boundingBox.width*f.boundingBox.height;p>n&&(n=p,i=f)}if(!i)throw"No largest barcode found";return i},t.prototype.createBarcodeDetectorFormats=function(e){for(var i=[],n=0,a=e;n<a.length;n++){var l=a[n];this.formatMap.has(l)?i.push(this.formatMap.get(l)):this.logger.warn("".concat(l," is not supported by")+"BarcodeDetectorDelegate")}return{formats:i}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(i,n,a){e.set(i,n)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}();var S2=function(t,e,i,n){function a(l){return l instanceof i?l:new i(function(f){f(l)})}return new(i||(i=Promise))(function(l,f){function p(S){try{x(n.next(S))}catch(M){f(M)}}function v(S){try{x(n.throw(S))}catch(M){f(M)}}function x(S){S.done?l(S.value):a(S.value).then(p,v)}x((n=n.apply(t,e||[])).next())})},A2=function(t,e){var i={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},n,a,l,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(x){return function(S){return v([x,S])}}function v(x){if(n)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(i=0)),i;)try{if(n=1,a&&(l=x[0]&2?a.return:x[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,x[1])).done)return l;switch(a=0,l&&(x=[x[0]&2,l.value]),x[0]){case 0:case 1:l=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,a=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(l=i.trys,!(l=l.length>0&&l[l.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!l||x[1]>l[0]&&x[1]<l[3])){i.label=x[1];break}if(x[0]===6&&i.label<l[1]){i.label=l[1],l=x;break}if(l&&i.label<l[2]){i.label=l[2],i.ops.push(x);break}l[2]&&i.ops.pop(),i.trys.pop();continue}x=e.call(t,i)}catch(S){x=[6,S],a=0}finally{n=l=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},I2=function(){function t(e,i,n,a){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,i&&rh.isSupported()?(this.primaryDecoder=new rh(e,n,a),this.secondaryDecoder=new nh(e,n,a)):this.primaryDecoder=new nh(e,n,a)}return t.prototype.decodeAsync=function(e){return S2(this,void 0,void 0,function(){var i;return A2(this,function(n){switch(n.label){case 0:i=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(i),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return S2(this,void 0,void 0,function(){var i,n;return A2(this,function(a){switch(a.label){case 0:i=performance.now(),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,a.sent()];case 3:if(n=a.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw n;case 4:return this.possiblyLogPerformance(i),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var i=performance.now()-e;this.executionResults.push(i),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,i=0,n=this.executionResults;i<n.length;i++){var a=n[i];e+=a}var l=e/this.executionResults.length;console.log("".concat(l," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}();var oh=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(n[l]=a[l])},t(e,i)};return function(e,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");t(e,i);function n(){this.constructor=e}e.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}}(),b1=function(t,e,i,n){function a(l){return l instanceof i?l:new i(function(f){f(l)})}return new(i||(i=Promise))(function(l,f){function p(S){try{x(n.next(S))}catch(M){f(M)}}function v(S){try{x(n.throw(S))}catch(M){f(M)}}function x(S){S.done?l(S.value):a(S.value).then(p,v)}x((n=n.apply(t,e||[])).next())})},C1=function(t,e){var i={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},n,a,l,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(x){return function(S){return v([x,S])}}function v(x){if(n)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(i=0)),i;)try{if(n=1,a&&(l=x[0]&2?a.return:x[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,x[1])).done)return l;switch(a=0,l&&(x=[x[0]&2,l.value]),x[0]){case 0:case 1:l=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,a=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(l=i.trys,!(l=l.length>0&&l[l.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!l||x[1]>l[0]&&x[1]<l[3])){i.label=x[1];break}if(x[0]===6&&i.label<l[1]){i.label=l[1],l=x;break}if(l&&i.label<l[2]){i.label=l[2],i.ops.push(x);break}l[2]&&i.ops.pop(),i.trys.pop();continue}x=e.call(t,i)}catch(S){x=[6,S],a=0}finally{n=l=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},N2=function(){function t(e,i){this.name=e,this.track=i}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var i={};i[this.name]=e;var n={advanced:[i]};return this.track.applyConstraints(n)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var i=e[this.name];return i}return null},t}(),GE=function(t){oh(e,t);function e(i,n){return t.call(this,i,n)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(i){var n={};n[this.name]=i;var a={advanced:[n]};return this.track.applyConstraints(a)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var i=this.track.getCapabilities(),n=i[this.name];return{min:n.min,max:n.max,step:n.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(N2),WE=function(t){oh(e,t);function e(i){return t.call(this,"zoom",i)||this}return e}(GE),YE=function(t){oh(e,t);function e(i){return t.call(this,"torch",i)||this}return e}(N2),XE=function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new WE(this.track)},t.prototype.torchFeature=function(){return new YE(this.track)},t}(),QE=function(){function t(e,i,n){this.isClosed=!1,this.parentElement=e,this.mediaStream=i,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var i=document.createElement("video");return i.style.width="".concat(e,"px"),i.style.display="block",i.muted=!0,i.setAttribute("muted","true"),i.playsInline=!0,i},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var i=function(){var n=e.surface.clientWidth,a=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(n,a),e.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,i,n,a){return b1(this,void 0,void 0,function(){var l,f;return C1(this,function(p){switch(p.label){case 0:return l=new t(e,i,a),n.aspectRatio?(f={aspectRatio:n.aspectRatio},[4,l.getFirstTrackOrFail().applyConstraints(f)]):[3,2];case 1:p.sent(),p.label=2;case 2:return l.setupSurface(),[2,l]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var i=this,n=function(){setTimeout(e,200),i.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return b1(this,void 0,void 0,function(){return C1(this,function(i){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(i,n){var a=e.mediaStream.getVideoTracks(),l=a.length,f=0;e.mediaStream.getVideoTracks().forEach(function(p){e.mediaStream.removeTrack(p),p.stop(),++f,f>=l&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),i())})})},t.prototype.getCapabilities=function(){return new XE(this.getFirstTrackOrFail())},t}(),T2=function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,i,n){return b1(this,void 0,void 0,function(){return C1(this,function(a){return[2,QE.create(e,this.mediaStream,i,n)]})})},t.create=function(e){return b1(this,void 0,void 0,function(){var i,n;return C1(this,function(a){switch(a.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return i={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(i)];case 1:return n=a.sent(),[2,new t(n)]}})})},t}();var M2=function(t,e,i,n){function a(l){return l instanceof i?l:new i(function(f){f(l)})}return new(i||(i=Promise))(function(l,f){function p(S){try{x(n.next(S))}catch(M){f(M)}}function v(S){try{x(n.throw(S))}catch(M){f(M)}}function x(S){S.done?l(S.value):a(S.value).then(p,v)}x((n=n.apply(t,e||[])).next())})},L2=function(t,e){var i={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},n,a,l,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(x){return function(S){return v([x,S])}}function v(x){if(n)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(i=0)),i;)try{if(n=1,a&&(l=x[0]&2?a.return:x[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,x[1])).done)return l;switch(a=0,l&&(x=[x[0]&2,l.value]),x[0]){case 0:case 1:l=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,a=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(l=i.trys,!(l=l.length>0&&l[l.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!l||x[1]>l[0]&&x[1]<l[3])){i.label=x[1];break}if(x[0]===6&&i.label<l[1]){i.label=l[1],l=x;break}if(l&&i.label<l[2]){i.label=l[2],i.ops.push(x);break}l[2]&&i.ops.pop(),i.trys.pop();continue}x=e.call(t,i)}catch(S){x=[6,S],a=0}finally{n=l=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},D2=function(){function t(){}return t.failIfNotSupported=function(){return M2(this,void 0,void 0,function(){return L2(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return M2(this,void 0,void 0,function(){return L2(this,function(i){return[2,T2.create(e)]})})},t}();var ZE=function(t,e,i,n){function a(l){return l instanceof i?l:new i(function(f){f(l)})}return new(i||(i=Promise))(function(l,f){function p(S){try{x(n.next(S))}catch(M){f(M)}}function v(S){try{x(n.throw(S))}catch(M){f(M)}}function x(S){S.done?l(S.value):a(S.value).then(p,v)}x((n=n.apply(t,e||[])).next())})},KE=function(t,e){var i={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},n,a,l,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(x){return function(S){return v([x,S])}}function v(x){if(n)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(i=0)),i;)try{if(n=1,a&&(l=x[0]&2?a.return:x[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,x[1])).done)return l;switch(a=0,l&&(x=[x[0]&2,l.value]),x[0]){case 0:case 1:l=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,a=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(l=i.trys,!(l=l.length>0&&l[l.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!l||x[1]>l[0]&&x[1]<l[3])){i.label=x[1];break}if(x[0]===6&&i.label<l[1]){i.label=l[1],l=x;break}if(l&&i.label<l[2]){i.label=l[2],i.ops.push(x);break}l[2]&&i.ops.pop(),i.trys.pop();continue}x=e.call(t,i)}catch(S){x=[6,S],a=0}finally{n=l=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},O2=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=pl.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=pl.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return ZE(this,void 0,void 0,function(){var e,i,n,a,l,f,p;return KE(this,function(v){switch(v.label){case 0:return e=function(x){for(var S=x.getVideoTracks(),M=0,k=S;M<k.length;M++){var A=k[M];A.enabled=!1,A.stop(),x.removeTrack(A)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return i=v.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=v.sent(),a=[],l=0,f=n;l<f.length;l++)p=f[l],p.kind==="videoinput"&&a.push({id:p.deviceId,label:p.label});return e(i),[2,a]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,i){var n=function(l){for(var f=[],p=0,v=l;p<v.length;p++){var x=v[p];x.kind==="video"&&f.push({id:x.id,label:x.label})}e(f)},a=MediaStreamTrack;a.getSources(n)})},t}();var Zn=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED",t}(Zn||{}),JE=function(){function t(){this.state=Zn.NOT_STARTED,this.onGoingTransactionNewState=Zn.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Zn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Zn.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Zn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Zn.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Zn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case Zn.UNKNOWN:throw"Transition from unknown is not allowed";case Zn.NOT_STARTED:this.failIfNewStateIs(e,[Zn.PAUSED]);break;case Zn.SCANNING:break;case Zn.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,i){for(var n=0,a=i;n<a.length;n++){var l=a[n];if(e===l)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t}(),$E=function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Zn.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Zn.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Zn.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Zn.PAUSED},t}();var R2=function(){function t(){}return t.create=function(){return new $E(new JE)},t}();var ex=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(n[l]=a[l])},t(e,i)};return function(e,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");t(e,i);function n(){this.constructor=e}e.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}}(),ta=function(t){ex(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(jo),tx=function(){function t(e,i){this.logger=i,this.fps=ta.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=ta.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?ih.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!va(this.qrbox)},t.create=function(e,i){return new t(e,i)},t}(),S1=function(){function t(e,i){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var n,a;typeof i=="boolean"?this.verbose=i===!0:i&&(a=i,this.verbose=a.verbose===!0,n=a.experimentalFeatures),this.logger=new w1(this.verbose),this.qrcode=new I2(this.getSupportedFormats(i),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=R2.create()}return t.prototype.start=function(e,i,n,a){var l=this;if(!e)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var f;a?f=a:f=this.verbose?this.logger.log:function(){};var p=tx.create(i,this.logger);this.clearElement();var v=!1;p.videoConstraints&&(p.isMediaStreamConstraintsValid()?v=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=v,S=document.getElementById(this.elementId),M=S.clientWidth?S.clientWidth:ta.DEFAULT_WIDTH;S.style.position="relative",this.shouldScan=!0,this.element=S;var k=this,A=this.stateManagerProxy.startTransition(Zn.SCANNING);return new Promise(function($,z){var K=x?p.videoConstraints:k.createVideoConstraints(e);if(!K){A.cancel(),z("videoConstraints should be defined");return}var U={};(!x||p.aspectRatio)&&(U.aspectRatio=p.aspectRatio);var Y={onRenderSurfaceReady:function(ge,xe){k.setupUi(ge,xe,p),k.isScanning=!0,k.foreverScan(p,n,f)}};D2.failIfNotSupported().then(function(ge){ge.create(K).then(function(xe){return xe.render(l.element,U,Y).then(function(ce){k.renderedCamera=ce,A.execute(),$(null)}).catch(function(ce){A.cancel(),z(ce)})}).catch(function(xe){A.cancel(),z(pl.errorGettingUserMedia(xe))})}).catch(function(ge){A.cancel(),z(pl.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Zn.PAUSED),this.showPausedState(),(va(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,i=function(){e.stateManagerProxy.directTransition(Zn.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){i();return}this.renderedCamera.resume(function(){i()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var i=this.stateManagerProxy.startTransition(Zn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(e.element){var l=document.getElementById(ta.SHADED_REGION_ELEMENT_ID);l&&e.element.removeChild(l)}},a=this;return this.renderedCamera.close().then(function(){return a.renderedCamera=null,a.element&&(a.element.removeChild(a.canvasElement),a.canvasElement=null),n(),a.qrRegion&&(a.qrRegion=null),a.context&&(a.context=null),i.execute(),a.hidePausedState(),a.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,i){return this.scanFileV2(e,i).then(function(n){return n.decodedText})},t.prototype.scanFileV2=function(e,i){var n=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(va(i)&&(i=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(a,l){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(e);var f=new Image;f.onload=function(){var p=f.width,v=f.height,x=document.getElementById(n.elementId),S=x.clientWidth?x.clientWidth:ta.DEFAULT_WIDTH,M=Math.max(x.clientHeight?x.clientHeight:v,ta.FILE_SCAN_MIN_HEIGHT),k=n.computeCanvasDrawConfig(p,v,S,M);if(i){var A=n.createCanvasElement(S,M,"qr-canvas-visible");A.style.display="inline-block",x.appendChild(A);var $=A.getContext("2d");if(!$)throw"Unable to get 2d context from canvas";$.canvas.width=S,$.canvas.height=M,$.drawImage(f,0,0,p,v,k.x,k.y,k.width,k.height)}var z=ta.FILE_SCAN_HIDDEN_CANVAS_PADDING,K=Math.max(f.width,k.width),U=Math.max(f.height,k.height),Y=K+2*z,ge=U+2*z,xe=n.createCanvasElement(Y,ge);x.appendChild(xe);var ce=xe.getContext("2d");if(!ce)throw"Unable to get 2d context from canvas";ce.canvas.width=Y,ce.canvas.height=ge,ce.drawImage(f,0,0,p,v,z,z,K,U);try{n.qrcode.decodeRobustlyAsync(xe).then(function(Re){a(eh.createFromQrcodeResult(Re))}).catch(l)}catch(Re){l("QR code parse error, error = ".concat(Re))}},f.onerror=l,f.onabort=l,f.onstalled=l,f.onsuspend=l,f.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return O2.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!ih.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var i=[It.QR_CODE,It.AZTEC,It.CODABAR,It.CODE_39,It.CODE_93,It.CODE_128,It.DATA_MATRIX,It.MAXICODE,It.ITF,It.EAN_13,It.EAN_8,It.PDF_417,It.RSS_14,It.RSS_EXPANDED,It.UPC_A,It.UPC_E,It.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return i;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],a=0,l=e.formatsToSupport;a<l.length;a++){var f=l[a];y2(f)?n.push(f):this.logger.warn("Invalid format: ".concat(f," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(va(e))return!0;if(!va(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(va(e.experimentalFeatures))return!0;var i=e.experimentalFeatures;return va(i.useBarCodeDetectorIfSupported)?!0:i.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,i,n){var a=this,l=n.qrbox;this.validateQrboxConfig(l);var f=this.toQrdimensions(e,i,l),p=function(x){if(x<ta.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ta.MIN_QR_BOX_SIZE,"px.")},v=function(x){return x>e&&(a.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=e),x};p(f.width),p(f.height),f.width=v(f.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,i,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(e,i)}catch(a){throw new Error("qrbox config was passed as a function but it failed with unknown error"+a)}return n},t.prototype.setupUi=function(e,i,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(e,i,n);var a=va(n.qrbox)?{width:e,height:i}:n.qrbox;this.validateQrboxConfig(a);var l=this.toQrdimensions(e,i,a);l.height>i&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var f=n.isShadedBoxEnabled()&&l.height<=i,p={x:0,y:0,width:e,height:i},v=f?this.getShadedRegionBounds(e,i,l):p,x=this.createCanvasElement(v.width,v.height),S={willReadFrequently:!0},M=x.getContext("2d",S);M.canvas.width=v.width,M.canvas.height=v.height,this.element.append(x),f&&this.possiblyInsertShadingElement(this.element,e,i,l),this.createScannerPausedUiElement(this.element),this.qrRegion=v,this.context=M,this.canvasElement=x},t.prototype.createScannerPausedUiElement=function(e){var i=document.createElement("div");i.innerText=pl.scannerPaused(),i.style.display="none",i.style.position="absolute",i.style.top="0px",i.style.zIndex="1",i.style.background="rgba(9, 9, 9, 0.46)",i.style.color="#FFECEC",i.style.textAlign="center",i.style.width="100%",e.appendChild(i),this.scannerPausedUiElement=i},t.prototype.scanContext=function(e,i){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(a){return e(a.text,eh.createFromQrcodeResult(a)),n.possiblyUpdateShaders(!0),!0}).catch(function(a){n.possiblyUpdateShaders(!1);var l=pl.codeParseError(a);return i(l,y1.createFrom(l)),!1})},t.prototype.foreverScan=function(e,i,n){var a=this;if(this.shouldScan&&this.renderedCamera){var l=this.renderedCamera.getSurface(),f=l.videoWidth/l.clientWidth,p=l.videoHeight/l.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var v=this.qrRegion.width*f,x=this.qrRegion.height*p,S=this.qrRegion.x*f,M=this.qrRegion.y*p;this.context.drawImage(l,S,M,v,x,0,0,this.qrRegion.width,this.qrRegion.height);var k=function(){a.foreverScanTimeout=setTimeout(function(){a.foreverScan(e,i,n)},a.getTimeoutFps(e.fps))};this.scanContext(i,n).then(function(A){!A&&e.disableFlip!==!0?(a.context.translate(a.context.canvas.width,0),a.context.scale(-1,1),a.scanContext(i,n).finally(function(){k()})):k()}).catch(function(A){a.logger.logError("Error happend while scanning context",A),k()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var i="facingMode",n="deviceId",a={user:!0,environment:!0},l="exact",f=function($){if($ in a)return!0;throw"config has invalid 'facingMode' value = "+"'".concat($,"'")},p=Object.keys(e);if(p.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(p.length," keys");var v=Object.keys(e)[0];if(v!==i&&v!==n)throw"Only '".concat(i,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(v===i){var x=e.facingMode;if(typeof x=="string"){if(f(x))return{facingMode:x}}else if(typeof x=="object")if(l in x){if(f(x["".concat(l)]))return{facingMode:{exact:x["".concat(l)]}}}else throw"'facingMode' should be string or object with"+" ".concat(l," as key.");else{var S=typeof x;throw"Invalid type of 'facingMode' = ".concat(S)}}else{var M=e.deviceId;if(typeof M=="string")return{deviceId:M};if(typeof M=="object"){if(l in M)return{deviceId:{exact:M["".concat(l)]}};throw"'deviceId' should be string or object with"+" ".concat(l," as key.")}else{var k=typeof M;throw"Invalid type of 'deviceId' = ".concat(k)}}}var A=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(A)},t.prototype.computeCanvasDrawConfig=function(e,i,n,a){if(e<=n&&i<=a){var l=(n-e)/2,f=(a-i)/2;return{x:l,y:f,width:e,height:i}}else{var p=e,v=i;return e>n&&(i=n/e*i,e=n),i>a&&(e=a/i*e,i=a),this.logger.log("Image downsampled from "+"".concat(p,"X").concat(v)+" to ".concat(e,"X").concat(i,".")),this.computeCanvasDrawConfig(e,i,n,a)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(i){i.style.backgroundColor=e?ta.BORDER_SHADER_MATCH_COLOR:ta.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,i,n){var a=e,l=i,f=document.createElement("canvas");return f.style.width="".concat(a,"px"),f.style.height="".concat(l,"px"),f.style.display="none",f.id=va(n)?"qr-canvas":n,f},t.prototype.getShadedRegionBounds=function(e,i,n){if(n.width>e||n.height>i)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-n.width)/2,y:(i-n.height)/2,width:n.width,height:n.height}},t.prototype.possiblyInsertShadingElement=function(e,i,n,a){if(!(i-a.width<1||n-a.height<1)){var l=document.createElement("div");l.style.position="absolute";var f=(i-a.width)/2,p=(n-a.height)/2;if(l.style.borderLeft="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderRight="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderTop="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderBottom="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),l.style.boxSizing="border-box",l.style.top="0px",l.style.bottom="0px",l.style.left="0px",l.style.right="0px",l.id="".concat(ta.SHADED_REGION_ELEMENT_ID),i-a.width<11||n-a.height<11)this.hasBorderShaders=!1;else{var v=5,x=40;this.insertShaderBorders(l,x,v,-v,null,0,!0),this.insertShaderBorders(l,x,v,-v,null,0,!1),this.insertShaderBorders(l,x,v,null,-v,0,!0),this.insertShaderBorders(l,x,v,null,-v,0,!1),this.insertShaderBorders(l,v,x+v,-v,null,-v,!0),this.insertShaderBorders(l,v,x+v,null,-v,-v,!0),this.insertShaderBorders(l,v,x+v,-v,null,-v,!1),this.insertShaderBorders(l,v,x+v,null,-v,-v,!1),this.hasBorderShaders=!0}e.append(l)}},t.prototype.insertShaderBorders=function(e,i,n,a,l,f,p){var v=document.createElement("div");v.style.position="absolute",v.style.backgroundColor=ta.BORDER_SHADER_DEFAULT_COLOR,v.style.width="".concat(i,"px"),v.style.height="".concat(n,"px"),a!==null&&(v.style.top="".concat(a,"px")),l!==null&&(v.style.bottom="".concat(l,"px")),p?v.style.left="".concat(f,"px"):v.style.right="".concat(f,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(v),e.appendChild(v)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t}();var ah="data:image/svg+xml;base64,",P2=ah+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",k2=ah+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",sh=ah+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",B2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=";var F2=function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t}(),U2=function(){function t(){this.data=F2.createDefault();var e=localStorage.getItem(t.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},t.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=F2.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t}();var ix=function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=th.poweredBy();var i=document.createElement("a");i.innerText="ScanApp",i.href="https://scanapp.org",i.target="new",i.style.color="white",this.infoDiv.appendChild(i);var n=document.createElement("br"),a=document.createElement("br");this.infoDiv.appendChild(n),this.infoDiv.appendChild(a);var l=document.createElement("a");l.innerText=th.reportIssues(),l.href="https://github.com/mebjas/html5-qrcode/issues",l.target="new",l.style.color="white",this.infoDiv.appendChild(l),e.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t}(),nx=function(){function t(e,i){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=i,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(e){var i=this;this.infoIcon.alt="Info icon",this.infoIcon.src=sh,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(n){return i.onHoverIn()},this.infoIcon.onmouseout=function(n){return i.onHoverOut()},this.infoIcon.onclick=function(n){return i.onClick()},e.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=B2,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=sh,this.infoIcon.style.opacity="0.6")},t}(),j2=function(){function t(){var e=this;this.infoDiv=new ix,this.infoIcon=new nx(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return t.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},t}();var rx=function(t,e,i,n){function a(l){return l instanceof i?l:new i(function(f){f(l)})}return new(i||(i=Promise))(function(l,f){function p(S){try{x(n.next(S))}catch(M){f(M)}}function v(S){try{x(n.throw(S))}catch(M){f(M)}}function x(S){S.done?l(S.value):a(S.value).then(p,v)}x((n=n.apply(t,e||[])).next())})},ox=function(t,e){var i={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},n,a,l,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(x){return function(S){return v([x,S])}}function v(x){if(n)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(i=0)),i;)try{if(n=1,a&&(l=x[0]&2?a.return:x[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,x[1])).done)return l;switch(a=0,l&&(x=[x[0]&2,l.value]),x[0]){case 0:case 1:l=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,a=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(l=i.trys,!(l=l.length>0&&l[l.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!l||x[1]>l[0]&&x[1]<l[3])){i.label=x[1];break}if(x[0]===6&&i.label<l[1]){i.label=l[1],l=x;break}if(l&&i.label<l[2]){i.label=l[2],i.ops.push(x);break}l[2]&&i.ops.pop(),i.trys.pop();continue}x=e.call(t,i)}catch(S){x=[6,S],a=0}finally{n=l=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},lh=function(){function t(){}return t.hasPermissions=function(){return rx(this,void 0,void 0,function(){var e,i,n,a;return ox(this,function(l){switch(l.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=l.sent(),i=0,n=e;i<n.length;i++)if(a=n[i],a.kind==="videoinput"&&a.label)return[2,!0];return[2,!1]}})})},t}();var Es=function(){function t(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var e=0,i=this.supportedScanTypes;e<i.length;e++){var n=i[e];if(t.isCameraScanType(n))return!0}return!1},t.isCameraScanType=function(e){return e===Ja.SCAN_TYPE_CAMERA},t.isFileScanType=function(e){return e===Ja.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return jo.DEFAULT_SUPPORTED_SCAN_TYPE;var i=jo.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>i)throw"Max ".concat(i," values expected for ")+"supportedScanTypes";for(var n=0,a=e;n<a.length;n++){var l=a[n];if(!jo.DEFAULT_SUPPORTED_SCAN_TYPE.includes(l))throw"Unsupported scan type ".concat(l)}return e},t}();var Zr=function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t}();var Vo=function(){function t(){}return t.createElement=function(e,i){var n=document.createElement(e);return n.id=i,n.classList.add(Zr.ALL_ELEMENT_CLASS),e==="button"&&n.setAttribute("type","button"),n},t}();var q2=function(t,e,i,n){function a(l){return l instanceof i?l:new i(function(f){f(l)})}return new(i||(i=Promise))(function(l,f){function p(S){try{x(n.next(S))}catch(M){f(M)}}function v(S){try{x(n.throw(S))}catch(M){f(M)}}function x(S){S.done?l(S.value):a(S.value).then(p,v)}x((n=n.apply(t,e||[])).next())})},z2=function(t,e){var i={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},n,a,l,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(x){return function(S){return v([x,S])}}function v(x){if(n)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(i=0)),i;)try{if(n=1,a&&(l=x[0]&2?a.return:x[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,x[1])).done)return l;switch(a=0,l&&(x=[x[0]&2,l.value]),x[0]){case 0:case 1:l=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,a=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(l=i.trys,!(l=l.length>0&&l[l.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!l||x[1]>l[0]&&x[1]<l[3])){i.label=x[1];break}if(x[0]===6&&i.label<l[1]){i.label=l[1],l=x;break}if(l&&i.label<l[2]){i.label=l[2],i.ops.push(x);break}l[2]&&i.ops.pop(),i.trys.pop();continue}x=e.call(t,i)}catch(S){x=[6,S],a=0}finally{n=l=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},V2=function(){function t(e,i,n){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=i,this.onTorchActionFailureCallback=n}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return q2(this,void 0,void 0,function(){var e,i;return z2(this,function(n){switch(n.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return n.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return i=n.sent(),this.propagateFailure(e,i),this.buttonController.enable(),[3,4];case 4:return[2]}})})},t.prototype.updateUiBasedOnLatestSettings=function(e,i){e===i?(this.buttonController.setText(i?ji.torchOffButton():ji.torchOnButton()),this.isTorchOn=i):this.propagateFailure(i),this.buttonController.enable()},t.prototype.propagateFailure=function(e,i){var n=e?ji.torchOnFailedMessage():ji.torchOffFailedMessage();i&&(n+="; Error = "+i),this.onTorchActionFailureCallback(n)},t.prototype.reset=function(){this.isTorchOn=!1},t}(),H2=function(){function t(e,i){this.onTorchActionFailureCallback=i,this.torchButton=Vo.createElement("button",Zr.TORCH_BUTTON_ID),this.torchController=new V2(e,this,i)}return t.prototype.render=function(e,i){var n=this;this.torchButton.innerText=ji.torchOnButton(),this.torchButton.style.display=i.display,this.torchButton.style.marginLeft=i.marginLeft;var a=this;this.torchButton.addEventListener("click",function(l){return q2(n,void 0,void 0,function(){return z2(this,function(f){switch(f.label){case 0:return[4,a.torchController.flipState()];case 1:return f.sent(),a.torchController.isTorchEnabled()?(a.torchButton.classList.remove(Zr.TORCH_BUTTON_CLASS_TORCH_OFF),a.torchButton.classList.add(Zr.TORCH_BUTTON_CLASS_TORCH_ON)):(a.torchButton.classList.remove(Zr.TORCH_BUTTON_CLASS_TORCH_ON),a.torchButton.classList.add(Zr.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(e){this.torchController=new V2(e,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(e){this.torchButton.innerText=e},t.prototype.reset=function(){this.torchButton.innerText=ji.torchOnButton(),this.torchController.reset()},t.create=function(e,i,n,a){var l=new t(i,a);return l.render(e,n),l},t}();var G2=function(){function t(e,i,n){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=i?"block":"none",e.appendChild(this.fileBasedScanRegion);var a=document.createElement("label");a.setAttribute("for",this.getFileScanInputId()),a.style.display="inline-block",this.fileBasedScanRegion.appendChild(a),this.fileSelectionButton=Vo.createElement("button",Zr.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(p){a.click()}),a.append(this.fileSelectionButton),this.fileScanInput=Vo.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",a.appendChild(this.fileScanInput);var l=this;this.fileScanInput.addEventListener("change",function(p){if(!(p==null||p.target==null)){var v=p.target;if(!(v.files&&v.files.length===0)){var x=v.files,S=x[0],M=S.name;l.setImageNameToButton(M),n(S)}}});var f=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(f),this.fileBasedScanRegion.addEventListener("dragenter",function(p){l.fileBasedScanRegion.style.border=l.fileBasedScanRegionActiveBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(p){l.fileBasedScanRegion.style.border=l.fileBasedScanRegionDefaultBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(p){l.fileBasedScanRegion.style.border=l.fileBasedScanRegionActiveBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(p){p.stopPropagation(),p.preventDefault(),l.fileBasedScanRegion.style.border=l.fileBasedScanRegionDefaultBorder();var v=p.dataTransfer;if(v){var x=v.files;if(!x||x.length===0)return;for(var S=!1,M=0;M<x.length;++M){var k=x.item(M);if(k){var A=/image.*/;if(k.type.match(A)){S=!0;var $=k.name;l.setImageNameToButton($),n(k),f.innerText=ji.dragAndDropMessage();break}}}S||(f.innerText=ji.dragAndDropMessageOnlyImages())}})}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=ji.dragAndDropMessage(),e.style.fontWeight="400",e},t.prototype.setImageNameToButton=function(e){var i=20;if(e.length>i){var n=e.substring(0,8),a=e.length,l=e.substring(a-8,a);e="".concat(n,"....").concat(l)}var f=ji.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=f},t.prototype.setInitialValueToButton=function(){var e=ji.fileSelectionChooseImage()+" - "+ji.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(e,i,n){var a=new t(e,i,n);return a},t}();var W2=function(){function t(e){this.selectElement=Vo.createElement("select",Zr.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return t.prototype.render=function(e){var i=document.createElement("span");i.style.marginRight="10px";var n=this.cameras.length;if(n===0)throw new Error("No cameras found");if(n===1)i.style.display="none";else{var a=ji.selectCamera();i.innerText="".concat(a," (").concat(this.cameras.length,")  ")}for(var l=1,f=0,p=this.cameras;f<p.length;f++){var v=p[f],x=v.id,S=v.label==null?x:v.label;(!S||S==="")&&(S=[ji.anonymousCameraPrefix(),l++].join(" "));var M=document.createElement("option");M.value=x,M.innerText=S,this.options.push(M),this.selectElement.appendChild(M)}i.appendChild(this.selectElement),e.appendChild(i)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return this.selectElement.disabled===!0},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(e){for(var i=0,n=this.options;i<n.length;i++){var a=n[i];if(a.value===e)return!0}return!1},t.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},t.prototype.hasSingleItem=function(){return this.cameras.length===1},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(e,i){var n=new t(i);return n.render(e),n},t}();var Y2=function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Vo.createElement("input",Zr.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(e,i){this.zoomElementContainer.style.display=i?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var n=ji.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.rangeText.style.marginRight="10px";var a=this;this.rangeInput.addEventListener("input",function(){return a.onValueChange()}),this.rangeInput.addEventListener("change",function(){return a.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var e=ji.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(e,i,n,a){this.rangeInput.min=e.toString(),this.rangeInput.max=i.toString(),this.rangeInput.step=a.toString(),this.rangeInput.value=n.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(e,i){var n=new t;return n.render(e,i),n},t}();var Ea=function(t){return t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION",t}(Ea||{});function ax(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}function sx(t,e){return{formatsToSupport:t.formatsToSupport,useBarCodeDetectorIfSupported:t.useBarCodeDetectorIfSupported,experimentalFeatures:t.experimentalFeatures,verbose:e}}var ch=function(){function t(e,i,n){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(i),this.verbose=n===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new Es(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new w1(this.verbose),this.persistedDataManager=new U2,i.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return t.prototype.render=function(e,i){var n=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(l,f){if(e)e(l,f);else{if(n.lastMatchFound===l)return;n.lastMatchFound=l,n.setHeaderMessage(ji.lastMatch(l),Ea.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(l,f){i&&i(l,f)};var a=document.getElementById(this.elementId);if(!a)throw"HTML Element with id=".concat(this.elementId," not found");a.innerHTML="",this.createBasicLayout(a),this.html5Qrcode=new S1(this.getScanRegionId(),sx(this.config,this.verbose))},t.prototype.pause=function(e){(va(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var e=this,i=function(){var n=document.getElementById(e.elementId);n&&(n.innerHTML="",e.resetBasicLayout(n))};return this.html5Qrcode?new Promise(function(n,a){if(!e.html5Qrcode){n();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(l){if(!e.html5Qrcode){n();return}e.html5Qrcode.clear(),i(),n()}).catch(function(l){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",l),a(l)}):(e.html5Qrcode.clear(),i(),n())}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(e){return e?(e.fps||(e.fps=jo.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!jo.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=jo.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=jo.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:jo.SCAN_DEFAULT_FPS,rememberLastUsedCamera:jo.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:jo.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var i=document.createElement("div"),n=this.getScanRegionId();i.id=n,i.style.width="100%",i.style.minHeight="100px",i.style.textAlign="center",e.appendChild(i),Es.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var a=document.createElement("div"),l=this.getDashboardId();a.id=l,a.style.width="100%",e.appendChild(a),this.setupInitialDashboard(a)},t.prototype.resetBasicLayout=function(e){e.style.border="none"},t.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(e){var i=document.createElement("div");i.style.textAlign="left",i.style.margin="0px",e.appendChild(i);var n=new j2;n.renderInto(i);var a=document.createElement("div");a.id=this.getHeaderMessageContainerId(),a.style.display="none",a.style.textAlign="center",a.style.fontSize="14px",a.style.padding="2px 10px",a.style.margin="4px",a.style.borderTop="1px solid #f6f6f6",i.appendChild(a)},t.prototype.createSection=function(e){var i=document.createElement("div");i.id=this.getDashboardSectionId(),i.style.width="100%",i.style.padding="10px 0px 10px 0px",i.style.textAlign="left",e.appendChild(i)},t.prototype.createCameraListUi=function(e,i,n){var a=this;a.showHideScanTypeSwapLink(!1),a.setHeaderMessage(ji.cameraPermissionRequesting());var l=function(){n||a.createPermissionButton(e,i)};S1.getCameras().then(function(f){a.persistedDataManager.setHasPermission(!0),a.showHideScanTypeSwapLink(!0),a.resetHeaderMessage(),f&&f.length>0?(e.removeChild(i),a.renderCameraSelection(f)):(a.setHeaderMessage(ji.noCameraFound(),Ea.STATUS_WARNING),l())}).catch(function(f){a.persistedDataManager.setHasPermission(!1),n?n.disabled=!1:l(),a.setHeaderMessage(f,Ea.STATUS_WARNING),a.showHideScanTypeSwapLink(!0)})},t.prototype.createPermissionButton=function(e,i){var n=this,a=Vo.createElement("button",this.getCameraPermissionButtonId());a.innerText=ji.cameraPermissionTitle(),a.addEventListener("click",function(){a.disabled=!0,n.createCameraListUi(e,i,a)}),i.appendChild(a)},t.prototype.createPermissionsUi=function(e,i){var n=this;if(Es.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){lh.hasPermissions().then(function(a){a?n.createCameraListUi(e,i):(n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(e,i))}).catch(function(a){n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(e,i)});return}this.createPermissionButton(e,i)},t.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),i=document.createElement("div");e.appendChild(i);var n=document.createElement("div");n.id=this.getDashboardSectionCameraScanRegionId(),n.style.display=Es.isCameraScanType(this.currentScanType)?"block":"none",i.appendChild(n);var a=document.createElement("div");a.style.textAlign="center",n.appendChild(a),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(n,a),this.renderFileScanUi(i)},t.prototype.renderFileScanUi=function(e){var i=Es.isFileScanType(this.currentScanType),n=this,a=function(l){if(!n.html5Qrcode)throw"html5Qrcode not defined";Es.isFileScanType(n.currentScanType)&&(n.setHeaderMessage(ji.loadingImage()),n.html5Qrcode.scanFileV2(l,!0).then(function(f){n.resetHeaderMessage(),n.qrCodeSuccessCallback(f.decodedText,f)}).catch(function(f){n.setHeaderMessage(f,Ea.STATUS_WARNING),n.qrCodeErrorCallback(f,y1.createFrom(f))}))};this.fileSelectionUi=G2.create(e,i,a)},t.prototype.renderCameraSelection=function(e){var i=this,n=this,a=document.getElementById(this.getDashboardSectionCameraScanRegionId());a.style.textAlign="center";var l=Y2.create(a,!1),f=function(z){var K=z.zoomFeature();if(K.isSupported()){l.setOnCameraZoomValueChangeCallback(function(Y){K.apply(Y)});var U=1;i.config.defaultZoomValueIfSupported&&(U=i.config.defaultZoomValueIfSupported),U=_2(U,K.min(),K.max()),l.setValues(K.min(),K.max(),U,K.step()),l.show()}},p=W2.create(a,e),v=document.createElement("span"),x=Vo.createElement("button",Zr.CAMERA_START_BUTTON_ID);x.innerText=ji.scanButtonStartScanningText(),v.appendChild(x);var S=Vo.createElement("button",Zr.CAMERA_STOP_BUTTON_ID);S.innerText=ji.scanButtonStopScanningText(),S.style.display="none",S.disabled=!0,v.appendChild(S);var M,k=function(z){if(!z.torchFeature().isSupported()){M&&M.hide();return}M?M.updateTorchCapability(z.torchFeature()):M=H2.create(v,z.torchFeature(),{display:"none",marginLeft:"5px"},function(K){n.setHeaderMessage(K,Ea.STATUS_WARNING)}),M.show()};a.appendChild(v);var A=function(z){z||(x.style.display="none"),x.innerText=ji.scanButtonStartScanningText(),x.style.opacity="1",x.disabled=!1,z&&(x.style.display="inline-block")};if(x.addEventListener("click",function(z){x.innerText=ji.scanButtonScanningStarting(),p.disable(),x.disabled=!0,x.style.opacity="0.5",i.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!1),n.resetHeaderMessage();var K=p.getValue();n.persistedDataManager.setLastUsedCameraId(K),n.html5Qrcode.start(K,ax(n.config),n.qrCodeSuccessCallback,n.qrCodeErrorCallback).then(function(U){S.disabled=!1,S.style.display="inline-block",A(!1);var Y=n.html5Qrcode.getRunningTrackCameraCapabilities();i.config.showTorchButtonIfSupported===!0&&k(Y),i.config.showZoomSliderIfSupported===!0&&f(Y)}).catch(function(U){n.showHideScanTypeSwapLink(!0),p.enable(),A(!0),n.setHeaderMessage(U,Ea.STATUS_WARNING)})}),p.hasSingleItem()&&x.click(),S.addEventListener("click",function(z){if(!n.html5Qrcode)throw"html5Qrcode not defined";S.disabled=!0,n.html5Qrcode.stop().then(function(K){i.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!0),p.enable(),x.disabled=!1,S.style.display="none",x.style.display="inline-block",M&&(M.reset(),M.hide()),l.removeOnCameraZoomValueChangeCallback(),l.hide(),n.insertCameraScanImageToScanRegion()}).catch(function(K){S.disabled=!1,n.setHeaderMessage(K,Ea.STATUS_WARNING)})}),n.persistedDataManager.getLastUsedCameraId()){var $=n.persistedDataManager.getLastUsedCameraId();p.hasValue($)?(p.setValue($),x.click()):n.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var e=this,i=ji.textIfCameraScanSelected(),n=ji.textIfFileScanSelected(),a=document.getElementById(this.getDashboardSectionId()),l=document.createElement("div");l.style.textAlign="center";var f=Vo.createElement("span",this.getDashboardSectionSwapLinkId());f.style.textDecoration="underline",f.style.cursor="pointer",f.innerText=Es.isCameraScanType(this.currentScanType)?i:n,f.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,Es.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),f.innerText=n,e.currentScanType=Ja.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),f.innerText=i,e.currentScanType=Ja.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),l.appendChild(f),a.appendChild(l)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,i=this;if(this.persistedDataManager.hasCameraPermissions()){lh.hasPermissions().then(function(n){if(n){var a=document.getElementById(i.getCameraPermissionButtonId());if(!a)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";a.click()}else i.persistedDataManager.setHasPermission(!1)}).catch(function(n){i.persistedDataManager.setHasPermission(!1)});return}},t.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},t.prototype.setHeaderMessage=function(e,i){i||(i=Ea.STATUS_DEFAULT);var n=this.getHeaderMessageDiv();switch(n.innerText=e,n.style.display="block",i){case Ea.STATUS_SUCCESS:n.style.background="rgba(106, 175, 80, 0.26)",n.style.color="#477735";break;case Ea.STATUS_WARNING:n.style.background="rgba(203, 36, 49, 0.14)",n.style.color="#cb2431";break;case Ea.STATUS_DEFAULT:default:n.style.background="rgba(0, 0, 0, 0)",n.style.color="rgb(17, 17, 17)";break}},t.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},t.prototype.insertCameraScanImageToScanRegion=function(){var e=this,i=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){i.innerHTML="<br>",i.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(n){i.innerHTML="<br>",i.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=P2,this.cameraScanImage.alt=ji.cameraScanAltText()},t.prototype.insertFileScanImageToScanRegion=function(){var e=this,i=document.getElementById(this.getScanRegionId());if(this.fileScanImage){i.innerHTML="<br>",i.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(n){i.innerHTML="<br>",i.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=k2,this.fileScanImage.alt=ji.fileScanAltText()},t.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},t.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},t.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},t.prototype.getDashboardSectionSwapLinkId=function(){return Zr.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},t.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},t.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},t.prototype.getCameraPermissionButtonId=function(){return Zr.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},t}();var A1=(()=>{let e=class e{constructor(){this.inChecks=[],this.inChecks$=new Nr}onInChecksListener(){return this.inChecks$.asObservable()}setInChecks(n){this.inChecks=n,this.inChecks$.next(this.inChecks.slice())}getInChecks(){return this.inChecks.slice()}getInCheckByInventoryId(n){return this.inChecks.find(a=>a.Inventory.id===n)}getInChecksTable(){return this.inChecks.map((n,a)=>({no:a+1,id:n.Inventory.id,track:n.Inventory.track,image:n.Inventory.image,code:n.Inventory.code,year:n.year+543,category:n.Inventory.Category.name,status:n.Inventory.Status.name,usage:n.Inventory.Usage.name,description:n.Inventory.description})).slice()}createInCheck(n){this.inChecks.push(n),this.inChecks$.next(this.inChecks.slice())}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=hi({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var I1=(()=>{let e=class e{constructor(n,a){this.http=n,this.inventoryCheckService=a,this.apiUrl=Mi.apiUrl+"inventory-check"}getAllInChecks(){return this.http.get(this.apiUrl).pipe(ko(n=>fr(200).pipe(Fn(()=>n))),qt(n=>this.inventoryCheckService.setInChecks(n)))}getInChecksByYear(n){return this.http.get(`${this.apiUrl}/year/${n}`).pipe(ko(a=>fr(200).pipe(Fn(()=>a))),qt(a=>this.inventoryCheckService.setInChecks(a)))}getInCheckById(n){return this.http.get(`${this.apiUrl}/id/${n}`)}createInCheck(n){return this.http.post(this.apiUrl,n).pipe(qt(a=>{this.inventoryCheckService.getInCheckByInventoryId(a.inventoryCheck.Inventory.id)||this.inventoryCheckService.createInCheck(a.inventoryCheck)}))}};e.\u0275fac=function(a){return new(a||e)(_i(Pr),_i(A1))},e.\u0275prov=hi({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $a=(()=>{let e=class e{transform(n){if(n.length<50)return n;let l=n.slice(0,50),f=l.lastIndexOf(" ");return l.slice(0,f)+" ..."}};e.\u0275fac=function(a){return new(a||e)},e.\u0275pipe=Nu({name:"cutDetail",type:e,pure:!0});let t=e;return t})();var ux=["searchInput"],fx=["qrBox"],hx=t=>({blur:t}),dx=()=>[10,25,50,100],mx=t=>["../inventory/view",t];function px(t,e){if(t&1){let i=St();I(0,"button",33),Ye("click",function(){Xe(i);let a=We();return Qe(a.clearSearchInput())}),I(1,"mat-icon"),D(2,"close"),N()()}}function gx(t,e){t&1&&he(0,"mat-progress-bar",15)}function vx(t,e){t&1&&(I(0,"mat-header-cell",34),D(1,"\u0E23\u0E39\u0E1B"),N())}function Ex(t,e){if(t&1&&(I(0,"mat-cell")(1,"a",35),he(2,"img",36),N()()),t&2){let i=e.$implicit,n=We();P(),se("routerLink",Bo(3,mx,i.id)),P(),se("defaultImage","assets/images/no-image.jpg")("lazyLoad",n.imageUrl+i.image)}}function xx(t,e){t&1&&(I(0,"mat-header-cell",34),D(1,"\u0E23\u0E2B\u0E31\u0E2A\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C"),N())}function yx(t,e){if(t&1&&(I(0,"mat-cell"),D(1),N()),t&2){let i=e.$implicit;P(),_t(" ",i.code," ")}}function wx(t,e){t&1&&(I(0,"mat-header-cell",34),D(1,"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C"),N())}function _x(t,e){if(t&1&&(I(0,"mat-cell"),D(1),hn(2,"cutDetail"),N()),t&2){let i=e.$implicit;P(),_t(" ",Pn(2,1,i.description)," ")}}function bx(t,e){t&1&&he(0,"mat-header-cell")}function Cx(t,e){if(t&1){let i=St();I(0,"mat-cell",37)(1,"button",38),Ye("click",function(){let a=Xe(i).$implicit,l=We();return Qe(l.onDeleteInventory(a.id))}),I(2,"mat-icon",39),D(3,"close"),N()()()}}function Sx(t,e){t&1&&he(0,"mat-header-row")}function Ax(t,e){t&1&&he(0,"mat-row")}var uh=function(t){return t[t.Search=0]="Search",t[t.Camera=1]="Camera",t}(uh||{}),Q2=function(t){return t[t.QRcode=0]="QRcode",t[t.Barcode=1]="Barcode",t}(Q2||{}),Z2=(()=>{let e=class e{constructor(){this.subscription=new Ri,this.formBuilder=_e(zn),this.scanService=_e(v2),this.scanApiService=_e(E2),this.inventoryService=_e(Qr),this.inventoryCheckApiService=_e(I1),this.toastService=_e(Gn),this.validationService=_e(an),this.platform=_e(Ac),this.title="\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23 \u0E15\u0E23\u0E27\u0E08\u0E2A\u0E2D\u0E1A\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C",this.selectedTap=new tl(uh.Search),this.imageUrl=Mi.imageUrl,this.form=this.initForm(),this.displayedColumns=["image","code","description","action"],this.dataSource=new Wr([]),this.isLoading=!1,this.isScanning=!1,this.isScanType=0,this.scanSize={width:0,height:0},this.html5QrcodeScanner=null}ngOnInit(){this.dataSource.data=this.scanService.getInventories(),this.subscription=this.scanService.onInventoriesListener().subscribe(n=>this.dataSource.data=n)}ngAfterViewInit(){!this.platform.ANDROID&&!this.platform.IOS&&this.searchInput.nativeElement.focus(),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}ngOnDestroy(){this.subscription.unsubscribe()}onSubmit(){let n=this.scanService.getInventories();if(this.validationService.isEmpty(n))return;let a=[];this.isLoading=!0;for(let l of n)a.push(this.inventoryCheckApiService.createInCheck({inventoryId:l.id}));Gl(a).pipe(Wl(l=>l.pipe(Ya(()=>Qn(null)))),qt(l=>l&&this.scanService.deleteInventory(l.inventoryCheck.Inventory.id)),oi(()=>this.isLoading=!1)).subscribe(l=>l&&this.toastService.success("Success",l.message))}onSearchInventory(){if(!this.search.value)return;let n=this.search.value.replace(/^\s+|\s+$/gm,"");this.onGetInventory(n)}onTapChange(n){if(n!==uh.Camera){this.qrRender&&this.qrRender.remove(),this.html5QrcodeScanner&&this.html5QrcodeScanner.clear();return}wr(()=>this.qrBox?Qn(null):_r(300).pipe(nr(()=>!!this.qrBox),br(1))).subscribe(()=>this.onStartCamera())}onStartCamera(){this.isScanning=!0,Q2.Barcode===this.isScanType?this.scanSize={width:300,height:100}:this.scanSize={width:250,height:250};let n="qrReader";this.qrRender=document.getElementById("div"),this.qrRender||(this.qrRender=document.createElement("div"),this.qrRender.id=n,this.qrRender.className="w-100",this.qrBox.nativeElement.appendChild(this.qrRender)),fr(500).pipe(oi(()=>fr(300).subscribe(()=>this.isScanning=!1))).subscribe(()=>{this.html5QrcodeScanner=new ch(n,{fps:10,qrbox:this.scanSize},!1),this.html5QrcodeScanner.render((a,l)=>this.onScanSuccess(a),(a,l)=>null)})}onScanSuccess(n){this.isScanning!=!0&&(this.isScanning=!0,this.onGetInventory(n),fr(1500).subscribe(()=>this.isScanning=!1))}onGetInventory(n){n.length===7&&this.onGetByTrack(n.toUpperCase()),n.length===28&&this.onGetByCode(n)}onGetByCode(n){if(this.scanService.getInventoryByCode(n))return this.search.setValue("");let l=this.inventoryService.getInventoryByCode(n);if(l)return this.scanService.createInventory(l),this.search.setValue("");this.isLoading=!0,this.scanApiService.getInventoryByCode(n).pipe(oi(()=>this.isLoading=!1)).subscribe(f=>{f?(this.scanService.createInventory(f),this.search.setValue("")):this.toastService.warning("",`${n} \u0E44\u0E21\u0E48\u0E1E\u0E1A\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C`)})}onGetByTrack(n){if(this.scanService.getInventoryByTrack(n))return this.search.setValue("");let l=this.inventoryService.getInventoryByTrack(n);if(l)return this.scanService.createInventory(l),this.search.setValue("");this.isLoading=!0,this.scanApiService.getInventoryByTrack(n).pipe(oi(()=>this.isLoading=!1)).subscribe(f=>{f?(this.scanService.createInventory(f),this.search.setValue("")):this.toastService.warning("",`${n} \u0E44\u0E21\u0E48\u0E1E\u0E1A\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C`)})}onDeleteInventory(n){this.scanService.deleteInventory(n)}clearSearchInput(){this.search.setValue(""),this.searchInput.nativeElement.focus()}onResetInventory(){this.scanService.resetInventory()}get search(){return this.form.controls.search}initForm(){return this.formBuilder.group({search:[""]})}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=zt({type:e,selectors:[["app-scan"]],viewQuery:function(a,l){if(a&1&&(Nt(ux,7),Nt(Ni,5),Nt(Ti,5),Nt(fx,5)),a&2){let f;Tt(f=Mt())&&(l.searchInput=f.first),Tt(f=Mt())&&(l.paginator=f.first),Tt(f=Mt())&&(l.sort=f.first),Tt(f=Mt())&&(l.qrBox=f.first)}},decls:50,vars:20,consts:[["searchInput",""],["qrBox",""],["confirmStock",""],[1,"mat-elevation-z8","mb-20"],["dynamicHeight","",3,"selectedIndexChange"],["label","\u0E40\u0E04\u0E23\u0E37\u0E48\u0E2D\u0E07\u0E2A\u0E41\u0E01\u0E19"],[1,"search-box",3,"ngSubmit","formGroup"],[1,"search-input-box"],["type","text","placeholder","\u0E04\u0E49\u0E19\u0E2B\u0E32\u0E23\u0E2B\u0E31\u0E2A\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C","formControlName","search",1,"w-100"],["type","button","matSuffix","","mat-icon-button","",1,"close"],["type","submit","matRipple","",3,"disabled"],["label","\u0E01\u0E25\u0E49\u0E2D\u0E07"],[3,"ngModelChange","change","ngModel"],[3,"value"],[3,"ngClass"],["mode","indeterminate"],[1,"mb-16","d-flex","justify-between","align-center"],["type","button","mat-button","","color","warn",3,"click"],["matSort","",3,"dataSource"],["matColumnDef","image"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","code"],["matColumnDef","description"],["matColumnDef","action"],[4,"matHeaderCellDef"],["class","p-0",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSize","pageSizeOptions"],[1,"d-flex","justify-center"],[1,"btn-submit",3,"confirm","swal","disabled"],["title","\u0E22\u0E37\u0E19\u0E22\u0E31\u0E19\u0E01\u0E32\u0E23\u0E15\u0E31\u0E14\u0E2A\u0E15\u0E47\u0E2D\u0E01","icon","question",3,"showCancelButton"],["type","button","matSuffix","","mat-icon-button","",1,"close",3,"click"],["mat-sort-header",""],[1,"blurred-img",3,"routerLink"],[3,"defaultImage","lazyLoad"],[1,"p-0"],["mat-icon-button","",3,"click"],["color","warn"]],template:function(a,l){if(a&1){let f=St();I(0,"mat-card",3)(1,"mat-tab-group",4),Ye("selectedIndexChange",function(v){return Xe(f),Qe(l.onTapChange(v))}),I(2,"mat-tab",5)(3,"mat-card-content")(4,"form",6),Ye("ngSubmit",function(){return Xe(f),Qe(l.onSearchInventory())}),I(5,"div",7),he(6,"input",8,0),Fe(8,px,3,0,"button",9),N(),I(9,"button",10),D(10,"\u0E04\u0E49\u0E19\u0E2B\u0E32"),N()()()(),I(11,"mat-tab",11)(12,"mat-card-content")(13,"mat-radio-group",12),Qs("ngModelChange",function(v){return Xe(f),Xs(l.isScanType,v)||(l.isScanType=v),Qe(v)}),Ye("change",function(){return Xe(f),Qe(l.onStartCamera())}),I(14,"mat-radio-button",13),D(15,"QR code"),N(),I(16,"mat-radio-button",13),D(17,"Barcode"),N()(),he(18,"div",14,1),N()()(),I(20,"mat-card-footer"),Fe(21,gx,1,0,"mat-progress-bar",15),N()(),I(22,"mat-card",3)(23,"mat-card-header",16)(24,"mat-card-title"),D(25),N(),I(26,"button",17),Ye("click",function(){return Xe(f),Qe(l.onResetInventory())}),D(27," \u0E23\u0E35\u0E40\u0E0B\u0E47\u0E15 "),N()(),I(28,"mat-card-content")(29,"mat-table",18),yt(30,19),Fe(31,vx,2,0,"mat-header-cell",20)(32,Ex,3,5,"mat-cell",21),wt(),yt(33,22),Fe(34,xx,2,0,"mat-header-cell",20)(35,yx,2,1,"mat-cell",21),wt(),yt(36,23),Fe(37,wx,2,0,"mat-header-cell",20)(38,_x,3,3,"mat-cell",21),wt(),yt(39,24),Fe(40,bx,1,0,"mat-header-cell",25)(41,Cx,4,0,"mat-cell",26),wt(),Fe(42,Sx,1,0,"mat-header-row",27)(43,Ax,1,0,"mat-row",28),N(),he(44,"mat-paginator",29),N()(),I(45,"div",30)(46,"button",31),Ye("confirm",function(){return Xe(f),Qe(l.onSubmit())}),D(47," \u0E15\u0E23\u0E27\u0E08\u0E2A\u0E2D\u0E1A\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C "),N()(),he(48,"swal",32,2)}if(a&2){let f=Xi(49);P(4),se("formGroup",l.form),P(4),Pt(8,l.search.value?8:-1),P(),se("disabled",l.isLoading),P(4),Ys("ngModel",l.isScanType),P(),se("value",0),P(2),se("value",1),P(2),se("ngClass",Bo(17,hx,l.isScanning)),P(3),Pt(21,l.isLoading?21:-1),P(4),ft(l.title),P(4),se("dataSource",l.dataSource),P(13),se("matHeaderRowDef",l.displayedColumns),P(),se("matRowDefColumns",l.displayedColumns),P(),se("pageSize",50)("pageSizeOptions",Cr(19,dx)),P(2),se("swal",f)("disabled",l.isLoading),P(2),se("showCancelButton",!0)}},dependencies:[Tr,Ru,In,qn,nn,An,Nn,Tn,Pi,mn,Ii,ki,Bi,co,on,rn,fo,Hn,ju,Vu,kr,Fr,qr,Ur,Br,zr,jr,Vr,Hr,Gr,Ni,Ti,Yr,Lc,Dc,ap,hl,dl,Uo,il,$a],styles:['img[_ngcontent-%COMP%]{width:100px;height:100px}.dark-theme[_nghost-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#f54831;background-color:#303030}.dark-theme[_nghost-%COMP%]   .search-box[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .search-box[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{color:#fff;background-color:#ff5722}.mat-column-image[_ngcontent-%COMP%]{flex:0 0 120px;padding-block:8px}.mat-column-code[_ngcontent-%COMP%]{flex:0 0 140px}.mat-column-description[_ngcontent-%COMP%]{min-width:200px}.mat-column-action[_ngcontent-%COMP%]{min-width:60px}.search-box[_ngcontent-%COMP%]{display:flex;max-width:850px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:12px 20px;color:#ff9800;background-color:#f1f4f7;font-size:1rem;font-weight:700;outline:none;border:none;border-radius:1.25rem 0 0 1.25rem;box-sizing:border-box}.search-box[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{flex-basis:120px;background-color:#ff9800;font-size:1rem;outline:none;border:none;border-radius:0 1.25rem 1.25rem 0;box-sizing:border-box;cursor:pointer}.search-box[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:disabled{cursor:default;opacity:.6}.search-box[_ngcontent-%COMP%]   .search-input-box[_ngcontent-%COMP%]{position:relative;flex-grow:1}.search-box[_ngcontent-%COMP%]   .search-input-box[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;top:-3px;right:-5px;color:#6c757d}.stock-field[_ngcontent-%COMP%]{margin-top:20px;width:80px}.btn-submit[_ngcontent-%COMP%]{align-items:center;appearance:none;background-clip:padding-box;background-color:initial;background-image:none;border-style:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;flex-direction:row;flex-shrink:0;font-family:Eina01,sans-serif;font-size:16px;font-weight:800;justify-content:center;line-height:24px;margin:0;min-height:64px;outline:none;overflow:visible;padding:19px 26px;pointer-events:auto;position:relative;text-align:center;text-decoration:none;text-transform:none;user-select:none;-webkit-user-select:none;touch-action:manipulation;vertical-align:middle;width:auto;word-break:keep-all;z-index:0}@media (min-width: 768px){.button-77[_ngcontent-%COMP%]{padding:19px 32px}}.btn-submit[_ngcontent-%COMP%]:before, .btn-submit[_ngcontent-%COMP%]:after{border-radius:80px}.btn-submit[_ngcontent-%COMP%]:before{background-color:#f93a1352;content:"";display:block;height:100%;left:0;overflow:hidden;position:absolute;top:0;width:100%;z-index:-2}.btn-submit[_ngcontent-%COMP%]:after{background-color:initial;background-image:linear-gradient(92.83deg,#ff7426 0,#f93a13);content:"";display:block;inset:4px;overflow:hidden;position:absolute;transition:all .1s ease-out;z-index:-1}.btn-submit[_ngcontent-%COMP%]:hover:not(:disabled):after{inset:0;transition-timing-function:ease-in}.btn-submit[_ngcontent-%COMP%]:active:not(:disabled){color:#ccc}.btn-submit[_ngcontent-%COMP%]:active:not(:disabled):after{background-image:linear-gradient(0deg,#0003,#0003),linear-gradient(92.83deg,#ff7426 0,#f93a13);inset:4px}.btn-submit[_ngcontent-%COMP%]:disabled{cursor:default;opacity:.24}']});let t=e;return t})();var K2=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=zt({type:e,selectors:[["app-log"]],decls:1,vars:0,template:function(a,l){a&1&&he(0,"router-outlet")},dependencies:[Ks]});let t=e;return t})();var Fc=(()=>{let e=class e{constructor(){this.users=[],this.users$=new Nr}onUsersListener(){return this.users$.asObservable()}setUsers(n){this.users=n,this.users$.next(this.users.slice())}getUsers(){return this.users.slice()}getUsersTable(){return this.users.map((n,a)=>yi({no:a+1},n)).slice()}createUser(n){this.users.push(n),this.users$.next(this.users.slice())}updateUser(n,a){let l=this.users.findIndex(f=>f.id===n);l!==-1&&(this.users[l]=yi(yi({},this.users[l]),a),this.users$.next(this.users.slice()))}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=hi({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Uc=(()=>{let e=class e{constructor(n,a){this.http=n,this.userService=a,this.apiUrl=Mi.apiUrl+"user"}getUsers(){return this.http.get(this.apiUrl).pipe(qt(n=>this.userService.setUsers(n)))}createUser(n){return this.http.post(this.apiUrl,n).pipe(qt(a=>this.userService.createUser(a.user)))}updateUser(n,a){return this.http.patch(`${this.apiUrl}/${n}`,a).pipe(qt(l=>this.userService.updateUser(n,l.user)))}changeUserPassword(n,a){return this.http.post(`${this.apiUrl}/password/${n}`,a)}};e.\u0275fac=function(a){return new(a||e)(_i(Pr),_i(Fc))},e.\u0275prov=hi({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var hh={patternPassword:"^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$ %^&*-]).{8,}$",validationField:{email:{required:"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38 E-mail",email:"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38 E-mail \u0E43\u0E2B\u0E49\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07 (example@gmail.com)"},password:{required:"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38 Password",pattern:"\u0E15\u0E49\u0E2D\u0E07\u0E21\u0E35\u0E15\u0E31\u0E27\u0E40\u0E25\u0E47\u0E01, \u0E15\u0E31\u0E27\u0E43\u0E2B\u0E0D\u0E48, \u0E15\u0E31\u0E27\u0E40\u0E25\u0E02, \u0E2D\u0E31\u0E01\u0E29\u0E23\u0E1E\u0E34\u0E40\u0E28\u0E29 \u0E41\u0E25\u0E30\u0E44\u0E21\u0E48\u0E15\u0E48\u0E33\u0E01\u0E27\u0E48\u0E32 8 \u0E15\u0E31\u0E27\u0E2D\u0E31\u0E01\u0E29\u0E23"},confirmPassword:{required:"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38 Confirm password",match:"Password \u0E44\u0E21\u0E48\u0E15\u0E23\u0E07\u0E01\u0E31\u0E19"},firstname:{required:"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38 \u0E0A\u0E37\u0E48\u0E2D"},lastname:{required:"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38 \u0E19\u0E32\u0E21\u0E2A\u0E01\u0E38\u0E25"},role:{required:"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38 \u0E2A\u0E34\u0E17\u0E18\u0E34",oneOf:"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E40\u0E25\u0E37\u0E2D\u0E01 user \u0E2B\u0E23\u0E37\u0E2D admin"},active:{required:"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38 \u0E2A\u0E16\u0E32\u0E19\u0E30\u0E01\u0E32\u0E23\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19"}}};var Nx=["formDirec"],Tx=["emailInput"];function Mx(t,e){if(t&1){let i=St();I(0,"mat-form-field")(1,"mat-label"),D(2,"Password"),N(),he(3,"input",21),I(4,"mat-icon",22),Ye("click",function(){Xe(i);let a=We();return Qe(a.hidePassword=!a.hidePassword)}),D(5),N(),I(6,"mat-error"),he(7,"app-error-field",9),N()(),I(8,"mat-form-field")(9,"mat-label"),D(10,"Confirm Password"),N(),he(11,"input",23),I(12,"mat-icon",22),Ye("click",function(){Xe(i);let a=We();return Qe(a.hideConfirmPassword=!a.hideConfirmPassword)}),D(13),N(),I(14,"mat-error"),he(15,"app-error-field",9),N()()}if(t&2){let i=We();P(3),se("type",i.hidePassword?"password":"text"),P(2),ft(i.hidePassword?"visibility_off":"visibility"),P(2),se("control",i.password)("errorMessage",i.validationField.password),P(4),se("type",i.hideConfirmPassword?"password":"text"),P(2),ft(i.hideConfirmPassword?"visibility_off":"visibility"),P(2),se("control",i.confirmPassword)("errorMessage",i.validationField.confirmPassword)}}function Lx(t,e){if(t&1&&(I(0,"mat-option",24),D(1),N()),t&2){let i=e.$implicit;se("value",i),P(),ft(i)}}function Dx(t,e){t&1&&he(0,"mat-progress-bar",20)}var ph=(()=>{let e=class e{constructor(){this.formBuilder=_e(zn),this.dialogRef=_e(rl),this.data=_e(ol),this.userApiService=_e(Uc),this.validationService=_e(an),this.toastService=_e(Gn),this.validationField=hh.validationField,this.patternPassword=hh.patternPassword,this.roleOptions=["user","admin"],this.title="\u0E40\u0E1E\u0E34\u0E48\u0E21 \u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19",this.isEdit=!1,this.isLoading=!1,this.hidePassword=!0,this.hideConfirmPassword=!0,this.form=this.initForm()}ngOnInit(){this.data&&(this.title="\u0E41\u0E01\u0E49\u0E44\u0E02 \u0E1C\u0E39\u0E49\u0E43\u0E02\u0E49\u0E07\u0E32\u0E19",this.isEdit=!0,this.password.disable(),this.confirmPassword.disable(),this.form.clearValidators(),this.form.patchValue(this.data)),this.dialogRef.keydownEvents().subscribe(n=>n.key==="Escape"&&this.onCloseDialog()),this.dialogRef.backdropClick().subscribe(()=>this.onCloseDialog())}onSubmit(){if(this.form.invalid||JSON.stringify(this.data)===JSON.stringify(this.form.value))return;let l=yi({},this.form.getRawValue()),{id:n}=l,a=zs(l,["id"]);this.isLoading=!0,this.operation$=this.isEdit?this.userApiService.updateUser(n,a):this.userApiService.createUser(a),this.operation$.pipe(Ya(f=>(f.status===0&&this.dialogRef.close(),Hs(()=>f))),oi(()=>this.isLoading=!1)).subscribe(f=>{this.isEdit?this.dialogRef.close():this.onReset(),this.toastService.success("Success",f.message)})}onReset(){this.isEdit?this.form.patchValue(this.data):this.formDirec.resetForm(),this.emailInput.nativeElement.focus()}newDialogBackdropHandler(){if(this.email.value!==""||this.password.value!==""||this.confirmPassword.value!==""||this.firstname.value!==""||this.lastname.value!==""||this.role.value!=="user"||this.remark.value!=="")return this.confirmDialogBackdropHandler();this.dialogRef.close()}editDialogBackdropHandler(){if(this.email.value!==this.data.email||this.firstname.value!==this.data.firstname||this.lastname.value!==this.data.lastname||this.role.value!==this.data.role||this.active.value!==this.data.active||this.remark.value!==this.data.remark)return this.confirmDialogBackdropHandler();this.dialogRef.close()}confirmDialogBackdropHandler(){confirm("\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01\u0E01\u0E32\u0E23\u0E41\u0E01\u0E49\u0E44\u0E02\u0E41\u0E25\u0E30\u0E2D\u0E2D\u0E01\u0E08\u0E32\u0E01\u0E1F\u0E2D\u0E23\u0E4C\u0E21\u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48?")&&this.dialogRef.close()}onCloseDialog(){this.isEdit?this.editDialogBackdropHandler():this.newDialogBackdropHandler()}get email(){return this.form.controls.email}get password(){return this.form.controls.password}get confirmPassword(){return this.form.controls.confirmPassword}get firstname(){return this.form.controls.firstname}get lastname(){return this.form.controls.lastname}get role(){return this.form.controls.role}get active(){return this.form.controls.active}get remark(){return this.form.controls.remark}initForm(){return this.formBuilder.nonNullable.group({id:[null],email:["",[kt.required,kt.email]],password:["",[kt.required,kt.pattern(this.patternPassword)]],confirmPassword:[""],firstname:["",[kt.required]],lastname:["",[kt.required]],role:["user",[kt.required,this.validationService.oneOf(this.roleOptions)]],active:[!0,[kt.required]],remark:[""]},{validators:this.validationService.comparePassword.bind(this,["password","confirmPassword"])})}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=zt({type:e,selectors:[["app-user-edit"]],viewQuery:function(a,l){if(a&1&&(Nt(Nx,5),Nt(Tx,5)),a&2){let f;Tt(f=Mt())&&(l.formDirec=f.first),Tt(f=Mt())&&(l.emailInput=f.first)}},decls:53,vars:13,consts:[["formDirec","ngForm"],["emailInput",""],[1,"d-flex","justify-between","align-center"],["mat-dialog-title",""],["mat-icon-button","","tabindex","-1",1,"btn-close",3,"click"],[3,"ngSubmit","formGroup"],[1,"form-container"],[1,"box"],["type","email","matInput","","formControlName","email"],[3,"control","errorMessage"],[1,"row"],["type","text","matInput","","formControlName","firstname"],["type","text","matInput","","formControlName","lastname"],["formControlName","role"],[3,"value",4,"ngFor","ngForOf"],["type","text","matInput","","formControlName","remark"],[1,"d-flex","gap-10"],["formControlName","active"],["type","submit","mat-raised-button","","color","primary"],["type","button","mat-button","","color","warn",3,"click"],["mode","indeterminate"],["matInput","","formControlName","password","autocomplete","off",3,"type"],["matSuffix","",3,"click"],["matInput","","formControlName","confirmPassword","autocomplete","off",3,"type"],[3,"value"]],template:function(a,l){if(a&1){let f=St();I(0,"div",2)(1,"h2",3),D(2),N(),I(3,"button",4),Ye("click",function(){return Xe(f),Qe(l.onCloseDialog())}),I(4,"mat-icon"),D(5,"close"),N()()(),I(6,"form",5,0),Ye("ngSubmit",function(){return Xe(f),Qe(l.onSubmit())}),he(8,"mat-divider"),I(9,"mat-dialog-content",6)(10,"div",7)(11,"mat-form-field")(12,"mat-label"),D(13,"E-mail"),N(),he(14,"input",8,1),I(16,"mat-error"),he(17,"app-error-field",9),N()(),Fe(18,Mx,16,8),I(19,"div",10)(20,"mat-form-field")(21,"mat-label"),D(22,"\u0E0A\u0E37\u0E48\u0E2D"),N(),he(23,"input",11),I(24,"mat-error"),he(25,"app-error-field",9),N()(),I(26,"mat-form-field")(27,"mat-label"),D(28,"\u0E19\u0E32\u0E21\u0E2A\u0E01\u0E38\u0E25"),N(),he(29,"input",12),I(30,"mat-error"),he(31,"app-error-field",9),N()()(),I(32,"mat-form-field")(33,"mat-label"),D(34,"\u0E2A\u0E34\u0E17\u0E18\u0E34"),N(),I(35,"mat-select",13),Fe(36,Lx,2,2,"mat-option",14),N(),I(37,"mat-error"),he(38,"app-error-field",9),N()(),I(39,"mat-form-field")(40,"mat-label"),D(41,"\u0E2B\u0E21\u0E32\u0E22\u0E40\u0E2B\u0E15\u0E38"),N(),he(42,"input",15),N(),I(43,"div",16),he(44,"mat-slide-toggle",17),I(45,"span"),D(46,"\u0E40\u0E1B\u0E34\u0E14\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19"),N()()()(),I(47,"mat-dialog-actions")(48,"button",18),D(49,"\u0E15\u0E01\u0E25\u0E07"),N(),I(50,"button",19),Ye("click",function(){return Xe(f),Qe(l.onReset())}),D(51," \u0E23\u0E35\u0E40\u0E0B\u0E47\u0E15 "),N()()(),Fe(52,Dx,1,0,"mat-progress-bar",20)}a&2&&(P(2),ft(l.title),P(4),se("formGroup",l.form),P(11),se("control",l.email)("errorMessage",l.validationField.email),P(),Pt(18,l.isEdit?-1:18),P(7),se("control",l.firstname)("errorMessage",l.validationField.firstname),P(6),se("control",l.lastname)("errorMessage",l.validationField.lastname),P(5),se("ngForOf",l.roleOptions),P(2),se("control",l.role)("errorMessage",l.validationField.role),P(14),Pt(52,l.isLoading?52:-1))},dependencies:[Cc,In,qn,nn,An,Nn,Tn,Pi,mn,Ii,ma,Ui,Fi,Qi,uo,fo,Hn,pa,sl,cl,ll,ul,$s,ho]});let t=e;return t})();var Ox=()=>[mn,Ii,ki,Bi,on,rn,Ui,Fi,Qi,kr,Fr,qr,Ur,Br,zr,jr,Vr,Hr,Gr,Ni,Ti,Yr],Rx=()=>[10,25,50,100];function Px(t,e){t&1&&(I(0,"mat-header-cell",20),D(1,"No."),N())}function kx(t,e){if(t&1&&(I(0,"mat-cell"),D(1),N()),t&2){let i=e.$implicit;P(),_t(" ",i.no," ")}}function Bx(t,e){t&1&&(I(0,"mat-header-cell",20),D(1,"E-mail"),N())}function Fx(t,e){if(t&1&&(I(0,"mat-cell"),D(1),N()),t&2){let i=e.$implicit;P(),_t(" ",i.email," ")}}function Ux(t,e){t&1&&(I(0,"mat-header-cell",20),D(1,"\u0E0A\u0E37\u0E48\u0E2D"),N())}function jx(t,e){if(t&1&&(I(0,"mat-cell"),D(1),N()),t&2){let i=e.$implicit;P(),_t(" ",i.firstname+" "+i.lastname," ")}}function Vx(t,e){t&1&&(I(0,"mat-header-cell",20),D(1,"\u0E2A\u0E34\u0E17\u0E18\u0E34"),N())}function qx(t,e){if(t&1&&(I(0,"mat-cell"),D(1),N()),t&2){let i=e.$implicit;P(),_t(" ",i.role," ")}}function zx(t,e){t&1&&(I(0,"mat-header-cell",20),D(1,"\u0E2A\u0E16\u0E32\u0E19\u0E30"),N())}function Hx(t,e){t&1&&(I(0,"mat-icon",21),D(1,"toggle_on"),N())}function Gx(t,e){t&1&&(I(0,"mat-icon",22),D(1,"toggle_off"),N())}function Wx(t,e){if(t&1&&(I(0,"mat-cell"),Fe(1,Hx,2,0,"mat-icon",21)(2,Gx,2,0),N()),t&2){let i=e.$implicit;P(),Pt(1,i.active?1:2)}}function Yx(t,e){t&1&&(I(0,"mat-header-cell",20),D(1,"\u0E2B\u0E21\u0E32\u0E22\u0E40\u0E2B\u0E15\u0E38"),N())}function Xx(t,e){if(t&1&&(I(0,"mat-cell"),D(1),N()),t&2){let i=e.$implicit;P(),_t(" ",i.remark," ")}}function Qx(t,e){t&1&&he(0,"mat-header-cell")}function Zx(t,e){if(t&1){let i=St();I(0,"button",24),Ye("click",function(){Xe(i);let a=We().$implicit,l=We(2);return Qe(l.onUpdate(a))}),I(1,"mat-icon",25),D(2,"edit"),N()()}}function Kx(t,e){if(t&1&&(I(0,"mat-cell"),Fe(1,Zx,3,0,"button",23),N()),t&2){let i=e.$implicit,n=We(2);P(),Pt(1,i.id!==n.profileId?1:-1)}}function Jx(t,e){t&1&&he(0,"mat-header-row")}function $x(t,e){t&1&&he(0,"mat-row")}function ey(t,e){if(t&1){let i=St();I(0,"mat-card",2)(1,"mat-card-header",3)(2,"mat-card-title"),D(3),N()(),I(4,"mat-card-content")(5,"mat-form-field",4)(6,"mat-label"),D(7,"\u0E01\u0E23\u0E2D\u0E07\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25"),N(),I(8,"input",5),Ye("keyup",function(a){Xe(i);let l=We();return Qe(l.applyFilter(a))}),N()(),I(9,"mat-table",6),yt(10,7),Fe(11,Px,2,0,"mat-header-cell",8)(12,kx,2,1,"mat-cell",9),wt(),yt(13,10),Fe(14,Bx,2,0,"mat-header-cell",8)(15,Fx,2,1,"mat-cell",9),wt(),yt(16,11),Fe(17,Ux,2,0,"mat-header-cell",8)(18,jx,2,1,"mat-cell",9),wt(),yt(19,12),Fe(20,Vx,2,0,"mat-header-cell",8)(21,qx,2,1,"mat-cell",9),wt(),yt(22,13),Fe(23,zx,2,0,"mat-header-cell",8)(24,Wx,3,1,"mat-cell",9),wt(),yt(25,14),Fe(26,Yx,2,0,"mat-header-cell",8)(27,Xx,2,1,"mat-cell",9),wt(),yt(28,15),Fe(29,Qx,1,0,"mat-header-cell",16)(30,Kx,2,1,"mat-cell",9),wt(),Fe(31,Jx,1,0,"mat-header-row",17)(32,$x,1,0,"mat-row",18),N(),he(33,"mat-paginator",19),N()()}if(t&2){let i=We();P(3),ft(i.title),P(6),se("dataSource",i.dataSource),P(22),se("matHeaderRowDef",i.displayedColumns),P(),se("matRowDefColumns",i.displayedColumns),P(),se("pageSizeOptions",Cr(5,Rx))}}function ty(t,e){t&1&&he(0,"app-loading-data",26),t&2&&se("form","card")}var J2=(()=>{let e=class e{constructor(){this.subscription=new Ri,this.profileService=_e(Xr),this.userService=_e(Fc),this.userApiService=_e(Uc),this.validationService=_e(an),this.dialog=_e(al),this.title="\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23 \u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19",this.profileId=this.profileService.getProfile().id,this.displayedColumns=["no","email","name","role","active","remark","action"],this.dataSource=new Wr([]),this.isFirstLoading=!1}ngOnInit(){this.initDataSource(),this.subscription=this.userService.onUsersListener().subscribe(()=>this.dataSource.data=this.userService.getUsersTable())}ngOnDestroy(){this.subscription.unsubscribe()}onCreate(){this.dialog.open(ph,{width:"500px",disableClose:!0})}onUpdate(n){this.dialog.open(ph,{data:n,width:"500px",disableClose:!0})}applyFilter(n){let a=n.target.value;this.dataSource.filter=a.trim().toLowerCase()}initDataSource(){this.dataSource.data=this.userService.getUsersTable(),this.validationService.isEmpty(this.dataSource.data)&&this.userApiService.getUsers().pipe(oi(()=>this.isFirstLoading=!0)).subscribe(),wr(()=>this.paginator&&this.sort?Qn(null):_r(300).pipe(nr(()=>!!this.paginator&&!!this.sort),br(1))).subscribe(()=>{this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=zt({type:e,selectors:[["app-user"]],viewQuery:function(a,l){if(a&1&&(Nt(Ni,5),Nt(Ti,5)),a&2){let f;Tt(f=Mt())&&(l.paginator=f.first),Tt(f=Mt())&&(l.sort=f.first)}},decls:7,vars:1,consts:[[300],["mat-fab","","color","primary",1,"mb-20",3,"click"],[1,"mat-elevation-z8"],[1,"mb-16"],[1,"w-100"],["matInput","",3,"keyup"],["matSort","",3,"dataSource"],["matColumnDef","no"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","email"],["matColumnDef","name"],["matColumnDef","role"],["matColumnDef","active"],["matColumnDef","remark"],["matColumnDef","action"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-sort-header",""],[1,"toggle-on"],[1,"toggle-off"],["mat-icon-button",""],["mat-icon-button","",3,"click"],["color","primary"],[3,"form"]],template:function(a,l){a&1&&(I(0,"button",1),Ye("click",function(){return l.onCreate()}),I(1,"mat-icon"),D(2,"add"),N()(),Fe(3,ey,34,6)(4,ty,1,1),jn(5,3,Ox,null,4,null,null,0,Un)),a&2&&(P(5),Vn(l.dataSource.data.length>0||l.isFirstLoading))},dependencies:[el,Ii,pn],styles:[".mat-column-no[_ngcontent-%COMP%]{flex:0 0 70px}.mat-column-email[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%]{min-width:150px}.mat-column-role[_ngcontent-%COMP%], .mat-column-active[_ngcontent-%COMP%]{flex:0 0 70px}.mat-column-action[_ngcontent-%COMP%]{flex:0 0 60px}.mat-column-remark[_ngcontent-%COMP%]{min-width:150px}"]});let t=e;return t})();var Kr=(()=>{let e=class e{constructor(){this.categories=[],this.categories$=new Nr}onCategoriesListener(){return this.categories$.asObservable()}setCategorise(n){this.categories=n,this.categories$.next(this.categories.slice())}getCategories(){return this.categories.slice()}getCategoriesTable(){return this.categories.map((n,a)=>yi({no:a+1},n)).slice()}getActiveCategoriesName(){return this.categories.filter(n=>n.active).map(n=>n.name).slice()}getActiveCategories(){return this.categories.filter(n=>n.active).map(n=>({id:n.id,name:n.name})).slice()}createCategory(n){this.categories.push(n),this.categories$.next(this.categories.slice())}updateCategory(n,a){let l=this.categories.findIndex(f=>f.id===n);l!==-1&&(this.categories[l]=yi(yi({},this.categories[l]),a),this.categories$.next(this.categories.slice()))}deleteCategory(n){let a=this.categories.findIndex(l=>l.id===n);a!==-1&&(this.categories.splice(a,1),this.categories$.next(this.categories.slice()))}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=hi({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var xl=(()=>{let e=class e{constructor(n,a){this.http=n,this.categoryService=a,this.apiUrl=Mi.apiUrl+"category"}getCategories(){return this.http.get(this.apiUrl).pipe(qt(n=>this.categoryService.setCategorise(n)))}createCategory(n){return this.http.post(this.apiUrl,n).pipe(qt(a=>this.categoryService.createCategory(a.category)))}updateCategory(n,a){return this.http.put(`${this.apiUrl}/${n}`,a).pipe(qt(l=>this.categoryService.updateCategory(n,l.category)))}deleteCategory(n){return this.http.delete(`${this.apiUrl}/${n}`).pipe(qt(()=>this.categoryService.deleteCategory(n)))}};e.\u0275fac=function(a){return new(a||e)(_i(Pr),_i(Kr))},e.\u0275prov=hi({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $2={validationField:{name:{required:"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38 \u0E0A\u0E37\u0E48\u0E2D"},active:{required:"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38 \u0E2A\u0E16\u0E32\u0E19\u0E30\u0E01\u0E32\u0E23\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19"}}};var ny=["formDirec"],ry=["nameInput"];function oy(t,e){t&1&&he(0,"mat-progress-bar",15)}var gh=(()=>{let e=class e{constructor(){this.data=_e(ol),this.formBuilder=_e(zn),this.dialogRef=_e(rl),this.categoryApiService=_e(xl),this.toastService=_e(Gn),this.validationField=$2.validationField,this.title="\u0E40\u0E1E\u0E34\u0E48\u0E21 \u0E04\u0E38\u0E13\u0E2A\u0E21\u0E1A\u0E31\u0E15\u0E34\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C",this.isEdit=!1,this.isLoading=!1,this.form=this.initForm()}ngOnInit(){this.data&&(this.title="\u0E41\u0E01\u0E49\u0E44\u0E02 \u0E04\u0E38\u0E13\u0E2A\u0E21\u0E1A\u0E31\u0E15\u0E34\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C",this.isEdit=!0,this.form.patchValue(this.data)),this.dialogRef.keydownEvents().subscribe(n=>n.key==="Escape"&&this.onCloseDialog()),this.dialogRef.backdropClick().subscribe(()=>this.onCloseDialog())}onSubmit(){if(this.form.invalid||JSON.stringify(this.data)===JSON.stringify(this.form.value))return;let l=yi({},this.form.getRawValue()),{id:n}=l,a=zs(l,["id"]);this.isLoading=!0,this.operation$=this.isEdit?this.categoryApiService.updateCategory(n,a):this.categoryApiService.createCategory(a),this.operation$.pipe(Ya(f=>(f.status===0&&this.dialogRef.close(),Hs(()=>f))),oi(()=>this.isLoading=!1)).subscribe(f=>{this.isEdit?this.dialogRef.close():this.onReset(),this.toastService.success("Success",f.message)})}onReset(){this.isEdit?this.form.patchValue(this.data):this.formDirec.resetForm(),this.nameInput.nativeElement.focus()}newDialogBackdropHandler(){if(this.name.value!==""||this.remark.value!=="")return this.confirmDialogBackdropHandler();this.dialogRef.close()}editDialogBackdropHandler(){if(this.name.value!==this.data.name||this.active.value!==this.data.active||this.remark.value!==this.data.remark)return this.confirmDialogBackdropHandler();this.dialogRef.close()}confirmDialogBackdropHandler(){confirm("\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01\u0E01\u0E32\u0E23\u0E41\u0E01\u0E49\u0E44\u0E02\u0E41\u0E25\u0E30\u0E2D\u0E2D\u0E01\u0E08\u0E32\u0E01\u0E1F\u0E2D\u0E23\u0E4C\u0E21\u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48?")&&this.dialogRef.close()}onCloseDialog(){this.isEdit?this.editDialogBackdropHandler():this.newDialogBackdropHandler()}get name(){return this.form.controls.name}get active(){return this.form.controls.active}get remark(){return this.form.controls.remark}initForm(){return this.formBuilder.nonNullable.group({id:[null],name:["",[kt.required]],active:[!0,[kt.required]],remark:[""]})}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=zt({type:e,selectors:[["app-category-edit"]],viewQuery:function(a,l){if(a&1&&(Nt(ny,5),Nt(ry,5)),a&2){let f;Tt(f=Mt())&&(l.formDirec=f.first),Tt(f=Mt())&&(l.nameInput=f.first)}},decls:32,vars:7,consts:[["formDirec","ngForm"],["nameInput",""],[1,"d-flex","justify-between","align-center"],["mat-dialog-title",""],["mat-icon-button","","tabindex","-1",1,"btn-close",3,"click"],[3,"ngSubmit","formGroup"],[1,"form-container"],[1,"box"],["type","text","matInput","","formControlName","name"],[3,"control","errorMessage"],["type","text","matInput","","formControlName","remark"],[1,"d-flex","gap-10"],["formControlName","active"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],["type","button","mat-button","","color","warn",3,"click","disabled"],["mode","indeterminate"]],template:function(a,l){if(a&1){let f=St();I(0,"div",2)(1,"h2",3),D(2),N(),I(3,"button",4),Ye("click",function(){return Xe(f),Qe(l.onCloseDialog())}),I(4,"mat-icon"),D(5,"close"),N()()(),I(6,"form",5,0),Ye("ngSubmit",function(){return Xe(f),Qe(l.onSubmit())}),he(8,"mat-divider"),I(9,"mat-dialog-content",6)(10,"div",7)(11,"mat-form-field")(12,"mat-label"),D(13,"\u0E0A\u0E37\u0E48\u0E2D"),N(),he(14,"input",8,1),I(16,"mat-error"),he(17,"app-error-field",9),N()(),I(18,"mat-form-field")(19,"mat-label"),D(20,"\u0E2B\u0E21\u0E32\u0E22\u0E40\u0E2B\u0E15\u0E38"),N(),he(21,"input",10),N()(),I(22,"div",11),he(23,"mat-slide-toggle",12),I(24,"span"),D(25,"\u0E40\u0E1B\u0E34\u0E14\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19"),N()()(),I(26,"mat-dialog-actions")(27,"button",13),D(28," \u0E15\u0E01\u0E25\u0E07 "),N(),I(29,"button",14),Ye("click",function(){return Xe(f),Qe(l.onReset())}),D(30," \u0E23\u0E35\u0E40\u0E0B\u0E47\u0E15 "),N()()(),Fe(31,oy,1,0,"mat-progress-bar",15)}a&2&&(P(2),ft(l.title),P(4),se("formGroup",l.form),P(11),se("control",l.name)("errorMessage",l.validationField.name),P(10),se("disabled",l.isLoading),P(2),se("disabled",l.isLoading),P(2),Pt(31,l.isLoading?31:-1))},dependencies:[In,qn,nn,An,Nn,Tn,Pi,mn,Ii,ma,Ui,Fi,Qi,uo,Hn,pa,sl,cl,ll,ho]});let t=e;return t})();var ay=()=>[mn,Ii,ki,Bi,on,rn,Ui,Fi,Qi,kr,Fr,qr,Ur,Br,zr,jr,Vr,Hr,Gr,Ni,Ti,Yr,hl,dl],sy=()=>[10,25,50,100];function ly(t,e){t&1&&(I(0,"mat-header-cell",19),D(1,"No."),N())}function cy(t,e){if(t&1&&(I(0,"mat-cell"),D(1),N()),t&2){let i=e.$implicit;P(),_t(" ",i.no," ")}}function uy(t,e){t&1&&(I(0,"mat-header-cell",19),D(1,"\u0E0A\u0E37\u0E48\u0E2D"),N())}function fy(t,e){if(t&1&&(I(0,"mat-cell"),D(1),N()),t&2){let i=e.$implicit;P(),_t(" ",i.name," ")}}function hy(t,e){t&1&&(I(0,"mat-header-cell",19),D(1,"\u0E2A\u0E16\u0E32\u0E19\u0E30"),N())}function dy(t,e){t&1&&(I(0,"mat-icon",20),D(1,"toggle_on"),N())}function my(t,e){t&1&&(I(0,"mat-icon",21),D(1,"toggle_off"),N())}function py(t,e){if(t&1&&(I(0,"mat-cell"),Fe(1,dy,2,0,"mat-icon",20)(2,my,2,0),N()),t&2){let i=e.$implicit;P(),Pt(1,i.active?1:2)}}function gy(t,e){t&1&&(I(0,"mat-header-cell",19),D(1,"\u0E2B\u0E21\u0E32\u0E22\u0E40\u0E2B\u0E15\u0E38"),N())}function vy(t,e){if(t&1&&(I(0,"mat-cell"),D(1),N()),t&2){let i=e.$implicit;P(),_t(" ",i.remark," ")}}function Ey(t,e){t&1&&he(0,"mat-header-cell")}function xy(t,e){if(t&1){let i=St();I(0,"mat-cell")(1,"button",22),Ye("click",function(){let a=Xe(i).$implicit,l=We(2);return Qe(l.onUpdate(a))}),I(2,"mat-icon",23),D(3,"edit"),N()(),I(4,"button",24),Ye("confirm",function(){let a=Xe(i).$implicit,l=We(2);return Qe(l.onDelete(a.id))}),I(5,"mat-icon"),D(6,"delete"),N()(),he(7,"swal",25,0),N()}if(t&2){let i=e.$implicit,n=Xi(8);P(4),se("swal",n),P(3),bc("title","\u0E22\u0E37\u0E19\u0E22\u0E31\u0E19\u0E01\u0E32\u0E23\u0E25\u0E1A ",i.name,"?"),se("showCancelButton",!0)}}function yy(t,e){t&1&&he(0,"mat-header-row")}function wy(t,e){t&1&&he(0,"mat-row")}function _y(t,e){if(t&1){let i=St();I(0,"mat-card",3)(1,"mat-card-header",4)(2,"mat-card-title"),D(3),N()(),I(4,"mat-card-content")(5,"mat-form-field",5)(6,"mat-label"),D(7,"\u0E01\u0E23\u0E2D\u0E07\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25"),N(),I(8,"input",6),Ye("keyup",function(a){Xe(i);let l=We();return Qe(l.applyFilter(a))}),N()(),I(9,"mat-table",7),yt(10,8),Fe(11,ly,2,0,"mat-header-cell",9)(12,cy,2,1,"mat-cell",10),wt(),yt(13,11),Fe(14,uy,2,0,"mat-header-cell",9)(15,fy,2,1,"mat-cell",10),wt(),yt(16,12),Fe(17,hy,2,0,"mat-header-cell",9)(18,py,3,1,"mat-cell",10),wt(),yt(19,13),Fe(20,gy,2,0,"mat-header-cell",9)(21,vy,2,1,"mat-cell",10),wt(),yt(22,14),Fe(23,Ey,1,0,"mat-header-cell",15)(24,xy,9,4,"mat-cell",10),wt(),Fe(25,yy,1,0,"mat-header-row",16)(26,wy,1,0,"mat-row",17),N(),he(27,"mat-paginator",18),N()()}if(t&2){let i=We();P(3),ft(i.title),P(6),se("dataSource",i.dataSource),P(16),se("matHeaderRowDef",i.displayedColumns),P(),se("matRowDefColumns",i.displayedColumns),P(),se("pageSizeOptions",Cr(5,sy))}}function by(t,e){t&1&&he(0,"app-loading-data",26),t&2&&se("form","card")}var eg=(()=>{let e=class e{constructor(){this.subscription=new Ri,this.categoryService=_e(Kr),this.categoryApiService=_e(xl),this.validationService=_e(an),this.toastService=_e(Gn),this.dialog=_e(al),this.title="\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23 \u0E04\u0E38\u0E13\u0E2A\u0E21\u0E1A\u0E31\u0E15\u0E34 (\u0E22\u0E35\u0E48\u0E2B\u0E49\u0E2D/\u0E23\u0E38\u0E48\u0E19)",this.displayedColumns=["no","name","active","remark","action"],this.dataSource=new Wr([]),this.isFirstLoading=!1}ngOnInit(){this.initDataSource(),this.subscription=this.categoryService.onCategoriesListener().subscribe(()=>this.dataSource.data=this.categoryService.getCategoriesTable())}ngOnDestroy(){this.subscription.unsubscribe()}onCreate(){this.dialog.open(gh,{width:"500px",disableClose:!0})}onUpdate(n){this.dialog.open(gh,{data:n,width:"500px",disableClose:!0})}onDelete(n){this.categoryApiService.deleteCategory(n).subscribe(a=>this.toastService.info("Delete",a.message))}applyFilter(n){let a=n.target.value;this.dataSource.filter=a.trim().toLowerCase()}initDataSource(){this.dataSource.data=this.categoryService.getCategoriesTable(),this.validationService.isEmpty(this.dataSource.data)&&this.categoryApiService.getCategories().pipe(oi(()=>this.isFirstLoading=!0)).subscribe(),wr(()=>this.paginator&&this.sort?Qn(null):_r(300).pipe(nr(()=>!!this.paginator&&!!this.sort),br(1))).subscribe(()=>{this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=zt({type:e,selectors:[["app-category"]],viewQuery:function(a,l){if(a&1&&(Nt(Ni,5),Nt(Ti,5)),a&2){let f;Tt(f=Mt())&&(l.paginator=f.first),Tt(f=Mt())&&(l.sort=f.first)}},decls:7,vars:1,consts:[["deleteSwal",""],[300],["mat-fab","","color","primary",1,"mb-20",3,"click"],[1,"mat-elevation-z8"],[1,"mb-16"],[1,"w-100"],["matInput","",3,"keyup"],["matSort","",3,"dataSource"],["matColumnDef","no"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["matColumnDef","active"],["matColumnDef","remark"],["matColumnDef","action"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-sort-header",""],[1,"toggle-on"],[1,"toggle-off"],["mat-icon-button","",3,"click"],["color","primary"],["mat-icon-button","","color","warn",3,"confirm","swal"],["icon","error",3,"title","showCancelButton"],[3,"form"]],template:function(a,l){a&1&&(I(0,"button",2),Ye("click",function(){return l.onCreate()}),I(1,"mat-icon"),D(2,"add"),N()(),Fe(3,_y,28,6)(4,by,1,1),jn(5,3,ay,null,4,null,null,1,Un)),a&2&&(P(5),Vn(l.dataSource.data.length>0||l.isFirstLoading))},dependencies:[el,Ii,pn],styles:[".mat-column-no[_ngcontent-%COMP%]{flex:0 0 70px}.mat-column-name[_ngcontent-%COMP%]{min-width:120px}.mat-column-active[_ngcontent-%COMP%]{flex:0 0 70px}.mat-column-remark[_ngcontent-%COMP%]{min-width:150px}.mat-column-action[_ngcontent-%COMP%]{flex:0 0 120px;justify-content:center}"]});let t=e;return t})();var tg={validationField:{email:{required:"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38 E-mail",email:"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38 E-mail \u0E43\u0E2B\u0E49\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07 (example@gmail.com)"},firstname:{required:"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38 \u0E0A\u0E37\u0E48\u0E2D"},lastname:{required:"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38 \u0E19\u0E32\u0E21\u0E2A\u0E01\u0E38\u0E25"},role:{required:"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38 \u0E2A\u0E34\u0E17\u0E18\u0E34",oneOf:"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E40\u0E25\u0E37\u0E2D\u0E01 user \u0E2B\u0E23\u0E37\u0E2D admin"}}};var Cy=()=>[In,qn,nn,An,Nn,Tn,Pi,ki,lo,Bi,co,on,rn,Ui,Fi,Qi,uo,Hn,ho];function Sy(t,e){t&1&&he(0,"mat-progress-bar",14)}function Ay(t,e){if(t&1){let i=St();I(0,"mat-card")(1,"mat-card-header",1)(2,"mat-card-title"),D(3),N(),I(4,"button",2),Ye("click",function(){Xe(i);let a=We();return Qe(a.onReset())}),D(5," \u0E23\u0E35\u0E40\u0E0B\u0E47\u0E15 "),N()(),I(6,"form",3),Ye("ngSubmit",function(){Xe(i);let a=We();return Qe(a.onSubmit())}),I(7,"mat-card-content",4)(8,"mat-form-field")(9,"mat-label"),D(10,"E-mail"),N(),he(11,"input",5),I(12,"mat-error"),he(13,"app-error-field",6),N()(),I(14,"div",7)(15,"mat-form-field")(16,"mat-label"),D(17,"\u0E0A\u0E37\u0E48\u0E2D"),N(),he(18,"input",8),I(19,"mat-error"),he(20,"app-error-field",6),N()(),I(21,"mat-form-field")(22,"mat-label"),D(23,"\u0E19\u0E32\u0E21\u0E2A\u0E01\u0E38\u0E25"),N(),he(24,"input",9),I(25,"mat-error"),he(26,"app-error-field",6),N()()(),I(27,"mat-form-field")(28,"mat-label"),D(29,"\u0E2A\u0E34\u0E17\u0E18\u0E34"),N(),he(30,"input",10),I(31,"mat-error"),he(32,"app-error-field",6),N()(),I(33,"mat-form-field")(34,"mat-label"),D(35,"\u0E2B\u0E21\u0E32\u0E22\u0E40\u0E2B\u0E15\u0E38"),N(),he(36,"input",11),N()(),I(37,"mat-card-actions",12)(38,"button",13),D(39," \u0E15\u0E01\u0E25\u0E07 "),N()(),I(40,"mat-card-footer"),Fe(41,Sy,1,0,"mat-progress-bar",14),N()()()}if(t&2){let i=We();P(3),ft(i.title),P(),se("disabled",i.isLoading),P(2),se("formGroup",i.form),P(7),se("control",i.email)("errorMessage",i.validationField.email),P(7),se("control",i.firstname)("errorMessage",i.validationField.firstname),P(6),se("control",i.lastname)("errorMessage",i.validationField.lastname),P(6),se("control",i.role)("errorMessage",i.validationField.role),P(6),se("disabled",i.isLoading),P(3),Pt(41,i.isLoading?41:-1)}}function Iy(t,e){t&1&&he(0,"app-loading-data",15),t&2&&se("form","card")}var ig=(()=>{let e=class e{constructor(){this.subscription=new Ri,this.profileService=_e(Xr),this.ProfileApiService=_e(kc),this.formBuilder=_e(zn),this.validationField=tg.validationField,this.title="\u0E41\u0E01\u0E49\u0E44\u0E02\u0E42\u0E1B\u0E23\u0E44\u0E1F\u0E25\u0E4C",this.isLoading=!1,this.form=this.initForm()}ngOnInit(){this.subscription=this.profileService.onProfileListener().subscribe(n=>{this.profile=n,this.form.patchValue(this.profile)})}ngOnDestroy(){this.subscription.unsubscribe()}onSubmit(){if(this.form.invalid)return;let n=yi({},this.form.value);this.isLoading=!0,this.ProfileApiService.updateProfile(n).pipe(oi(()=>this.isLoading=!1)).subscribe()}onReset(){this.form.patchValue(this.profile)}get email(){return this.form.controls.email}get firstname(){return this.form.controls.firstname}get lastname(){return this.form.controls.lastname}get role(){return this.form.controls.role}get remark(){return this.form.controls.remark}initForm(){return this.formBuilder.nonNullable.group({email:["",[kt.required,kt.email]],firstname:["",[kt.required]],lastname:["",[kt.required]],role:[{value:"",disabled:!0},[kt.required]],remark:[""]})}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=zt({type:e,selectors:[["app-profile"]],decls:4,vars:1,consts:[[500],[1,"justify-between"],["type","button","mat-button","","color","warn",3,"click","disabled"],[1,"form-container",3,"ngSubmit","formGroup"],[1,"box"],["type","email","matInput","","formControlName","email"],[3,"control","errorMessage"],[1,"row"],["type","text","matInput","","formControlName","firstname"],["type","text","matInput","","formControlName","lastname"],["type","text","matInput","","formControlName","role"],["type","text","matInput","","formControlName","remark"],[1,"gap-10"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],["mode","indeterminate"],[3,"form"]],template:function(a,l){a&1&&(Fe(0,Ay,42,13)(1,Iy,1,1),jn(2,0,Cy,null,1,null,null,0,Un)),a&2&&(P(2),Vn(l.profile))},dependencies:[pn]});let t=e;return t})();var vh={patternPassword:/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$ %^&*-]).{8,}$/,validationField:{oldPassword:{required:"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38 Old password"},newPassword:{required:"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38 New password",pattern:"\u0E15\u0E49\u0E2D\u0E07\u0E21\u0E35\u0E15\u0E31\u0E27\u0E40\u0E25\u0E47\u0E01, \u0E15\u0E31\u0E27\u0E43\u0E2B\u0E0D\u0E48, \u0E15\u0E31\u0E27\u0E40\u0E25\u0E02, \u0E2D\u0E31\u0E01\u0E29\u0E23\u0E1E\u0E34\u0E40\u0E28\u0E29 \u0E41\u0E25\u0E30\u0E44\u0E21\u0E48\u0E15\u0E48\u0E33\u0E01\u0E27\u0E48\u0E32 8 \u0E15\u0E31\u0E27\u0E2D\u0E31\u0E01\u0E29\u0E23"},confirmPassword:{required:"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38 Confirm password",match:"Password \u0E44\u0E21\u0E48\u0E15\u0E23\u0E07\u0E01\u0E31\u0E19"}}};var Ny=["formDirec"],Ty=()=>[Tr,In,qn,nn,An,Nn,Tn,Ic,Pi,Ii,ki,lo,Bi,co,on,rn,Ui,Fi,Qi,uo,fo,Hn,ho];function My(t,e){t&1&&he(0,"mat-progress-bar",13)}function Ly(t,e){if(t&1){let i=St();I(0,"mat-card")(1,"mat-card-header",2)(2,"mat-card-title"),D(3),N(),I(4,"button",3),Ye("click",function(){Xe(i);let a=We();return Qe(a.onReset())}),D(5," \u0E23\u0E35\u0E40\u0E0B\u0E47\u0E15 "),N()(),I(6,"form",4,0),Ye("ngSubmit",function(){Xe(i);let a=We();return Qe(a.onSubmit())}),I(8,"mat-card-content",5)(9,"mat-form-field")(10,"mat-label"),D(11,"\u0E23\u0E2B\u0E31\u0E2A\u0E1C\u0E48\u0E32\u0E19\u0E40\u0E01\u0E48\u0E32"),N(),he(12,"input",6),I(13,"mat-icon",7),Ye("click",function(){Xe(i);let a=We();return Qe(a.hideOldPassword=!a.hideOldPassword)}),D(14),N(),I(15,"mat-error"),he(16,"app-error-field",8),N()(),I(17,"mat-form-field")(18,"mat-label"),D(19,"\u0E23\u0E2B\u0E31\u0E2A\u0E1C\u0E48\u0E32\u0E19\u0E43\u0E2B\u0E21\u0E48"),N(),he(20,"input",9),I(21,"mat-icon",7),Ye("click",function(){Xe(i);let a=We();return Qe(a.hideNewPassword=!a.hideNewPassword)}),D(22),N(),I(23,"mat-error"),he(24,"app-error-field",8),N()(),I(25,"mat-form-field")(26,"mat-label"),D(27,"\u0E22\u0E37\u0E19\u0E22\u0E31\u0E19\u0E23\u0E2B\u0E31\u0E2A\u0E1C\u0E48\u0E32\u0E19\u0E43\u0E2B\u0E21\u0E48"),N(),he(28,"input",10),I(29,"mat-icon",7),Ye("click",function(){Xe(i);let a=We();return Qe(a.hideConfirmPassword=!a.hideConfirmPassword)}),D(30),N(),I(31,"mat-error"),he(32,"app-error-field",8),N()()(),I(33,"mat-card-actions",2)(34,"button",11),D(35," \u0E15\u0E01\u0E25\u0E07 "),N(),I(36,"a",12),D(37,"\u0E25\u0E37\u0E21\u0E23\u0E2B\u0E31\u0E2A\u0E1C\u0E48\u0E32\u0E19 ?"),N()(),I(38,"mat-card-footer"),Fe(39,My,1,0,"mat-progress-bar",13),N()()()}if(t&2){let i=We();P(3),ft(i.title),P(),se("disabled",i.isLoading),P(2),se("formGroup",i.form),P(6),se("type",i.hideOldPassword?"password":"text"),P(2),ft(i.hideOldPassword?"visibility_off":"visibility"),P(2),se("control",i.oldPassword)("errorMessage",i.validationField.oldPassword),P(4),se("type",i.hideNewPassword?"password":"text"),P(2),ft(i.hideNewPassword?"visibility_off":"visibility"),P(2),se("control",i.newPassword)("errorMessage",i.validationField.newPassword),P(4),se("type",i.hideConfirmPassword?"password":"text"),P(2),ft(i.hideConfirmPassword?"visibility_off":"visibility"),P(2),se("control",i.confirmPassword)("errorMessage",i.validationField.confirmPassword),P(2),se("disabled",i.isLoading),P(5),Pt(39,i.isLoading?39:-1)}}function Dy(t,e){t&1&&he(0,"app-loading-data",14),t&2&&se("form","card")}var ng=(()=>{let e=class e{constructor(){this.profileService=_e(Xr),this.profileApiService=_e(kc),this.formBuilder=_e(zn),this.validationService=_e(an),this.patternPassword=vh.patternPassword,this.validationField=vh.validationField,this.title="\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19\u0E23\u0E2B\u0E31\u0E2A\u0E1C\u0E48\u0E32\u0E19",this.isLoading=!1,this.hideOldPassword=!0,this.hideNewPassword=!0,this.hideConfirmPassword=!0,this.form=this.initForm()}ngOnInit(){this.profile=this.profileService.getProfile()}onSubmit(){if(this.form.invalid)return;this.isLoading=!0;let n=this.form.getRawValue();this.profileApiService.changePassword(n).pipe(oi(()=>this.isLoading=!1)).subscribe()}onReset(){this.formDirec.resetForm()}get oldPassword(){return this.form.controls.oldPassword}get newPassword(){return this.form.controls.newPassword}get confirmPassword(){return this.form.controls.confirmPassword}initForm(){return this.formBuilder.nonNullable.group({oldPassword:["",[kt.required]],newPassword:["",[kt.required,kt.pattern(this.patternPassword)]],confirmPassword:[""]},{validators:this.validationService.comparePassword.bind(this,["newPassword","confirmPassword"])})}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=zt({type:e,selectors:[["app-password"]],viewQuery:function(a,l){if(a&1&&Nt(Ny,5),a&2){let f;Tt(f=Mt())&&(l.formDirec=f.first)}},decls:4,vars:1,consts:[["formDirec","ngForm"],[500],[1,"justify-between"],["type","button","mat-button","","color","warn",3,"click","disabled"],[1,"form-container",3,"ngSubmit","formGroup"],[1,"box"],["matInput","","formControlName","oldPassword","autocomplete","off",3,"type"],["matSuffix","",3,"click"],[3,"control","errorMessage"],["matInput","","formControlName","newPassword","autocomplete","off",3,"type"],["matInput","","formControlName","confirmPassword","autocomplete","off",3,"type"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],["mat-button","","routerLink","/login/forgot-password"],["mode","indeterminate"],[3,"form"]],template:function(a,l){a&1&&(Fe(0,Ly,40,17)(1,Dy,1,1),jn(2,0,Ty,null,1,null,null,1,Un)),a&2&&(P(2),Vn(l.profile))},dependencies:[pn]});let t=e;return t})();var Jr=(()=>{let e=class e{constructor(){this.statuses=[],this.statuses$=new Nr}onStatusesListener(){return this.statuses$.asObservable()}setStatuses(n){this.statuses=n,this.statuses$.next(this.statuses.slice())}getStatuses(){return this.statuses.slice()}getStatusesTable(){return this.statuses.map((n,a)=>yi({no:a+1},n)).slice()}getActiveStatusNames(){return this.statuses.filter(n=>n.active).map(n=>n.name).slice()}getActiveStatuses(){return this.statuses.filter(n=>n.active).map(n=>({id:n.id,name:n.name})).slice()}createStatus(n){this.statuses.push(n),this.statuses$.next(this.statuses.slice())}updateStatus(n,a){let l=this.statuses.findIndex(f=>f.id===n);l!==-1&&(this.statuses[l]=yi(yi({},this.statuses[l]),a),this.statuses$.next(this.statuses.slice()))}deleteStatus(n){let a=this.statuses.findIndex(l=>l.id===n);a!==-1&&(this.statuses.splice(a,1),this.statuses$.next(this.statuses.slice()))}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=hi({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var yl=(()=>{let e=class e{constructor(n,a){this.http=n,this.statusService=a,this.apiUrl=Mi.apiUrl+"status"}getStatuses(){return this.http.get(this.apiUrl).pipe(qt(n=>this.statusService.setStatuses(n)))}createStatus(n){return this.http.post(this.apiUrl,n).pipe(qt(a=>this.statusService.createStatus(a.status)))}updateStatus(n,a){return this.http.put(`${this.apiUrl}/${n}`,a).pipe(qt(l=>this.statusService.updateStatus(n,l.status)))}deleteStatus(n){return this.http.delete(`${this.apiUrl}/${n}`).pipe(qt(()=>this.statusService.deleteStatus(n)))}};e.\u0275fac=function(a){return new(a||e)(_i(Pr),_i(Jr))},e.\u0275prov=hi({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $r=(()=>{let e=class e{constructor(){this.usages=[],this.usages$=new Nr}onUsagesListener(){return this.usages$.asObservable()}setUsages(n){this.usages=n,this.usages$.next(this.usages.slice())}getUsages(){return this.usages.slice()}getUsagesTable(){return this.usages.map((n,a)=>yi({no:a+1},n)).slice()}getActiveUsageNames(){return this.usages.filter(n=>n.active).map(n=>n.name).slice()}getActiveUsages(){return this.usages.filter(n=>n.active).map(n=>({id:n.id,name:n.name})).slice()}createUsage(n){this.usages.push(n),this.usages$.next(this.usages.slice())}updateUsage(n,a){let l=this.usages.findIndex(f=>f.id===n);l!==-1&&(this.usages[l]=yi(yi({},this.usages[l]),a),this.usages$.next(this.usages.slice()))}deleteUsage(n){let a=this.usages.findIndex(l=>l.id===n);a!==-1&&(this.usages.splice(a,1),this.usages$.next(this.usages.slice()))}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=hi({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var wl=(()=>{let e=class e{constructor(n,a){this.http=n,this.usageService=a,this.apiUrl=Mi.apiUrl+"usage"}getUsages(){return this.http.get(this.apiUrl).pipe(qt(n=>this.usageService.setUsages(n)))}createUsage(n){return this.http.post(this.apiUrl,n).pipe(qt(a=>this.usageService.createUsage(a.usage)))}updateUsage(n,a){return this.http.put(`${this.apiUrl}/${n}`,a).pipe(qt(l=>this.usageService.updateUsage(n,l.usage)))}deleteUsage(n){return this.http.delete(`${this.apiUrl}/${n}`).pipe(qt(()=>this.usageService.deleteUsage(n)))}};e.\u0275fac=function(a){return new(a||e)(_i(Pr),_i($r))},e.\u0275prov=hi({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var rg=(t,e)=>{let i=_e(Xr),n=_e(Fc),a=_e(Uc),l=_e(Kr),f=_e(xl),p=_e(Jr),v=_e(yl),x=_e($r),S=_e(wl),M=_e(an),k=_e(i1),A=i.isProfileAdmin(),$=M.isEmpty(n.getUsers()),z=M.isEmpty(l.getCategories()),K=M.isEmpty(p.getStatuses()),U=M.isEmpty(x.getUsages()),Y=[];return A&&$&&Y.push(a.getUsers()),z&&Y.push(f.getCategories()),K&&Y.push(v.getStatuses()),U&&Y.push(S.getUsages()),M.isEmpty(Y)?!0:(k.setIsLoading(!0),Iu(Y).pipe(qt(()=>k.setIsLoading(!1)),Fn(()=>!0)))};var og=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=zt({type:e,selectors:[["app-print"]],decls:1,vars:0,template:function(a,l){a&1&&he(0,"router-outlet")},dependencies:[Ks]});let t=e;return t})();var Py=t=>["./process",t],ky=()=>["/inventory"],By=()=>({isPrint:!0}),Fy=()=>[10,25,50,100],Uy=t=>["../inventory/view",t];function jy(t,e){t&1&&(I(0,"mat-header-cell",23),D(1,"\u0E23\u0E39\u0E1B"),N())}function Vy(t,e){if(t&1&&(I(0,"mat-cell",24)(1,"a",25),he(2,"img",26),N()()),t&2){let i=e.$implicit,n=We();P(),se("routerLink",Bo(3,Uy,i.id)),P(),se("defaultImage","assets/images/no-image.jpg")("lazyLoad",n.imageUrl+i.image)}}function qy(t,e){t&1&&(I(0,"mat-header-cell",23),D(1,"\u0E23\u0E2B\u0E31\u0E2A\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C"),N())}function zy(t,e){if(t&1&&(I(0,"mat-cell"),D(1),N()),t&2){let i=e.$implicit;P(),_t(" ",i.code," ")}}function Hy(t,e){t&1&&(I(0,"mat-header-cell",23),D(1,"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C"),N())}function Gy(t,e){if(t&1&&(I(0,"mat-cell"),D(1),hn(2,"cutDetail"),N()),t&2){let i=e.$implicit;P(),_t(" ",Pn(2,1,i.description)," ")}}function Wy(t,e){t&1&&(I(0,"mat-header-cell",23),D(1,"\u0E08\u0E33\u0E19\u0E27\u0E19\u0E1E\u0E34\u0E21\u0E1E\u0E4C"),N())}function Yy(t,e){if(t&1){let i=St();I(0,"mat-cell",27)(1,"div",28)(2,"button",29),Ye("click",function(){let a=Xe(i).$implicit,l=We();return Qe(l.incrementPrintCount(a.id))}),I(3,"mat-icon",30),D(4,"add"),N()(),I(5,"mat-form-field",31)(6,"input",32),Ye("blur",function(a){let l=Xe(i).$implicit,f=We();return Qe(f.onBlurPrintCount(a,l.id))}),N()(),I(7,"button",29),Ye("click",function(){let a=Xe(i).$implicit,l=We();return Qe(l.decrementPrintCount(a.id))}),I(8,"mat-icon",30),D(9,"remove"),N()()()()}if(t&2){let i=e.$implicit;P(6),se("value",i.printCount)}}function Xy(t,e){t&1&&he(0,"mat-header-cell")}function Qy(t,e){if(t&1){let i=St();I(0,"mat-cell",27)(1,"button",29),Ye("click",function(){let a=Xe(i).$implicit,l=We();return Qe(l.onDeleteInventory(a.id))}),I(2,"mat-icon",33),D(3,"close"),N()()()}}function Zy(t,e){t&1&&he(0,"mat-header-row")}function Ky(t,e){t&1&&he(0,"mat-row")}var ag=(()=>{let e=class e{constructor(){this.subscription=new Ri,this.printService=_e(Ka),this.title="\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23 \u0E1E\u0E34\u0E21\u0E1E\u0E4C\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C",this.imageUrl=Mi.imageUrl,this.isLoading=!1,this.print="1",this.displayedColumns=["image","code","description","printCount","action"],this.dataSource=new Wr([])}ngOnInit(){this.dataSource.data=this.printService.getInventories(),this.subscription=this.printService.onInventoriesListener().subscribe(n=>this.dataSource.data=n)}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}ngOnDestroy(){this.subscription.unsubscribe()}onReset(){this.printService.resetInventory()}onBlurPrintCount(n,a){if(!this.printService.getInventoryById(a))return;let f=n.target;f.value=f.value.replace(/[^0-9]/g,""),+f.value<=0&&(f.value="1"),+f.value>=100&&(f.value="100"),this.printService.updatPrintCountInventory(a,+f.value)}incrementPrintCount(n){this.printService.incrementPrintCount(n)}decrementPrintCount(n){this.printService.decrementPrintCount(n)}onDeleteInventory(n){this.printService.deleteInventory(n)}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=zt({type:e,selectors:[["app-print-list"]],viewQuery:function(a,l){if(a&1&&(Nt(Ni,5),Nt(Ti,5)),a&2){let f;Tt(f=Mt())&&(l.paginator=f.first),Tt(f=Mt())&&(l.sort=f.first)}},decls:37,vars:15,consts:[[1,"d-flex","justify-between","gap-10","mb-20"],[1,"d-flex","gap-10"],[3,"ngModelChange","ngModel"],["value","1","checked",""],["value","2"],["mat-raised-button","","color","primary",3,"routerLink"],["mat-raised-button","","color","accent",3,"routerLink","queryParams"],[1,"mb-16","d-flex","justify-between","align-center"],["type","button","mat-button","","color","warn",3,"click"],["matSort","",3,"dataSource"],["matColumnDef","image"],["mat-sort-header","",4,"matHeaderCellDef"],["style","padding-block: 8px",4,"matCellDef"],["matColumnDef","code"],[4,"matCellDef"],["matColumnDef","description"],["matColumnDef","printCount"],["class","p-0",4,"matCellDef"],["matColumnDef","action"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSize","pageSizeOptions"],["mat-sort-header",""],[2,"padding-block","8px"],["tabindex","-1",1,"blurred-img",3,"routerLink"],[3,"defaultImage","lazyLoad"],[1,"p-0"],[1,"d-flex","align-center"],["mat-icon-button","","tabindex","-1",3,"click"],["color","accent"],[1,"printCount-field"],["type","number","matInput","",3,"blur","value"],["color","warn"]],template:function(a,l){a&1&&(I(0,"div",0)(1,"div",1)(2,"mat-radio-group",2),Qs("ngModelChange",function(p){return Xs(l.print,p)||(l.print=p),p}),I(3,"mat-radio-button",3),D(4,"\u0E04\u0E34\u0E27\u0E2D\u0E32\u0E23\u0E4C\u0E42\u0E04\u0E49\u0E14"),N(),I(5,"mat-radio-button",4),D(6,"\u0E1A\u0E32\u0E23\u0E4C\u0E42\u0E04\u0E49\u0E14"),N()(),I(7,"a",5),D(8," \u0E1E\u0E34\u0E21\u0E1E\u0E4C "),N()(),I(9,"a",6),D(10,"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E1E\u0E34\u0E21\u0E1E\u0E4C\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C"),N()(),I(11,"mat-card")(12,"mat-card-header",7)(13,"mat-card-title"),D(14),N(),I(15,"button",8),Ye("click",function(){return l.onReset()}),D(16," \u0E23\u0E35\u0E40\u0E0B\u0E47\u0E15 "),N()(),I(17,"mat-card-content")(18,"mat-table",9),yt(19,10),Fe(20,jy,2,0,"mat-header-cell",11)(21,Vy,3,5,"mat-cell",12),wt(),yt(22,13),Fe(23,qy,2,0,"mat-header-cell",11)(24,zy,2,1,"mat-cell",14),wt(),yt(25,15),Fe(26,Hy,2,0,"mat-header-cell",11)(27,Gy,3,3,"mat-cell",14),wt(),yt(28,16),Fe(29,Wy,2,0,"mat-header-cell",11)(30,Yy,10,1,"mat-cell",17),wt(),yt(31,18),Fe(32,Xy,1,0,"mat-header-cell",19)(33,Qy,4,0,"mat-cell",17),wt(),Fe(34,Zy,1,0,"mat-header-row",20)(35,Ky,1,0,"mat-row",21),N()(),he(36,"mat-paginator",22),N()),a&2&&(P(2),Ys("ngModel",l.print),P(5),se("routerLink",Bo(10,Py,l.print)),P(2),se("routerLink",Cr(12,ky))("queryParams",Cr(13,By)),P(5),ft(l.title),P(4),se("dataSource",l.dataSource),P(16),se("matHeaderRowDef",l.displayedColumns),P(),se("matRowDefColumns",l.displayedColumns),P(),se("pageSize",50)("pageSizeOptions",Cr(14,Fy)))},dependencies:[Tr,nn,Ic,Pi,mn,Ii,ki,Bi,on,rn,Ui,Fi,ju,Vu,kr,Fr,qr,Ur,Br,zr,jr,Vr,Hr,Gr,Ni,Ti,Yr,Uo,il,$a],styles:["img[_ngcontent-%COMP%]{width:100px;height:100px}.printCount-field[_ngcontent-%COMP%]{margin-top:20px;width:80px}.mat-column-image[_ngcontent-%COMP%]{flex:0 0 120px}.mat-column-code[_ngcontent-%COMP%]{flex:0 0 140px}.mat-column-description[_ngcontent-%COMP%], .mat-column-printCount[_ngcontent-%COMP%]{min-width:200px}.mat-column-action[_ngcontent-%COMP%]{min-width:60px}"]});let t=e;return t})();var T1=(()=>{let e=class e{constructor(n,a){this.http=n,this.logService=a,this.apiUrl=Mi.apiUrl+"log"}getAllLogs(){return this.http.get(this.apiUrl).pipe(ko(n=>fr(200).pipe(Fn(()=>n))),qt(n=>this.logService.setLogs(n)))}getInitialLogs(){return this.http.get(`${this.apiUrl}/init`).pipe(ko(n=>fr(200).pipe(Fn(()=>n))),qt(n=>this.logService.setLogs(n)))}getLogsByDate(n,a){return this.http.get(`${this.apiUrl}/date/${n}/${a}`).pipe(ko(l=>fr(200).pipe(Fn(()=>l))),qt(l=>this.logService.setLogs(l)))}getLogsByTrack(n){return this.http.get(`${this.apiUrl}/track/${n}`).pipe(ko(a=>fr(200).pipe(Fn(()=>a))),qt(a=>this.logService.setLogs(a)))}getLogsByCode(n){return this.http.get(`${this.apiUrl}/code/${n}`).pipe(ko(a=>fr(200).pipe(Fn(()=>a))),qt(a=>this.logService.setLogs(a)))}getLogById(n){return this.http.get(`${this.apiUrl}/${n}`)}};e.\u0275fac=function(a){return new(a||e)(_i(Pr),_i(Qa))},e.\u0275prov=hi({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Jy=["filterInput"],$y=["code"],e4=()=>[Tr,Ru,In,nn,An,Nn,Tn,Pi,ki,Bi,on,rn,Ui,Fi,Qi,kr,Fr,qr,Ur,Br,zr,jr,Vr,Hr,Gr,Ni,Ti,Yr,ul,Mc,$s,Uo,pn,Fo,$a],t4=()=>[10,25,50,100],i4=t=>["./view",t],n4=(t,e)=>({newParcel:t,editParcel:e});function r4(t,e){t&1&&he(0,"mat-progress-bar",21)}function o4(t,e){if(t&1&&(I(0,"span",27),D(1),N()),t&2){let i=We(2);P(),_t(" (+",((i.category.value==null?null:i.category.value.length)||0)-1," \u0E2D\u0E37\u0E48\u0E19 \u0E46 ) ")}}function a4(t,e){if(t&1){let i=St();I(0,"mat-option",35),Ye("click",function(){Xe(i);let a=We(2);return Qe(a.onFilter())}),D(1),N()}if(t&2){let i=e.$implicit;se("value",i),P(),ft(i)}}function s4(t,e){if(t&1&&(I(0,"span",27),D(1),N()),t&2){let i=We(2);P(),_t(" (+",((i.status.value==null?null:i.status.value.length)||0)-1," \u0E2D\u0E37\u0E48\u0E19 \u0E46 ) ")}}function l4(t,e){if(t&1){let i=St();I(0,"mat-option",35),Ye("click",function(){Xe(i);let a=We(2);return Qe(a.onFilter())}),D(1),N()}if(t&2){let i=e.$implicit;se("value",i),P(),ft(i)}}function c4(t,e){if(t&1&&(I(0,"span",27),D(1),N()),t&2){let i=We(2);P(),_t(" (+",((i.usage.value==null?null:i.usage.value.length)||0)-1," \u0E2D\u0E37\u0E48\u0E19 \u0E46 ) ")}}function u4(t,e){if(t&1){let i=St();I(0,"mat-option",35),Ye("click",function(){Xe(i);let a=We(2);return Qe(a.onFilter())}),D(1),N()}if(t&2){let i=e.$implicit;se("value",i),P(),ft(i)}}function f4(t,e){if(t&1&&(I(0,"span",27),D(1),N()),t&2){let i=We(2);P(),_t(" (+",((i.inventory.value==null?null:i.inventory.value.length)||0)-1," \u0E2D\u0E37\u0E48\u0E19 \u0E46 ) ")}}function h4(t,e){if(t&1){let i=St();I(0,"mat-option",35),Ye("click",function(){Xe(i);let a=We(2);return Qe(a.onFilter())}),D(1),N()}if(t&2){let i=e.$implicit;se("value",i),P(),ft(i)}}function d4(t,e){t&1&&(I(0,"mat-header-cell",49),D(1,"No."),N())}function m4(t,e){if(t&1&&(I(0,"mat-cell"),D(1),N()),t&2){let i=e.$implicit;P(),_t(" ",i.no," ")}}function p4(t,e){t&1&&(I(0,"mat-header-cell",49),D(1,"\u0E23\u0E39\u0E1B"),N())}function g4(t,e){if(t&1&&(I(0,"mat-cell")(1,"a",50),he(2,"img",51),N()()),t&2){let i=e.$implicit,n=We(3);P(),se("routerLink",Bo(3,i4,i.id)),P(),se("defaultImage","assets/images/no-image.jpg")("lazyLoad",n.imageUrl+i.image)}}function v4(t,e){t&1&&(I(0,"mat-header-cell",49),D(1,"\u0E23\u0E2B\u0E31\u0E2A\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C"),N())}function E4(t,e){if(t&1&&(I(0,"mat-cell"),D(1),N()),t&2){let i=e.$implicit;P(),_t(" ",i.code," ")}}function x4(t,e){t&1&&(I(0,"mat-header-cell",49),D(1,"\u0E04\u0E38\u0E13\u0E2A\u0E21\u0E1A\u0E31\u0E15\u0E34"),N())}function y4(t,e){if(t&1&&(I(0,"mat-cell"),D(1),N()),t&2){let i=e.$implicit;P(),_t(" ",i.categoryName," ")}}function w4(t,e){t&1&&(I(0,"mat-header-cell",49),D(1,"\u0E2A\u0E16\u0E32\u0E19\u0E30"),N())}function _4(t,e){if(t&1&&(I(0,"mat-cell"),D(1),N()),t&2){let i=e.$implicit;P(),_t(" ",i.statusName," ")}}function b4(t,e){t&1&&(I(0,"mat-header-cell",49),D(1,"\u0E01\u0E32\u0E23\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19"),N())}function C4(t,e){if(t&1&&(I(0,"mat-cell"),D(1),N()),t&2){let i=e.$implicit;P(),_t(" ",i.usageName," ")}}function S4(t,e){t&1&&(I(0,"mat-header-cell",49),D(1,"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C"),N())}function A4(t,e){if(t&1&&(I(0,"mat-cell"),D(1),hn(2,"cutDetail"),N()),t&2){let i=e.$implicit;P(),_t(" ",Pn(2,1,i.description)," ")}}function I4(t,e){t&1&&(I(0,"mat-header-cell",49),D(1,"\u0E23\u0E32\u0E22\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14"),N())}function N4(t,e){t&1&&D(0," \u0E40\u0E1E\u0E34\u0E48\u0E21\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C ")}function T4(t,e){t&1&&D(0," \u0E41\u0E01\u0E49\u0E44\u0E02\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C ")}function M4(t,e){if(t&1&&(I(0,"mat-cell")(1,"span",52),Fe(2,N4,1,0)(3,T4,1,0),N()()),t&2){let i=e.$implicit;P(),se("ngClass",ep(2,n4,i.isCreated,!i.isCreated)),P(),Pt(2,i.isCreated?2:3)}}function L4(t,e){t&1&&(I(0,"mat-header-cell",49),D(1,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E2A\u0E23\u0E49\u0E32\u0E07 Log"),N())}function D4(t,e){if(t&1&&(I(0,"mat-cell"),D(1),hn(2,"date"),N()),t&2){let i=e.$implicit;P(),_t(" ",Yl(2,1,i.createdAt,"medium")," ")}}function O4(t,e){if(t&1&&(I(0,"div"),D(1),N()),t&2){let i=e.$implicit;P(),_t(" ",i.track," ")}}function R4(t,e){t&1&&he(0,"mat-header-row")}function P4(t,e){t&1&&he(0,"mat-row")}function k4(t,e){if(t&1&&(I(0,"mat-table",33),yt(1,36),Fe(2,d4,2,0,"mat-header-cell",37)(3,m4,2,1,"mat-cell",38),wt(),yt(4,39),Fe(5,p4,2,0,"mat-header-cell",37)(6,g4,3,5,"mat-cell",38),wt(),yt(7,40),Fe(8,v4,2,0,"mat-header-cell",37)(9,E4,2,1,"mat-cell",38),wt(),yt(10,41),Fe(11,x4,2,0,"mat-header-cell",37)(12,y4,2,1,"mat-cell",38),wt(),yt(13,42),Fe(14,w4,2,0,"mat-header-cell",37)(15,_4,2,1,"mat-cell",38),wt(),yt(16,43),Fe(17,b4,2,0,"mat-header-cell",37)(18,C4,2,1,"mat-cell",38),wt(),yt(19,44),Fe(20,S4,2,0,"mat-header-cell",37)(21,A4,3,3,"mat-cell",38),wt(),yt(22,45),Fe(23,I4,2,0,"mat-header-cell",37)(24,M4,4,5,"mat-cell",38),wt(),yt(25,46),Fe(26,L4,2,0,"mat-header-cell",37)(27,D4,3,4,"mat-cell",38),wt(),Fe(28,O4,2,1,"div",38)(29,R4,1,0,"mat-header-row",47)(30,P4,1,0,"mat-row",48),N()),t&2){let i=We(2);se("dataSource",i.dataSource),P(29),se("matHeaderRowDef",i.displayedColumns),P(),se("matRowDefColumns",i.displayedColumns)}}function B4(t,e){t&1&&he(0,"app-loading-data",53),t&2&&se("form","list")}function F4(t,e){if(t&1){let i=St();I(0,"mat-card",22)(1,"mat-card-header",23)(2,"mat-card-title"),D(3),N(),I(4,"button",24),Ye("click",function(){Xe(i);let a=We();return Qe(a.onResetFilter())}),D(5," \u0E23\u0E35\u0E40\u0E0B\u0E47\u0E15 "),N()(),I(6,"mat-card-content")(7,"form",25)(8,"mat-form-field")(9,"mat-label"),D(10,"\u0E04\u0E38\u0E13\u0E2A\u0E21\u0E1A\u0E31\u0E15\u0E34"),N(),I(11,"mat-select",26)(12,"mat-select-trigger"),D(13),Fe(14,o4,2,1,"span",27),N(),On(15,a4,2,2,"mat-option",28,or),N()(),I(17,"mat-form-field")(18,"mat-label"),D(19,"\u0E2A\u0E16\u0E32\u0E19\u0E30"),N(),I(20,"mat-select",29)(21,"mat-select-trigger"),D(22),Fe(23,s4,2,1,"span",27),N(),On(24,l4,2,2,"mat-option",28,or),N()(),I(26,"mat-form-field")(27,"mat-label"),D(28,"\u0E01\u0E32\u0E23\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19"),N(),I(29,"mat-select",30)(30,"mat-select-trigger"),D(31),Fe(32,c4,2,1,"span",27),N(),On(33,u4,2,2,"mat-option",28,or),N()(),I(35,"mat-form-field")(36,"mat-label"),D(37,"\u0E01\u0E32\u0E23\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19"),N(),I(38,"mat-select",31)(39,"mat-select-trigger"),D(40),Fe(41,f4,2,1,"span",27),N(),On(42,h4,2,2,"mat-option",28,or),N()(),I(44,"mat-form-field")(45,"mat-label"),D(46,"\u0E01\u0E23\u0E2D\u0E07\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25"),N(),I(47,"input",32,2),Ye("keyup",function(a){Xe(i);let l=We();return Qe(l.applyFilter(a))}),N()()(),Fe(49,k4,31,3,"mat-table",33)(50,B4,1,1),he(51,"mat-paginator",34),N()()}if(t&2){let i=We();P(3),ft(i.title),P(4),se("formGroup",i.form),P(6),_t(" ",(i.category.value==null?null:i.category.value[0])||""," "),P(),Pt(14,((i.category.value==null?null:i.category.value.length)||0)>1?14:-1),P(),Rn(i.filterLog.categories),P(7),_t(" ",(i.status.value==null?null:i.status.value[0])||""," "),P(),Pt(23,((i.status.value==null?null:i.status.value.length)||0)>1?23:-1),P(),Rn(i.filterLog.statuses),P(7),_t(" ",(i.usage.value==null?null:i.usage.value[0])||""," "),P(),Pt(32,((i.usage.value==null?null:i.usage.value.length)||0)>1?32:-1),P(),Rn(i.filterLog.usages),P(7),_t(" ",(i.inventory.value==null?null:i.inventory.value[0])||""," "),P(),Pt(41,((i.inventory.value==null?null:i.inventory.value.length)||0)>1?41:-1),P(),Rn(i.filterLog.inventories),P(7),Pt(49,i.isLoading?50:49),P(2),se("pageSizeOptions",Cr(12,t4))}}function U4(t,e){t&1&&he(0,"app-loading-data",53),t&2&&se("form","list")}var M1=function(t){return t[t.Date=0]="Date",t[t.Code=1]="Code",t}(M1||{}),sg=(()=>{let e=class e{constructor(){this.subscription=new Ri,this.formBuilder=_e(zn),this.categoryService=_e(Kr),this.statusService=_e(Jr),this.usageService=_e($r),this.logService=_e(Qa),this.logApiService=_e(T1),this.validationService=_e(an),this.datePipe=_e(Fo),this.imageUrl=Mi.imageUrl,this.title="\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23 \u0E1B\u0E23\u0E30\u0E27\u0E49\u0E15\u0E34\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C",this.filterLog={inventories:["\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E1E\u0E31\u0E2A\u0E14\u0E38","\u0E41\u0E01\u0E49\u0E44\u0E02\u0E1E\u0E31\u0E2A\u0E14\u0E38"],categories:this.categoryService.getActiveCategoriesName(),statuses:this.statusService.getActiveStatusNames(),usages:this.usageService.getActiveUsageNames()},this.form=this.initForm(),this.isLoading=!1,this.selectedTap=new tl(M1.Date),this.startDate=new Date(new Date().getFullYear(),new Date().getMonth(),1),this.endDate=new Date,this.dateRange=this.formBuilder.group({start:[this.startDate,[kt.required]],end:[this.endDate,[kt.required]]}),this.displayedColumns=["no","image","code","category","status","usage","isCreated","description","createdAt"],this.dataSource=new Wr([]),this.isFirstLoading=!1,this.isSort=!1}ngOnInit(){this.initDataSource(),this.subscription=this.logService.onLogsListener().subscribe(()=>{this.dataSource.data=this.logService.getLogsTable(),this.initPaginatorAndSort()})}ngOnDestroy(){this.subscription.unsubscribe()}onSearch(){if(this.selectedTap.value===M1.Date){if(this.dateRange.invalid)return;let n=this.datePipe.transform(this.dateRange.controls.start.value,"yyyy-MM-dd"),a=this.datePipe.transform(this.dateRange.controls.end.value,"yyyy-MM-dd");this.operation$=this.logApiService.getLogsByDate(n,a)}else if(this.selectedTap.value===M1.Code){if(!this.code)return;let n=this.code.nativeElement.value.replace(/^\s+|\s+$/gm,"");if(!n)return;this.operation$=this.logApiService.getLogsByCode(n)}this.isLoading=!0,this.isSort=!1,this.operation$.pipe(qt(()=>this.onFilter()),oi(()=>this.isLoading=!1)).subscribe()}onSearchAll(){this.isLoading=!0,this.isSort=!1,this.logApiService.getAllLogs().pipe(qt(()=>this.setFilter()),oi(()=>this.isLoading=!1)).subscribe()}setFilter(){this.form.setValue({inventory:[],category:[],status:[],usage:[]})}onFilter(){let n=this.logService.getLogs(),a={categoryName:this.category.value,statusName:this.status.value,usageName:this.usage.value},l=Object.keys(a).reduce((v,x)=>v.filter(S=>a[x].length===0?v:a[x].includes(S[x])),n);if(this.validationService.isEmpty(this.inventory.value)){this.dataSource.data=l.map((v,x)=>Hl(yi({},v),{no:x+1}));return}let f=this.inventory.value.includes("\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E1E\u0E31\u0E2A\u0E14\u0E38"),p=this.inventory.value.includes("\u0E41\u0E01\u0E49\u0E44\u0E02\u0E1E\u0E31\u0E2A\u0E14\u0E38");this.dataSource.data=l.filter(v=>v.isCreated&&f||!v.isCreated&&p).map((v,x)=>Hl(yi({},v),{no:x+1}))}onResetFilter(){this.filterInput.nativeElement.value="",this.dataSource.filter="",this.setFilter(),this.onFilter()}applyFilter(n){let a=n.target.value;this.dataSource.filter=a.trim().toLowerCase()}get inventory(){return this.form.controls.inventory}get category(){return this.form.controls.category}get status(){return this.form.controls.status}get usage(){return this.form.controls.usage}initForm(){return this.formBuilder.group({inventory:this.formBuilder.control([]),category:this.formBuilder.control([]),status:this.formBuilder.control([]),usage:this.formBuilder.control([])})}initDataSource(){if(this.dataSource.data=this.logService.getLogsTable(),this.validationService.isEmpty(this.dataSource.data)){this.logApiService.getInitialLogs().pipe(oi(()=>this.isFirstLoading=!0)).subscribe();return}this.initPaginatorAndSort()}initPaginatorAndSort(){wr(()=>this.paginator&&this.sort?Qn(null):_r(300).pipe(nr(()=>!!this.paginator&&!!this.sort),br(1))).subscribe(()=>{this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.isSort||(this.dataSource.sort.sort({id:"createdAt",start:"desc",disableClear:!0}),this.isSort=!0)})}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=zt({type:e,selectors:[["app-log-list"]],viewQuery:function(a,l){if(a&1&&(Nt(Ni,5),Nt(Ti,5),Nt(Jy,5),Nt($y,7)),a&2){let f;Tt(f=Mt())&&(l.paginator=f.first),Tt(f=Mt())&&(l.sort=f.first),Tt(f=Mt())&&(l.filterInput=f.first),Tt(f=Mt())&&(l.code=f.first)}},decls:38,vars:8,consts:[["picker",""],["code",""],["filterInput",""],[300],[1,"mb-20","mat-elevation-z8"],["mat-stretch-tabs","false",3,"selectedIndexChange","selectedIndex"],["label","\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48"],[1,"w-100"],[3,"rangePicker","formGroup"],["matStartDate","","formControlName","start","readonly","",3,"click"],["matEndDate","","formControlName","end","readonly","",3,"click"],["align","end"],["matIconSuffix","",3,"for"],["label","\u0E23\u0E2B\u0E31\u0E2A\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C"],[3,"ngSubmit"],["matInput",""],["type","submit","matSuffix","","mat-icon-button",""],["matSuffix","","fontIcon","search"],[1,"justify-between"],["type","button","mat-raised-button","","color","primary",3,"click","disabled"],["type","button","mat-raised-button","","color","accent",3,"click","disabled"],["mode","indeterminate"],[1,"mat-elevation-z8"],[1,"mb-16","d-flex","justify-between","align-center"],["type","button","mat-button","","color","warn",3,"click"],[1,"filter-box",3,"formGroup"],["formControlName","category","multiple",""],[1,"additional-selection"],[3,"value"],["formControlName","status","multiple",""],["formControlName","usage","multiple",""],["formControlName","inventory","multiple",""],["matInput","",3,"keyup"],["matSort","",3,"dataSource"],["showFirstLastButtons","",3,"pageSizeOptions"],[3,"click","value"],["matColumnDef","no"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","image"],["matColumnDef","code"],["matColumnDef","category"],["matColumnDef","status"],["matColumnDef","usage"],["matColumnDef","description"],["matColumnDef","isCreated"],["matColumnDef","createdAt"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["mat-sort-header",""],[1,"blurred-img",3,"routerLink"],[3,"defaultImage","lazyLoad"],[1,"detail-log",3,"ngClass"],[3,"form"]],template:function(a,l){if(a&1){let f=St();I(0,"mat-card",4)(1,"mat-tab-group",5),Ye("selectedIndexChange",function(v){return Xe(f),Qe(l.selectedTap.setValue(v))}),I(2,"mat-tab",6)(3,"mat-card-content")(4,"mat-form-field",7)(5,"mat-label"),D(6,"\u0E08\u0E32\u0E01 - \u0E16\u0E36\u0E07"),N(),I(7,"mat-date-range-input",8)(8,"input",9),Ye("click",function(){Xe(f);let v=Xi(14);return Qe(v.open())}),N(),I(9,"input",10),Ye("click",function(){Xe(f);let v=Xi(14);return Qe(v.open())}),N()(),I(10,"mat-hint",11),D(11,"\u0E27\u0E31\u0E19/\u0E40\u0E14\u0E37\u0E2D\u0E19/\u0E1E.\u0E28."),N(),he(12,"mat-datepicker-toggle",12)(13,"mat-date-range-picker",null,0),N()()(),I(15,"mat-tab",13)(16,"mat-card-content")(17,"form",14),Ye("ngSubmit",function(){return Xe(f),Qe(l.onSearch())}),I(18,"mat-form-field",7)(19,"mat-label"),D(20,"\u0E23\u0E2B\u0E31\u0E2A\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C"),N(),he(21,"input",15,1),I(23,"button",16),he(24,"mat-icon",17),N()()()()()(),I(25,"mat-card-actions",18)(26,"button",19),Ye("click",function(){return Xe(f),Qe(l.onSearch())}),I(27,"mat-icon"),D(28,"search"),N(),D(29," \u0E04\u0E49\u0E19\u0E2B\u0E32 "),N(),I(30,"button",20),Ye("click",function(){return Xe(f),Qe(l.onSearchAll())}),D(31," \u0E04\u0E49\u0E19\u0E2B\u0E32\u0E17\u0E31\u0E49\u0E07\u0E2B\u0E21\u0E14 "),N()(),I(32,"mat-card-footer"),Fe(33,r4,1,0,"mat-progress-bar",21),N()(),Fe(34,F4,52,13)(35,U4,1,1),jn(36,34,e4,null,35,null,null,3,Un)}if(a&2){let f=Xi(14);P(),se("selectedIndex",l.selectedTap.value),P(6),se("rangePicker",f)("formGroup",l.dateRange),P(5),se("for",f),P(14),se("disabled",l.isLoading),P(4),se("disabled",l.isLoading),P(3),Pt(33,l.isLoading?33:-1),P(3),Vn(l.dataSource.data.length>0||l.isFirstLoading)}},dependencies:[In,qn,nn,An,Nn,Tn,Pi,mn,Ii,ki,lo,Bi,co,Ui,Fi,Qi,nl,fo,Hn,fl,Wu,Hu,Gu,Yu,Lc,Dc,pn,Nc],styles:["img[_ngcontent-%COMP%]{width:100%;height:100%}.mat-column-no[_ngcontent-%COMP%]{flex:0 0 70px}.mat-column-image[_ngcontent-%COMP%]{flex:0 0 120px;padding-block:8px}.mat-column-code[_ngcontent-%COMP%]{flex:0 0 140px}.mat-column-category[_ngcontent-%COMP%], .mat-column-status[_ngcontent-%COMP%], .mat-column-usage[_ngcontent-%COMP%]{flex:0 0 120px}.mat-column-isCreated[_ngcontent-%COMP%]{flex:0 0 150px}.mat-column-description[_ngcontent-%COMP%]{min-width:200px}.mat-column-createdAt[_ngcontent-%COMP%]{min-width:150px}.filter-box[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;gap:10px}.filter-box[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1 1 calc(25% - 10px);min-width:150px}.filter-box[_ngcontent-%COMP%]   .additional-selection[_ngcontent-%COMP%]{opacity:.75;font-size:.75em}@media (max-width: 968px){.filter-box[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1 1 calc(50% - 10px)}}@media (min-width: 599px){.filter-box[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1 1 calc(25% - 10px)}}.detail-log[_ngcontent-%COMP%]{font-weight:600;padding:6px 10px;border-radius:6px}.newParcel[_ngcontent-%COMP%]{background-color:#ff9800;color:#000}.editParcel[_ngcontent-%COMP%]{background-color:#ffeb3b;color:#000}.dark-theme[_nghost-%COMP%]   .newParcel[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .newParcel[_ngcontent-%COMP%]{background-color:#ff5722;color:#fff}.dark-theme[_nghost-%COMP%]   .editParcel[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .editParcel[_ngcontent-%COMP%]{background-color:#d6a505;color:#fff}"]});let t=e;return t})();var L1=(()=>{let e=class e{transform(n){return n?n.split(`
`).map(f=>`<p>${f}</p>`).join("").replace(/['"]+/g,""):"-"}};e.\u0275fac=function(a){return new(a||e)},e.\u0275pipe=Nu({name:"dispTextarea",type:e,pure:!0});let t=e;return t})();var V4=()=>[da,Pi,Uu,Tc,mp,ma,Fu,Bu,ki,Bi,on,rn,Uo,Pu,Fo,r1,L1];function q4(t,e){t&1&&(yt(0),I(1,"button",3),D(2," \u0E44\u0E21\u0E48\u0E1E\u0E1A\u0E1B\u0E23\u0E30\u0E27\u0E31\u0E15\u0E34\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C "),N(),wt())}function z4(t,e){t&1&&D(0,"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C")}function H4(t,e){t&1&&D(0,"\u0E41\u0E01\u0E49\u0E44\u0E02\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C")}function G4(t,e){if(t&1&&(I(0,"mat-card",4)(1,"mat-card-header",5)(2,"mat-card-title"),D(3),N()(),I(4,"mat-card-content")(5,"div",6),he(6,"img",7),N(),I(7,"mat-list")(8,"div",8),D(9,"\u0E23\u0E32\u0E22\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14 \u0E1B\u0E23\u0E30\u0E27\u0E31\u0E15\u0E34"),N(),he(10,"mat-divider"),I(11,"mat-list-item")(12,"span",9),D(13,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E1E\u0E34\u0E48\u0E21 Log"),N(),I(14,"span",10),D(15),hn(16,"date"),N()(),I(17,"div",11)(18,"mat-list-item")(19,"span",9),D(20,"\u0E0A\u0E37\u0E48\u0E2D - \u0E2A\u0E01\u0E38\u0E25"),N(),I(21,"span",10),D(22),N()(),I(23,"mat-list-item")(24,"span",9),D(25,"\u0E40\u0E1E\u0E34\u0E48\u0E21 / \u0E41\u0E01\u0E49\u0E44\u0E02"),N(),I(26,"span",10),Fe(27,z4,1,0)(28,H4,1,0),N()()()(),I(29,"mat-list")(30,"div",12),D(31,"\u0E23\u0E32\u0E22\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14 \u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C"),N(),he(32,"mat-divider"),I(33,"mat-list-item")(34,"span",9),D(35,"\u0E23\u0E2B\u0E31\u0E2A\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C"),N(),I(36,"span",10),D(37),N()(),I(38,"div",11)(39,"mat-list-item")(40,"span",9),D(41,"\u0E23\u0E2B\u0E31\u0E2A\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C\u0E40\u0E14\u0E34\u0E21"),N(),I(42,"span",10),D(43),N()(),I(44,"mat-list-item")(45,"span",9),D(46,"\u0E2B\u0E19\u0E48\u0E27\u0E22\u0E19\u0E31\u0E1A"),N(),I(47,"span",10),D(48),N()()(),I(49,"div",11)(50,"mat-list-item")(51,"span",9),D(52,"\u0E21\u0E39\u0E25\u0E04\u0E48\u0E32\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C"),N(),I(53,"span",10),D(54),hn(55,"number"),N()(),I(56,"mat-list-item")(57,"span",9),D(58,"\u0E41\u0E2B\u0E25\u0E48\u0E07\u0E40\u0E07\u0E34\u0E19"),N(),I(59,"span",10),D(60),N()()(),I(61,"div",11)(62,"mat-list-item")(63,"span",9),D(64,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E44\u0E14\u0E49\u0E21\u0E32"),N(),I(65,"span",10),D(66),hn(67,"thaiYear"),N()(),I(68,"mat-list-item")(69,"span",9),D(70,"\u0E2A\u0E16\u0E32\u0E19\u0E17\u0E35\u0E48\u0E15\u0E31\u0E49\u0E07/\u0E08\u0E31\u0E14\u0E40\u0E01\u0E47\u0E1A"),N(),I(71,"span",10),D(72),N()()(),I(73,"div",11)(74,"mat-list-item")(75,"span",9),D(76,"\u0E04\u0E38\u0E13\u0E2A\u0E21\u0E1A\u0E31\u0E15\u0E34 (\u0E22\u0E35\u0E48\u0E2B\u0E49\u0E2D/\u0E23\u0E38\u0E48\u0E19) "),N(),I(77,"span",10),D(78),N()(),I(79,"mat-list-item")(80,"span",9),D(81,"\u0E2A\u0E16\u0E32\u0E19\u0E30"),N(),I(82,"span",10),D(83),N()()(),I(84,"div",11)(85,"mat-list-item")(86,"span",9),D(87,"\u0E01\u0E32\u0E23\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19"),N(),I(88,"span",10),D(89),N()(),I(90,"mat-list-item")(91,"span",9),D(92,"\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19\u0E21\u0E32\u0E41\u0E25\u0E49\u0E27"),N(),I(93,"span",10),D(94),N()()(),I(95,"mat-list-item")(96,"span",9),D(97,"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C"),N()(),he(98,"div",13),hn(99,"dispTextarea"),I(100,"mat-list-item")(101,"span",9),D(102,"\u0E2B\u0E21\u0E32\u0E22\u0E40\u0E2B\u0E15\u0E38"),N()(),he(103,"div",13),hn(104,"dispTextarea"),N()()()),t&2){let i=We(2);P(3),ft(i.title),P(3),se("defaultImage","assets/images/no-image.jpg")("lazyLoad",i.imageUrl+i.log.image),P(9),ft(Yl(16,20,i.log.createdAt,"medium")),P(7),Ou("",i.log.firstname," ",i.log.lastname,""),P(5),Pt(27,i.log.isCreated?27:28),P(10),ft(i.log.code),P(6),ft(i.isEmpty(i.log.oldCode)),P(5),ft(i.log.unit),P(6),ft(Yl(55,23,i.log.value,"1.2-2")),P(6),ft(i.log.unit),P(6),ft(Pn(67,26,i.log.receivedDate)),P(6),ft(i.log.location),P(6),ft(i.log.categoryName),P(5),ft(i.log.statusName),P(6),ft(i.log.usageName),P(5),ft(i.getUseDate(i.log.receivedDate)),P(4),se("innerHTML",Pn(99,28,i.log.description),_c),P(5),se("innerHTML",Pn(104,30,i.log.remark),_c)}}function W4(t,e){if(t&1&&Fe(0,q4,3,0,"ng-container",2)(1,G4,105,32,"ng-template",null,0,Zs),t&2){let i=Xi(2),n=We();se("ngIf",!n.log)("ngIfElse",i)}}function Y4(t,e){t&1&&he(0,"app-loading-data",14),t&2&&se("form","card")}var cg=(()=>{let e=class e{constructor(){this.route=_e(Xa),this.logService=_e(Qa),this.logApiService=_e(T1),this.inventoryService=_e(Qr),this.imageUrl=Mi.imageUrl,this.title="\u0E23\u0E32\u0E22\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14 \u0E1B\u0E23\u0E30\u0E27\u0E49\u0E15\u0E34\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C",this.isLoading=!1,this.id=+this.route.snapshot.params.id,this.log=this.logService.getLogById(this.id)}ngOnInit(){this.log||(this.isLoading=!0,this.logApiService.getLogById(this.id).pipe(oi(()=>this.isLoading=!1)).subscribe(n=>n&&(this.log=n)))}isEmpty(n){return n||"-"}getUseDate(n){let a=new Date(n);return this.inventoryService.getUseDate(a)}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=zt({type:e,selectors:[["app-log-view"]],decls:4,vars:1,consts:[["content",""],[300],[4,"ngIf","ngIfElse"],["mat-flat-button","","color","warn",1,"w-100"],[1,"mat-elevation-z8"],[1,"mb-16"],[1,"blurred-img"],[1,"size",3,"defaultImage","lazyLoad"],["mat-subheader","",1,"m-left-0"],["matListItemTitle",""],["matListItemLine",""],[1,"d-flex","flex-row"],["mat-subheader","",2,"margin-left","0"],[1,"view-textarea",3,"innerHTML"],[3,"form"]],template:function(a,l){a&1&&(Fe(0,W4,3,2)(1,Y4,1,1),jn(2,0,V4,null,1,null,null,1,Un)),a&2&&(P(2),Vn(!l.isLoading))},dependencies:[pn],styles:["mat-list-item[_ngcontent-%COMP%]{padding:0}.m-left-0[_ngcontent-%COMP%]{margin-left:0}.newParcel[_ngcontent-%COMP%]{color:#a438b6}.editParcel[_ngcontent-%COMP%]{color:#d0e1fd}.increaseQuantity[_ngcontent-%COMP%]{color:#46a14a}.decreaseQuantity[_ngcontent-%COMP%]{color:#f55246}.print[_ngcontent-%COMP%]{color:#f5b907}.shadow-newParcel[_ngcontent-%COMP%]{box-shadow:#a438b633 0 7px 29px}.shadow-editParcel[_ngcontent-%COMP%]{box-shadow:#d0e1fd33 0 7px 29px}.shadow-increaseQuantity[_ngcontent-%COMP%]{box-shadow:#46a14a33 0 7px 29px}.shadow-decreaseQuantity[_ngcontent-%COMP%]{box-shadow:#f5524633 0 7px 29px}.shadow-print[_ngcontent-%COMP%]{box-shadow:#f5b90733 0 7px 29px}.view-textarea[_ngcontent-%COMP%]{margin-top:-12px;color:#0000008a}.view-textarea[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px}.dark-theme[_nghost-%COMP%]   .view-textarea[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .view-textarea[_ngcontent-%COMP%]{color:#ffffffb3}"]});let t=e;return t})();var ug={validationField:{name:{required:"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38 \u0E0A\u0E37\u0E48\u0E2D"},active:{required:"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38 \u0E2A\u0E16\u0E32\u0E19\u0E30\u0E01\u0E32\u0E23\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19"}}};var X4=["formDirec"],Q4=["nameInput"];function Z4(t,e){t&1&&he(0,"mat-progress-bar",15)}var xh=(()=>{let e=class e{constructor(){this.data=_e(ol),this.formBuilder=_e(zn),this.dialogRef=_e(rl),this.statusApiService=_e(yl),this.toastService=_e(Gn),this.validationField=ug.validationField,this.title="\u0E40\u0E1E\u0E34\u0E48\u0E21 \u0E2A\u0E20\u0E32\u0E19\u0E30\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C",this.isEdit=!1,this.isLoading=!1,this.form=this.initForm()}ngOnInit(){this.data&&(this.title="\u0E41\u0E01\u0E49\u0E44\u0E02 \u0E2A\u0E16\u0E32\u0E19\u0E30\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C",this.isEdit=!0,this.form.patchValue(this.data)),this.dialogRef.keydownEvents().subscribe(n=>n.key==="Escape"&&this.onCloseDialog()),this.dialogRef.backdropClick().subscribe(()=>this.onCloseDialog())}onSubmit(){if(this.form.invalid||JSON.stringify(this.data)===JSON.stringify(this.form.value))return;let l=yi({},this.form.getRawValue()),{id:n}=l,a=zs(l,["id"]);this.isLoading=!0,this.operation$=this.isEdit?this.statusApiService.updateStatus(n,a):this.statusApiService.createStatus(a),this.operation$.pipe(Ya(f=>(f.status===0&&this.dialogRef.close(),Hs(()=>f))),oi(()=>this.isLoading=!1)).subscribe(f=>{this.isEdit?this.dialogRef.close():this.onReset(),this.toastService.success("Success",f.message)})}onReset(){this.isEdit?this.form.patchValue(this.data):this.formDirec.resetForm(),this.nameInput.nativeElement.focus()}newDialogBackdropHandler(){if(this.name.value!==""||this.remark.value!=="")return this.confirmDialogBackdropHandler();this.dialogRef.close()}editDialogBackdropHandler(){if(this.name.value!==this.data.name||this.active.value!==this.data.active||this.remark.value!==this.data.remark)return this.confirmDialogBackdropHandler();this.dialogRef.close()}confirmDialogBackdropHandler(){confirm("\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01\u0E01\u0E32\u0E23\u0E41\u0E01\u0E49\u0E44\u0E02\u0E41\u0E25\u0E30\u0E2D\u0E2D\u0E01\u0E08\u0E32\u0E01\u0E1F\u0E2D\u0E23\u0E4C\u0E21\u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48?")&&this.dialogRef.close()}onCloseDialog(){this.isEdit?this.editDialogBackdropHandler():this.newDialogBackdropHandler()}get name(){return this.form.controls.name}get active(){return this.form.controls.active}get remark(){return this.form.controls.remark}initForm(){return this.formBuilder.nonNullable.group({id:[null],name:["",[kt.required]],active:[!0,[kt.required]],remark:[""]})}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=zt({type:e,selectors:[["app-status-edit"]],viewQuery:function(a,l){if(a&1&&(Nt(X4,5),Nt(Q4,5)),a&2){let f;Tt(f=Mt())&&(l.formDirec=f.first),Tt(f=Mt())&&(l.nameInput=f.first)}},decls:32,vars:7,consts:[["formDirec","ngForm"],["nameInput",""],[1,"d-flex","justify-between","align-center"],["mat-dialog-title",""],["mat-icon-button","","tabindex","-1",1,"btn-close",3,"click"],[3,"ngSubmit","formGroup"],[1,"form-container"],[1,"box"],["type","text","matInput","","formControlName","name"],[3,"control","errorMessage"],["type","text","matInput","","formControlName","remark"],[1,"d-flex","gap-10"],["formControlName","active"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],["type","button","mat-button","","color","warn",3,"click","disabled"],["mode","indeterminate"]],template:function(a,l){if(a&1){let f=St();I(0,"div",2)(1,"h2",3),D(2),N(),I(3,"button",4),Ye("click",function(){return Xe(f),Qe(l.onCloseDialog())}),I(4,"mat-icon"),D(5,"close"),N()()(),I(6,"form",5,0),Ye("ngSubmit",function(){return Xe(f),Qe(l.onSubmit())}),he(8,"mat-divider"),I(9,"mat-dialog-content",6)(10,"div",7)(11,"mat-form-field")(12,"mat-label"),D(13,"\u0E0A\u0E37\u0E48\u0E2D"),N(),he(14,"input",8,1),I(16,"mat-error"),he(17,"app-error-field",9),N()(),I(18,"mat-form-field")(19,"mat-label"),D(20,"\u0E2B\u0E21\u0E32\u0E22\u0E40\u0E2B\u0E15\u0E38"),N(),he(21,"input",10),N()(),I(22,"div",11),he(23,"mat-slide-toggle",12),I(24,"span"),D(25,"\u0E40\u0E1B\u0E34\u0E14\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19"),N()()(),I(26,"mat-dialog-actions")(27,"button",13),D(28," \u0E15\u0E01\u0E25\u0E07 "),N(),I(29,"button",14),Ye("click",function(){return Xe(f),Qe(l.onReset())}),D(30," \u0E23\u0E35\u0E40\u0E0B\u0E47\u0E15 "),N()()(),Fe(31,Z4,1,0,"mat-progress-bar",15)}a&2&&(P(2),ft(l.title),P(4),se("formGroup",l.form),P(11),se("control",l.name)("errorMessage",l.validationField.name),P(10),se("disabled",l.isLoading),P(2),se("disabled",l.isLoading),P(2),Pt(31,l.isLoading?31:-1))},dependencies:[In,qn,nn,An,Nn,Tn,Pi,mn,Ii,ma,Ui,Fi,Qi,uo,Hn,pa,sl,cl,ll,ho]});let t=e;return t})();var K4=()=>[mn,Ii,ki,Bi,on,rn,Ui,Fi,Qi,kr,Fr,qr,Ur,Br,zr,jr,Vr,Hr,Gr,Ni,Ti,Yr,hl,dl],J4=()=>[10,25,50,100];function $4(t,e){t&1&&(I(0,"mat-header-cell",19),D(1,"No."),N())}function ew(t,e){if(t&1&&(I(0,"mat-cell"),D(1),N()),t&2){let i=e.$implicit;P(),_t(" ",i.no," ")}}function tw(t,e){t&1&&(I(0,"mat-header-cell",19),D(1,"\u0E0A\u0E37\u0E48\u0E2D"),N())}function iw(t,e){if(t&1&&(I(0,"mat-cell"),D(1),N()),t&2){let i=e.$implicit;P(),_t(" ",i.name," ")}}function nw(t,e){t&1&&(I(0,"mat-header-cell",19),D(1,"\u0E2A\u0E16\u0E32\u0E19\u0E30"),N())}function rw(t,e){t&1&&(I(0,"mat-icon",20),D(1,"toggle_on"),N())}function ow(t,e){t&1&&(I(0,"mat-icon",21),D(1,"toggle_off"),N())}function aw(t,e){if(t&1&&(I(0,"mat-cell"),Fe(1,rw,2,0,"mat-icon",20)(2,ow,2,0),N()),t&2){let i=e.$implicit;P(),Pt(1,i.active?1:2)}}function sw(t,e){t&1&&(I(0,"mat-header-cell",19),D(1,"\u0E2B\u0E21\u0E32\u0E22\u0E40\u0E2B\u0E15\u0E38"),N())}function lw(t,e){if(t&1&&(I(0,"mat-cell"),D(1),N()),t&2){let i=e.$implicit;P(),_t(" ",i.remark," ")}}function cw(t,e){t&1&&he(0,"mat-header-cell")}function uw(t,e){if(t&1){let i=St();I(0,"mat-cell")(1,"button",22),Ye("click",function(){let a=Xe(i).$implicit,l=We(2);return Qe(l.onUpdate(a))}),I(2,"mat-icon",23),D(3,"edit"),N()(),I(4,"button",24),Ye("confirm",function(){let a=Xe(i).$implicit,l=We(2);return Qe(l.onDelete(a.id))}),I(5,"mat-icon"),D(6,"delete"),N()(),he(7,"swal",25,0),N()}if(t&2){let i=e.$implicit,n=Xi(8);P(4),se("swal",n),P(3),bc("title","\u0E22\u0E37\u0E19\u0E22\u0E31\u0E19\u0E01\u0E32\u0E23\u0E25\u0E1A ",i.name,"?"),se("showCancelButton",!0)}}function fw(t,e){t&1&&he(0,"mat-header-row")}function hw(t,e){t&1&&he(0,"mat-row")}function dw(t,e){if(t&1){let i=St();I(0,"mat-card",3)(1,"mat-card-header",4)(2,"mat-card-title"),D(3),N()(),I(4,"mat-card-content")(5,"mat-form-field",5)(6,"mat-label"),D(7,"\u0E01\u0E23\u0E2D\u0E07\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25"),N(),I(8,"input",6),Ye("keyup",function(a){Xe(i);let l=We();return Qe(l.applyFilter(a))}),N()(),I(9,"mat-table",7),yt(10,8),Fe(11,$4,2,0,"mat-header-cell",9)(12,ew,2,1,"mat-cell",10),wt(),yt(13,11),Fe(14,tw,2,0,"mat-header-cell",9)(15,iw,2,1,"mat-cell",10),wt(),yt(16,12),Fe(17,nw,2,0,"mat-header-cell",9)(18,aw,3,1,"mat-cell",10),wt(),yt(19,13),Fe(20,sw,2,0,"mat-header-cell",9)(21,lw,2,1,"mat-cell",10),wt(),yt(22,14),Fe(23,cw,1,0,"mat-header-cell",15)(24,uw,9,4,"mat-cell",10),wt(),Fe(25,fw,1,0,"mat-header-row",16)(26,hw,1,0,"mat-row",17),N(),he(27,"mat-paginator",18),N()()}if(t&2){let i=We();P(3),ft(i.title),P(6),se("dataSource",i.dataSource),P(16),se("matHeaderRowDef",i.displayedColumns),P(),se("matRowDefColumns",i.displayedColumns),P(),se("pageSizeOptions",Cr(5,J4))}}function mw(t,e){t&1&&he(0,"app-loading-data",26),t&2&&se("form","card")}var fg=(()=>{let e=class e{constructor(){this.subscription=new Ri,this.assetStatusService=_e(Jr),this.assetStatusApiService=_e(yl),this.validationService=_e(an),this.toastService=_e(Gn),this.dialog=_e(al),this.title="\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23 \u0E2A\u0E16\u0E32\u0E19\u0E30\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C",this.displayedColumns=["no","name","active","remark","action"],this.dataSource=new Wr([]),this.isFirstLoading=!1}ngOnInit(){this.initDataSource(),this.subscription=this.assetStatusService.onStatusesListener().subscribe(()=>this.dataSource.data=this.assetStatusService.getStatusesTable())}ngOnDestroy(){this.subscription.unsubscribe()}onCreate(){this.dialog.open(xh,{width:"500px",disableClose:!0})}onUpdate(n){this.dialog.open(xh,{data:n,width:"500px",disableClose:!0})}onDelete(n){this.assetStatusApiService.deleteStatus(n).subscribe(a=>this.toastService.info("Delete",a.message))}applyFilter(n){let a=n.target.value;this.dataSource.filter=a.trim().toLowerCase()}initDataSource(){this.dataSource.data=this.assetStatusService.getStatusesTable(),this.validationService.isEmpty(this.dataSource.data)&&this.assetStatusApiService.getStatuses().pipe(oi(()=>this.isFirstLoading=!0)).subscribe(),wr(()=>this.paginator&&this.sort?Qn(null):_r(300).pipe(nr(()=>!!this.paginator&&!!this.sort),br(1))).subscribe(()=>{this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=zt({type:e,selectors:[["app-status"]],viewQuery:function(a,l){if(a&1&&(Nt(Ni,5),Nt(Ti,5)),a&2){let f;Tt(f=Mt())&&(l.paginator=f.first),Tt(f=Mt())&&(l.sort=f.first)}},decls:7,vars:1,consts:[["deleteSwal",""],[300],["mat-fab","","color","primary",1,"mb-20",3,"click"],[1,"mat-elevation-z8"],[1,"mb-16"],[1,"w-100"],["matInput","",3,"keyup"],["matSort","",3,"dataSource"],["matColumnDef","no"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["matColumnDef","active"],["matColumnDef","remark"],["matColumnDef","action"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-sort-header",""],[1,"toggle-on"],[1,"toggle-off"],["mat-icon-button","",3,"click"],["color","primary"],["mat-icon-button","","color","warn",3,"confirm","swal"],["icon","error",3,"title","showCancelButton"],[3,"form"]],template:function(a,l){a&1&&(I(0,"button",2),Ye("click",function(){return l.onCreate()}),I(1,"mat-icon"),D(2,"add"),N()(),Fe(3,dw,28,6)(4,mw,1,1),jn(5,3,K4,null,4,null,null,1,Un)),a&2&&(P(5),Vn(l.dataSource.data.length>0||l.isFirstLoading))},dependencies:[el,Ii,pn],styles:[".mat-column-no[_ngcontent-%COMP%]{flex:0 0 70px}.mat-column-name[_ngcontent-%COMP%]{min-width:120px}.mat-column-active[_ngcontent-%COMP%]{flex:0 0 70px}.mat-column-remark[_ngcontent-%COMP%]{min-width:150px}.mat-column-action[_ngcontent-%COMP%]{flex:0 0 120px;justify-content:center}"]});let t=e;return t})();var hg={validationField:{name:{required:"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38 \u0E0A\u0E37\u0E48\u0E2D"},active:{required:"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E30\u0E1A\u0E38 \u0E2A\u0E16\u0E32\u0E19\u0E30\u0E01\u0E32\u0E23\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19"}}};var pw=["formDirec"],gw=["nameInput"];function vw(t,e){t&1&&he(0,"mat-progress-bar",15)}var yh=(()=>{let e=class e{constructor(){this.data=_e(ol),this.formBuilder=_e(zn),this.dialogRef=_e(rl),this.usageApiService=_e(wl),this.toastService=_e(Gn),this.validationField=hg.validationField,this.title="\u0E40\u0E1E\u0E34\u0E48\u0E21 \u0E01\u0E32\u0E23\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C",this.isEdit=!1,this.isLoading=!1,this.form=this.initForm()}ngOnInit(){this.data&&(this.title="\u0E41\u0E01\u0E49\u0E44\u0E02 \u0E01\u0E32\u0E23\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C",this.isEdit=!0,this.form.patchValue(this.data)),this.dialogRef.keydownEvents().subscribe(n=>n.key==="Escape"&&this.onCloseDialog()),this.dialogRef.backdropClick().subscribe(()=>this.onCloseDialog())}onSubmit(){if(this.form.invalid||JSON.stringify(this.data)===JSON.stringify(this.form.value))return;let l=yi({},this.form.getRawValue()),{id:n}=l,a=zs(l,["id"]);this.isLoading=!0,this.operation$=this.isEdit?this.usageApiService.updateUsage(n,a):this.usageApiService.createUsage(a),this.operation$.pipe(Ya(f=>(f.status===0&&this.dialogRef.close(),Hs(()=>f))),oi(()=>this.isLoading=!1)).subscribe(f=>{this.isEdit?this.dialogRef.close():this.onReset(),this.toastService.success("Success",f.message)})}onReset(){this.isEdit?this.form.patchValue(this.data):this.formDirec.resetForm(),this.nameInput.nativeElement.focus()}newDialogBackdropHandler(){if(this.name.value!==""||this.remark.value!=="")return this.confirmDialogBackdropHandler();this.dialogRef.close()}editDialogBackdropHandler(){if(this.name.value!==this.data.name||this.active.value!==this.data.active||this.remark.value!==this.data.remark)return this.confirmDialogBackdropHandler();this.dialogRef.close()}confirmDialogBackdropHandler(){confirm("\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01\u0E01\u0E32\u0E23\u0E41\u0E01\u0E49\u0E44\u0E02\u0E41\u0E25\u0E30\u0E2D\u0E2D\u0E01\u0E08\u0E32\u0E01\u0E1F\u0E2D\u0E23\u0E4C\u0E21\u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48?")&&this.dialogRef.close()}onCloseDialog(){this.isEdit?this.editDialogBackdropHandler():this.newDialogBackdropHandler()}get name(){return this.form.controls.name}get active(){return this.form.controls.active}get remark(){return this.form.controls.remark}initForm(){return this.formBuilder.nonNullable.group({id:[null],name:["",[kt.required]],active:[!0,[kt.required]],remark:[""]})}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=zt({type:e,selectors:[["app-usage-edit"]],viewQuery:function(a,l){if(a&1&&(Nt(pw,5),Nt(gw,5)),a&2){let f;Tt(f=Mt())&&(l.formDirec=f.first),Tt(f=Mt())&&(l.nameInput=f.first)}},decls:32,vars:7,consts:[["formDirec","ngForm"],["nameInput",""],[1,"d-flex","justify-between","align-center"],["mat-dialog-title",""],["mat-icon-button","","tabindex","-1",1,"btn-close",3,"click"],[3,"ngSubmit","formGroup"],[1,"form-container"],[1,"box"],["type","text","matInput","","formControlName","name"],[3,"control","errorMessage"],["type","text","matInput","","formControlName","remark"],[1,"d-flex","gap-10"],["formControlName","active"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],["type","button","mat-button","","color","warn",3,"click","disabled"],["mode","indeterminate"]],template:function(a,l){if(a&1){let f=St();I(0,"div",2)(1,"h2",3),D(2),N(),I(3,"button",4),Ye("click",function(){return Xe(f),Qe(l.onCloseDialog())}),I(4,"mat-icon"),D(5,"close"),N()()(),I(6,"form",5,0),Ye("ngSubmit",function(){return Xe(f),Qe(l.onSubmit())}),he(8,"mat-divider"),I(9,"mat-dialog-content",6)(10,"div",7)(11,"mat-form-field")(12,"mat-label"),D(13,"\u0E0A\u0E37\u0E48\u0E2D"),N(),he(14,"input",8,1),I(16,"mat-error"),he(17,"app-error-field",9),N()(),I(18,"mat-form-field")(19,"mat-label"),D(20,"\u0E2B\u0E21\u0E32\u0E22\u0E40\u0E2B\u0E15\u0E38"),N(),he(21,"input",10),N()(),I(22,"div",11),he(23,"mat-slide-toggle",12),I(24,"span"),D(25,"\u0E40\u0E1B\u0E34\u0E14\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19"),N()()(),I(26,"mat-dialog-actions")(27,"button",13),D(28," \u0E15\u0E01\u0E25\u0E07 "),N(),I(29,"button",14),Ye("click",function(){return Xe(f),Qe(l.onReset())}),D(30," \u0E23\u0E35\u0E40\u0E0B\u0E47\u0E15 "),N()()(),Fe(31,vw,1,0,"mat-progress-bar",15)}a&2&&(P(2),ft(l.title),P(4),se("formGroup",l.form),P(11),se("control",l.name)("errorMessage",l.validationField.name),P(10),se("disabled",l.isLoading),P(2),se("disabled",l.isLoading),P(2),Pt(31,l.isLoading?31:-1))},dependencies:[In,qn,nn,An,Nn,Tn,Pi,mn,Ii,ma,Ui,Fi,Qi,uo,Hn,pa,sl,cl,ll,ho]});let t=e;return t})();var Ew=()=>[mn,Ii,ki,Bi,on,rn,Ui,Fi,Qi,kr,Fr,qr,Ur,Br,zr,jr,Vr,Hr,Gr,Ni,Ti,Yr,hl,dl],xw=()=>[10,25,50,100];function yw(t,e){t&1&&(I(0,"mat-header-cell",19),D(1,"No."),N())}function ww(t,e){if(t&1&&(I(0,"mat-cell"),D(1),N()),t&2){let i=e.$implicit;P(),_t(" ",i.no," ")}}function _w(t,e){t&1&&(I(0,"mat-header-cell",19),D(1,"\u0E0A\u0E37\u0E48\u0E2D"),N())}function bw(t,e){if(t&1&&(I(0,"mat-cell"),D(1),N()),t&2){let i=e.$implicit;P(),_t(" ",i.name," ")}}function Cw(t,e){t&1&&(I(0,"mat-header-cell",19),D(1,"\u0E2A\u0E16\u0E32\u0E19\u0E30"),N())}function Sw(t,e){t&1&&(I(0,"mat-icon",20),D(1,"toggle_on"),N())}function Aw(t,e){t&1&&(I(0,"mat-icon",21),D(1,"toggle_off"),N())}function Iw(t,e){if(t&1&&(I(0,"mat-cell"),Fe(1,Sw,2,0,"mat-icon",20)(2,Aw,2,0),N()),t&2){let i=e.$implicit;P(),Pt(1,i.active?1:2)}}function Nw(t,e){t&1&&(I(0,"mat-header-cell",19),D(1,"\u0E2B\u0E21\u0E32\u0E22\u0E40\u0E2B\u0E15\u0E38"),N())}function Tw(t,e){if(t&1&&(I(0,"mat-cell"),D(1),N()),t&2){let i=e.$implicit;P(),_t(" ",i.remark," ")}}function Mw(t,e){t&1&&he(0,"mat-header-cell")}function Lw(t,e){if(t&1){let i=St();I(0,"mat-cell")(1,"button",22),Ye("click",function(){let a=Xe(i).$implicit,l=We(2);return Qe(l.onUpdate(a))}),I(2,"mat-icon",23),D(3,"edit"),N()(),I(4,"button",24),Ye("confirm",function(){let a=Xe(i).$implicit,l=We(2);return Qe(l.onDelete(a.id))}),I(5,"mat-icon"),D(6,"delete"),N()(),he(7,"swal",25,0),N()}if(t&2){let i=e.$implicit,n=Xi(8);P(4),se("swal",n),P(3),bc("title","\u0E22\u0E37\u0E19\u0E22\u0E31\u0E19\u0E01\u0E32\u0E23\u0E25\u0E1A ",i.name,"?"),se("showCancelButton",!0)}}function Dw(t,e){t&1&&he(0,"mat-header-row")}function Ow(t,e){t&1&&he(0,"mat-row")}function Rw(t,e){if(t&1){let i=St();I(0,"mat-card",3)(1,"mat-card-header",4)(2,"mat-card-title"),D(3),N()(),I(4,"mat-card-content")(5,"mat-form-field",5)(6,"mat-label"),D(7,"\u0E01\u0E23\u0E2D\u0E07\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25"),N(),I(8,"input",6),Ye("keyup",function(a){Xe(i);let l=We();return Qe(l.applyFilter(a))}),N()(),I(9,"mat-table",7),yt(10,8),Fe(11,yw,2,0,"mat-header-cell",9)(12,ww,2,1,"mat-cell",10),wt(),yt(13,11),Fe(14,_w,2,0,"mat-header-cell",9)(15,bw,2,1,"mat-cell",10),wt(),yt(16,12),Fe(17,Cw,2,0,"mat-header-cell",9)(18,Iw,3,1,"mat-cell",10),wt(),yt(19,13),Fe(20,Nw,2,0,"mat-header-cell",9)(21,Tw,2,1,"mat-cell",10),wt(),yt(22,14),Fe(23,Mw,1,0,"mat-header-cell",15)(24,Lw,9,4,"mat-cell",10),wt(),Fe(25,Dw,1,0,"mat-header-row",16)(26,Ow,1,0,"mat-row",17),N(),he(27,"mat-paginator",18),N()()}if(t&2){let i=We();P(3),ft(i.title),P(6),se("dataSource",i.dataSource),P(16),se("matHeaderRowDef",i.displayedColumns),P(),se("matRowDefColumns",i.displayedColumns),P(),se("pageSizeOptions",Cr(5,xw))}}function Pw(t,e){t&1&&he(0,"app-loading-data",26),t&2&&se("form","card")}var dg=(()=>{let e=class e{constructor(){this.subscription=new Ri,this.usageService=_e($r),this.usageApiService=_e(wl),this.validationService=_e(an),this.toastService=_e(Gn),this.dialog=_e(al),this.title="\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23 \u0E01\u0E32\u0E23\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C",this.displayedColumns=["no","name","active","remark","action"],this.dataSource=new Wr([]),this.isFirstLoading=!1}ngOnInit(){this.initDataSource(),this.subscription=this.usageService.onUsagesListener().subscribe(()=>this.dataSource.data=this.usageService.getUsagesTable())}ngOnDestroy(){this.subscription.unsubscribe()}onCreate(){this.dialog.open(yh,{width:"500px",disableClose:!0})}onUpdate(n){this.dialog.open(yh,{data:n,width:"500px",disableClose:!0})}onDelete(n){this.usageApiService.deleteUsage(n).subscribe(a=>this.toastService.info("Delete",a.message))}applyFilter(n){let a=n.target.value;this.dataSource.filter=a.trim().toLowerCase()}initDataSource(){this.dataSource.data=this.usageService.getUsagesTable(),this.validationService.isEmpty(this.dataSource.data)&&this.usageApiService.getUsages().pipe(oi(()=>this.isFirstLoading=!0)).subscribe(),wr(()=>this.paginator&&this.sort?Qn(null):_r(300).pipe(nr(()=>!!this.paginator&&!!this.sort),br(1))).subscribe(()=>{this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=zt({type:e,selectors:[["app-usage"]],viewQuery:function(a,l){if(a&1&&(Nt(Ni,5),Nt(Ti,5)),a&2){let f;Tt(f=Mt())&&(l.paginator=f.first),Tt(f=Mt())&&(l.sort=f.first)}},decls:7,vars:1,consts:[["deleteSwal",""],[300],["mat-fab","","color","primary",1,"mb-20",3,"click"],[1,"mat-elevation-z8"],[1,"mb-16"],[1,"w-100"],["matInput","",3,"keyup"],["matSort","",3,"dataSource"],["matColumnDef","no"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["matColumnDef","active"],["matColumnDef","remark"],["matColumnDef","action"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-sort-header",""],[1,"toggle-on"],[1,"toggle-off"],["mat-icon-button","",3,"click"],["color","primary"],["mat-icon-button","","color","warn",3,"confirm","swal"],["icon","error",3,"title","showCancelButton"],[3,"form"]],template:function(a,l){a&1&&(I(0,"button",2),Ye("click",function(){return l.onCreate()}),I(1,"mat-icon"),D(2,"add"),N()(),Fe(3,Rw,28,6)(4,Pw,1,1),jn(5,3,Ew,null,4,null,null,1,Un)),a&2&&(P(5),Vn(l.dataSource.data.length>0||l.isFirstLoading))},dependencies:[el,Ii,pn],styles:[".mat-column-no[_ngcontent-%COMP%]{flex:0 0 70px}.mat-column-name[_ngcontent-%COMP%]{min-width:120px}.mat-column-active[_ngcontent-%COMP%]{flex:0 0 70px}.mat-column-remark[_ngcontent-%COMP%]{min-width:150px}.mat-column-action[_ngcontent-%COMP%]{flex:0 0 120px;justify-content:center}"]});let t=e;return t})();var mg=(()=>{let e=class e{constructor(){this.validationService=_e(an),this.inventoryService=_e(Qr),this.categoryService=_e(Kr),this.categoryApiService=_e(xl),this.statusService=_e(Jr),this.statusApiService=_e(yl),this.usageService=_e($r),this.usageApiService=_e(wl)}ngOnInit(){this.inventoryService.setIsLoading(!0);let n=this.validationService.isEmpty(this.categoryService.getCategories()),a=this.validationService.isEmpty(this.statusService.getStatuses()),l=this.validationService.isEmpty(this.usageService.getUsages()),f=[];n&&f.push(this.categoryApiService.getCategories()),a&&f.push(this.statusApiService.getStatuses()),l&&f.push(this.usageApiService.getUsages()),this.validationService.isEmpty(f)?this.inventoryService.setIsLoading(!1):Iu(f).subscribe(()=>this.inventoryService.setIsLoading(!1))}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=zt({type:e,selectors:[["app-inventory"]],decls:1,vars:0,template:function(a,l){a&1&&he(0,"router-outlet")},dependencies:[Ks]});let t=e;return t})();var _l=(()=>{let e=class e{constructor(n,a,l,f,p){this.http=n,this.inventoryService=a,this.socketInventoryService=l,this.logService=f,this.socketLogService=p,this.apiUrl=Mi.apiUrl+"inventory"}getAllInventorys(){return this.http.get(this.apiUrl).pipe(ko(n=>fr(200).pipe(Fn(()=>n))),qt(n=>this.inventoryService.setInventories(n)))}getInitialInventorys(){return this.http.get(`${this.apiUrl}/init`).pipe(ko(n=>fr(200).pipe(Fn(()=>n))),qt(n=>this.inventoryService.setInventories(n)))}getInventorysByDate(n,a){return this.http.get(`${this.apiUrl}/date/${n}/${a}`).pipe(ko(l=>fr(200).pipe(Fn(()=>l))),qt(l=>this.inventoryService.setInventories(l)))}getInventoryById(n){return this.http.get(`${this.apiUrl}/id/${n}`)}getInventoryByCode(n){return this.http.get(`${this.apiUrl}/code/${n}`).pipe(ko(a=>fr(200).pipe(Fn(()=>a))),qt(a=>this.inventoryService.setInventory(a)))}createInventory(n){return this.http.post(this.apiUrl,n).pipe(qt(a=>this.inventoryService.createInventory(a.inventory)),qt(a=>this.socketInventoryService.createInventory(a.inventory)),qt(a=>this.logService.createLog(a.log)),qt(a=>this.socketLogService.createLog(a.log)))}updateInventory(n,a){return this.http.put(`${this.apiUrl}/${n}`,a).pipe(qt(l=>this.inventoryService.updateInventory(n,l.inventory)),qt(l=>this.socketInventoryService.updateInventory(n,l.inventory)),qt(l=>this.logService.createLog(l.log)),qt(l=>this.socketLogService.createLog(l.log)))}downloadImage(n){return this.http.get(n,{responseType:"blob"})}};e.\u0275fac=function(a){return new(a||e)(_i(Pr),_i(Qr),_i(v1),_i(Qa),_i(E1))},e.\u0275prov=hi({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Bw=["filterInput"],Fw=["code"],Uw=()=>[Tr,In,nn,An,Nn,Tn,Pi,ki,Bi,on,rn,Ui,Fi,Qi,pa,kr,Fr,qr,Ur,Br,zr,jr,Vr,Hr,Gr,Ni,Ti,Yr,ul,Mc,$s,Zu,Uo,pn,il,$a],jw=()=>[10,25,50,100],Vw=t=>["./view",t];function qw(t,e){t&1&&he(0,"mat-progress-bar",22)}function zw(t,e){if(t&1&&(I(0,"span",28),D(1),N()),t&2){let i=We(2);P(),_t(" (+",((i.category.value==null?null:i.category.value.length)||0)-1," \u0E2D\u0E37\u0E48\u0E19 \u0E46 ) ")}}function Hw(t,e){if(t&1){let i=St();I(0,"mat-option",38),Ye("click",function(){Xe(i);let a=We(2);return Qe(a.onFilter())}),D(1),N()}if(t&2){let i=e.$implicit;se("value",i),P(),ft(i)}}function Gw(t,e){if(t&1&&(I(0,"span",28),D(1),N()),t&2){let i=We(2);P(),_t(" (+",((i.status.value==null?null:i.status.value.length)||0)-1," \u0E2D\u0E37\u0E48\u0E19 \u0E46 ) ")}}function Ww(t,e){if(t&1){let i=St();I(0,"mat-option",38),Ye("click",function(){Xe(i);let a=We(2);return Qe(a.onFilter())}),D(1),N()}if(t&2){let i=e.$implicit;se("value",i),P(),ft(i)}}function Yw(t,e){if(t&1&&(I(0,"span",28),D(1),N()),t&2){let i=We(2);P(),_t(" (+",((i.usage.value==null?null:i.usage.value.length)||0)-1," \u0E2D\u0E37\u0E48\u0E19 \u0E46 ) ")}}function Xw(t,e){if(t&1){let i=St();I(0,"mat-option",38),Ye("click",function(){Xe(i);let a=We(2);return Qe(a.onFilter())}),D(1),N()}if(t&2){let i=e.$implicit;se("value",i),P(),ft(i)}}function Qw(t,e){if(t&1){let i=St();I(0,"mat-header-cell",53)(1,"mat-checkbox",54),Ye("change",function(a){Xe(i);let l=We(4);return Qe(a?l.toggleAllRows():null)}),N()()}if(t&2){let i=We(4);P(),se("checked",i.selection.hasValue()&&i.isAllSelected())("indeterminate",i.selection.hasValue()&&!i.isAllSelected())}}function Zw(t,e){if(t&1){let i=St();I(0,"mat-cell",53)(1,"mat-checkbox",55),Ye("click",function(a){return Xe(i),Qe(a.stopPropagation())})("change",function(a){let l=Xe(i).$implicit,f=We(4);return Qe(a?f.selection.toggle(l):null)}),N()()}if(t&2){let i=e.$implicit,n=We(4);P(),se("checked",n.selection.isSelected(i))}}function Kw(t,e){t&1&&(yt(0,39),Fe(1,Qw,2,2,"mat-header-cell",51)(2,Zw,2,1,"mat-cell",52),wt())}function Jw(t,e){t&1&&(I(0,"mat-header-cell",56),D(1,"No."),N())}function $w(t,e){if(t&1&&(I(0,"mat-cell"),D(1),N()),t&2){let i=e.$implicit;P(),_t(" ",i.no," ")}}function e_(t,e){t&1&&(I(0,"mat-header-cell",56),D(1,"\u0E23\u0E39\u0E1B"),N())}function t_(t,e){if(t&1&&(I(0,"mat-cell")(1,"a",57),he(2,"img",58),N()()),t&2){let i=e.$implicit,n=We(3);P(),se("routerLink",Bo(3,Vw,i.id)),P(),se("defaultImage","assets/images/no-image.jpg")("lazyLoad",n.imageUrl+i.image)}}function i_(t,e){t&1&&(I(0,"mat-header-cell",56),D(1,"\u0E23\u0E2B\u0E31\u0E2A\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C"),N())}function n_(t,e){if(t&1&&(I(0,"mat-cell"),D(1),N()),t&2){let i=e.$implicit;P(),_t(" ",i.code," ")}}function r_(t,e){t&1&&(I(0,"mat-header-cell",56),D(1,"\u0E04\u0E38\u0E13\u0E2A\u0E21\u0E1A\u0E31\u0E15\u0E34"),N())}function o_(t,e){if(t&1&&(I(0,"mat-cell"),D(1),N()),t&2){let i=e.$implicit;P(),_t(" ",i.category," ")}}function a_(t,e){t&1&&(I(0,"mat-header-cell",56),D(1,"\u0E2A\u0E16\u0E32\u0E19\u0E30"),N())}function s_(t,e){if(t&1&&(I(0,"mat-cell"),D(1),N()),t&2){let i=e.$implicit;P(),_t(" ",i.status," ")}}function l_(t,e){t&1&&(I(0,"mat-header-cell",56),D(1,"\u0E01\u0E32\u0E23\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19"),N())}function c_(t,e){if(t&1&&(I(0,"mat-cell"),D(1),N()),t&2){let i=e.$implicit;P(),_t(" ",i.usage," ")}}function u_(t,e){t&1&&(I(0,"mat-header-cell",56),D(1,"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C"),N())}function f_(t,e){if(t&1&&(I(0,"mat-cell"),D(1),hn(2,"cutDetail"),N()),t&2){let i=e.$implicit;P(),_t(" ",Pn(2,1,i.description)," ")}}function h_(t,e){t&1&&he(0,"mat-header-row")}function d_(t,e){t&1&&he(0,"mat-row")}function m_(t,e){if(t&1&&(I(0,"mat-table",36),Fe(1,Kw,3,0,"ng-container",39),yt(2,40),Fe(3,Jw,2,0,"mat-header-cell",41)(4,$w,2,1,"mat-cell",42),wt(),yt(5,43),Fe(6,e_,2,0,"mat-header-cell",41)(7,t_,3,5,"mat-cell",42),D(8," \u0E23\u0E2B\u0E31\u0E2A\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C "),wt(),yt(9,44),Fe(10,i_,2,0,"mat-header-cell",41)(11,n_,2,1,"mat-cell",42),wt(),yt(12,45),Fe(13,r_,2,0,"mat-header-cell",41)(14,o_,2,1,"mat-cell",42),wt(),yt(15,46),Fe(16,a_,2,0,"mat-header-cell",41)(17,s_,2,1,"mat-cell",42),wt(),yt(18,47),Fe(19,l_,2,0,"mat-header-cell",41)(20,c_,2,1,"mat-cell",42),wt(),yt(21,48),Fe(22,u_,2,0,"mat-header-cell",41)(23,f_,3,3,"mat-cell",42),wt(),Fe(24,h_,1,0,"mat-header-row",49)(25,d_,1,0,"mat-row",50),N()),t&2){let i=We(2);se("dataSource",i.dataSource),P(),Pt(1,i.isSelected?1:-1),P(23),se("matHeaderRowDef",i.displayedColumns),P(),se("matRowDefColumns",i.displayedColumns)}}function p_(t,e){t&1&&he(0,"app-loading-data",59),t&2&&se("form","list")}function g_(t,e){if(t&1){let i=St();I(0,"mat-card",23)(1,"mat-card-header",24)(2,"mat-card-title"),D(3),N(),I(4,"button",25),Ye("click",function(){Xe(i);let a=We();return Qe(a.onResetFilter())}),D(5," \u0E23\u0E35\u0E40\u0E0B\u0E47\u0E15 "),N()(),I(6,"mat-card-content")(7,"form",26)(8,"mat-form-field")(9,"mat-label"),D(10,"\u0E04\u0E38\u0E13\u0E2A\u0E21\u0E1A\u0E31\u0E15\u0E34"),N(),I(11,"mat-select",27)(12,"mat-select-trigger"),D(13),Fe(14,zw,2,1,"span",28),N(),On(15,Hw,2,2,"mat-option",29,or),N()(),I(17,"mat-form-field")(18,"mat-label"),D(19,"\u0E2A\u0E16\u0E32\u0E19\u0E30"),N(),I(20,"mat-select",30)(21,"mat-select-trigger"),D(22),Fe(23,Gw,2,1,"span",28),N(),On(24,Ww,2,2,"mat-option",29,or),N()(),I(26,"mat-form-field")(27,"mat-label"),D(28,"\u0E01\u0E32\u0E23\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19"),N(),I(29,"mat-select",31)(30,"mat-select-trigger"),D(31),Fe(32,Yw,2,1,"span",28),N(),On(33,Xw,2,2,"mat-option",29,or),N()(),I(35,"mat-form-field")(36,"mat-label"),D(37,"\u0E01\u0E23\u0E2D\u0E07\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25"),N(),I(38,"input",32,2),Ye("keyup",function(a){Xe(i);let l=We();return Qe(l.applyFilter(a))}),N()()(),I(40,"div",33)(41,"mat-slide-toggle",34),Qs("ngModelChange",function(a){Xe(i);let l=We();return Xs(l.isSelected,a)||(l.isSelected=a),Qe(a)}),Ye("click",function(){Xe(i);let a=We();return Qe(a.isSelectPrint())}),N(),I(42,"button",35),Ye("click",function(){Xe(i);let a=We();return Qe(a.addToPrint())}),D(43," \u0E40\u0E1E\u0E34\u0E48\u0E21\u0E1E\u0E31\u0E2A\u0E14\u0E38\u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A\u0E1B\u0E23\u0E34\u0E49\u0E19 "),N()(),Fe(44,m_,26,4,"mat-table",36)(45,p_,1,1),he(46,"mat-paginator",37),N()()}if(t&2){let i=We();P(3),ft(i.title),P(4),se("formGroup",i.form),P(6),_t(" ",(i.category.value==null?null:i.category.value[0])||""," "),P(),Pt(14,((i.category.value==null?null:i.category.value.length)||0)>1?14:-1),P(),Rn(i.filter.categories),P(7),_t(" ",(i.status.value==null?null:i.status.value[0])||""," "),P(),Pt(23,((i.status.value==null?null:i.status.value.length)||0)>1?23:-1),P(),Rn(i.filter.statuses),P(7),_t(" ",(i.usage.value==null?null:i.usage.value[0])||""," "),P(),Pt(32,((i.usage.value==null?null:i.usage.value.length)||0)>1?32:-1),P(),Rn(i.filter.usages),P(8),Ys("ngModel",i.isSelected),P(),se("disabled",!i.isSelected),P(2),Pt(44,i.isLoading?45:44),P(2),se("pageSizeOptions",Cr(12,jw))}}function v_(t,e){t&1&&he(0,"app-loading-data",59),t&2&&se("form","list")}var D1=function(t){return t[t.Date=0]="Date",t[t.Code=1]="Code",t}(D1||{}),pg=(()=>{let e=class e{constructor(){this.activatedRoute=_e(Xa),this.formBuilder=_e(zn),this.inventoryService=_e(Qr),this.inventoryApiService=_e(_l),this.categoryService=_e(Kr),this.assetStatusService=_e(Jr),this.usageStatusService=_e($r),this.validationService=_e(an),this.printService=_e(Ka),this.snackBar=_e(Ku),this.platfrom=_e(Ac),this.subscription=new Ri,this.datePipe=_e(Fo),this.imageUrl=Mi.imageUrl,this.filter={categories:this.categoryService.getActiveCategoriesName(),statuses:this.assetStatusService.getActiveStatusNames(),usages:this.usageStatusService.getActiveUsageNames()},this.form=this.initForm(),this.title="\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23 \u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C",this.isLoading=!1,this.isSort=!1,this.isSelected=!1,this.isPrint=!1,this.selectedTap=new tl(D1.Date),this.startDate=new Date(new Date().getFullYear(),new Date().getMonth(),1),this.endDate=new Date,this.dateRange=this.formBuilder.group({start:[this.startDate,[kt.required]],end:[this.endDate,[kt.required]]}),this.displayedColumns=["no","image","code","category","status","usage","description"],this.dataSource=new Wr([]),this.selection=new lp(!0,[]),this.isFirstLoading=!1}ngOnInit(){this.initDataSource(),this.initSubscriptions(),this.activatedRoute.snapshot.queryParams.isPrint==="true"&&(this.isPrint=!0)}ngOnDestroy(){this.subscription.unsubscribe()}onSearch(){if(this.selectedTap.value===D1.Date){if(this.dateRange.invalid)return;let n=this.datePipe.transform(this.dateRange.controls.start.value,"yyyy-MM-dd"),a=this.datePipe.transform(this.dateRange.controls.end.value,"yyyy-MM-dd");this.operation$=this.inventoryApiService.getInventorysByDate(n,a)}else if(this.selectedTap.value===D1.Code){if(!this.code)return;let n=this.code.nativeElement.value.replace(/^\s+|\s+$/gm,"");if(!n)return;let a=this.inventoryService.getInventoryByCodeTable(n);if(this.validationService.isEmpty(a))this.operation$=this.inventoryApiService.getInventoryByCode(n);else{this.dataSource.data=a;return}this.operation$=this.inventoryApiService.getInventoryByCode(n)}this.isLoading=!0,this.isSort=!1,this.operation$.pipe(qt(()=>this.onFilter()),oi(()=>this.isLoading=!1)).subscribe()}onSearchAll(){this.isLoading=!0,this.isSort=!1,this.inventoryApiService.getAllInventorys().pipe(qt(()=>this.setFilter()),oi(()=>this.isLoading=!1)).subscribe()}setFilter(){this.form.setValue({category:[],status:[],usage:[]})}onFilter(){let n=this.inventoryService.getInventoriesTable(),a=this.form.value;this.dataSource.data=Object.keys(a).reduce((l,f)=>l.filter(p=>a[f].length===0?l:a[f].includes(p[f])),n).map((l,f)=>Hl(yi({},l),{no:f+1}))}onResetFilter(){this.filterInput.nativeElement.value="",this.dataSource.filter="",this.setFilter(),this.onFilter()}applyFilter(n){let a=n.target.value;this.dataSource.filter=a.trim().toLowerCase()}isAllSelected(){let n=this.selection.selected.length,a=this.dataSource.data.length;return n===a}toggleAllRows(){if(this.isAllSelected()){this.selection.clear();return}this.selection.select(...this.dataSource.data)}isSelectPrint(){this.isSelected?this.displayedColumns.unshift("select"):this.displayedColumns.shift()}addToPrint(){let n="center",a="bottom";(this.platfrom.ANDROID||this.platfrom.IOS)&&(n="center",a="top"),this.snackBar.open("\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C\u0E44\u0E1B\u0E22\u0E31\u0E07\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E1E\u0E34\u0E21\u0E1E\u0E4C","\u0E1B\u0E34\u0E14",{duration:2500,horizontalPosition:n,verticalPosition:a});let l=this.selection.selected.filter(f=>!this.printService.getInventoryById(f.id)).map(f=>({id:f.id,track:f.track,image:f.image,code:f.code,description:f.description,printCount:1}));for(let f of l)this.printService.createInventory(f)}get category(){return this.form.controls.category}get status(){return this.form.controls.status}get usage(){return this.form.controls.usage}initForm(){return this.formBuilder.group({category:this.formBuilder.control([]),status:this.formBuilder.control([]),usage:this.formBuilder.control([])})}initDataSource(){if(this.dataSource.data=this.inventoryService.getInventoriesTable(),this.validationService.isEmpty(this.dataSource.data)){this.inventoryApiService.getInitialInventorys().pipe(oi(()=>this.isFirstLoading=!0)).subscribe();return}this.initPaginatorAndSort()}initPaginatorAndSort(){wr(()=>this.paginator&&this.sort?Qn(null):_r(300).pipe(nr(()=>!!this.paginator&&!!this.sort),br(1))).subscribe(()=>{this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.isSort||(this.dataSource.sort.sort({id:"code",start:"desc",disableClear:!0}),this.isSort=!0),this.isPrint&&(this.isSelected=this.isPrint,this.isSelectPrint())})}initSubscriptions(){this.subscription.add(this.inventoryService.onInventoriesListener().subscribe(()=>{this.dataSource.data=this.inventoryService.getInventoriesTable(),this.initPaginatorAndSort()})),this.subscription.add(this.categoryService.onCategoriesListener().subscribe(()=>{this.filter.categories=this.categoryService.getActiveCategoriesName()})),this.subscription.add(this.assetStatusService.onStatusesListener().subscribe(()=>{this.filter.statuses=this.assetStatusService.getActiveStatusNames()})),this.subscription.add(this.usageStatusService.onUsagesListener().subscribe(()=>{this.filter.usages=this.usageStatusService.getActiveUsageNames()}))}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=zt({type:e,selectors:[["app-inventory-list"]],viewQuery:function(a,l){if(a&1&&(Nt(Ni,5),Nt(Ti,5),Nt(Bw,5),Nt(Fw,7)),a&2){let f;Tt(f=Mt())&&(l.paginator=f.first),Tt(f=Mt())&&(l.sort=f.first),Tt(f=Mt())&&(l.filterInput=f.first),Tt(f=Mt())&&(l.code=f.first)}},decls:42,vars:8,consts:[["picker",""],["code",""],["filterInput",""],[300],["routerLink","new","mat-fab","","color","primary",1,"mb-20"],[1,"mb-20","mat-elevation-z8"],["mat-stretch-tabs","false",3,"selectedIndexChange","selectedIndex"],["label","\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48"],[1,"w-100"],[3,"rangePicker","formGroup"],["matStartDate","","formControlName","start","readonly","",3,"click"],["matEndDate","","formControlName","end","readonly","",3,"click"],["align","end"],["matIconSuffix","",3,"for"],["label","\u0E23\u0E2B\u0E31\u0E2A\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C"],[3,"ngSubmit"],["matInput",""],["type","submit","matSuffix","","mat-icon-button",""],["matSuffix","","fontIcon","search"],[1,"justify-between"],["type","button","mat-raised-button","","color","primary",3,"click","disabled"],["type","button","mat-raised-button","","color","accent",3,"click","disabled"],["mode","indeterminate"],[1,"mat-elevation-z8"],[1,"mb-16","d-flex","justify-between","align-center"],["type","button","mat-button","","color","warn",3,"click"],[1,"filter-box",3,"formGroup"],["formControlName","category","multiple",""],[1,"additional-selection"],[3,"value"],["formControlName","status","multiple",""],["formControlName","usage","multiple",""],["matInput","",3,"keyup"],[1,"d-flex","align-center","gap-10"],[3,"ngModelChange","click","ngModel"],["type","button","mat-button","","color","accent",3,"click","disabled"],["matSort","",3,"dataSource"],["showFirstLastButtons","",3,"pageSizeOptions"],[3,"click","value"],["matColumnDef","select"],["matColumnDef","no"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","image"],["matColumnDef","code"],["matColumnDef","category"],["matColumnDef","status"],["matColumnDef","usage"],["matColumnDef","description"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["class","p-0",4,"matHeaderCellDef"],["class","p-0",4,"matCellDef"],[1,"p-0"],[3,"change","checked","indeterminate"],[3,"click","change","checked"],["mat-sort-header",""],[1,"blurred-img",3,"routerLink"],[3,"defaultImage","lazyLoad"],[3,"form"]],template:function(a,l){if(a&1){let f=St();I(0,"a",4)(1,"mat-icon"),D(2,"add"),N()(),I(3,"mat-card",5)(4,"mat-tab-group",6),Ye("selectedIndexChange",function(v){return Xe(f),Qe(l.selectedTap.setValue(v))}),I(5,"mat-tab",7)(6,"mat-card-content")(7,"mat-form-field",8)(8,"mat-label"),D(9,"\u0E08\u0E32\u0E01 - \u0E16\u0E36\u0E07"),N(),I(10,"mat-date-range-input",9)(11,"input",10),Ye("click",function(){Xe(f);let v=Xi(17);return Qe(v.open())}),N(),I(12,"input",11),Ye("click",function(){Xe(f);let v=Xi(17);return Qe(v.open())}),N()(),I(13,"mat-hint",12),D(14,"\u0E27\u0E31\u0E19/\u0E40\u0E14\u0E37\u0E2D\u0E19/\u0E1E.\u0E28."),N(),he(15,"mat-datepicker-toggle",13)(16,"mat-date-range-picker",null,0),N()()(),I(18,"mat-tab",14)(19,"mat-card-content")(20,"form",15),Ye("ngSubmit",function(){return Xe(f),Qe(l.onSearch())}),I(21,"mat-form-field",8)(22,"mat-label"),D(23,"\u0E23\u0E2B\u0E31\u0E2A\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C"),N(),he(24,"input",16,1),I(26,"button",17),he(27,"mat-icon",18),N()()()()(),D(28,"> "),N(),I(29,"mat-card-actions",19)(30,"button",20),Ye("click",function(){return Xe(f),Qe(l.onSearch())}),I(31,"mat-icon"),D(32,"search"),N(),D(33," \u0E04\u0E49\u0E19\u0E2B\u0E32 "),N(),I(34,"button",21),Ye("click",function(){return Xe(f),Qe(l.onSearchAll())}),D(35," \u0E04\u0E49\u0E19\u0E2B\u0E32\u0E17\u0E31\u0E49\u0E07\u0E2B\u0E21\u0E14 "),N()(),I(36,"mat-card-footer"),Fe(37,qw,1,0,"mat-progress-bar",22),N()(),Fe(38,g_,47,13)(39,v_,1,1),jn(40,38,Uw,null,39,null,null,3,Un)}if(a&2){let f=Xi(17);P(4),se("selectedIndex",l.selectedTap.value),P(6),se("rangePicker",f)("formGroup",l.dateRange),P(5),se("for",f),P(15),se("disabled",l.isLoading),P(4),se("disabled",l.isLoading),P(3),Pt(37,l.isLoading?37:-1),P(3),Vn(l.dataSource.data.length>0||l.isFirstLoading)}},dependencies:[Tr,In,qn,nn,An,Nn,Tn,Pi,mn,sp,Ii,ki,lo,Bi,co,Ui,Fi,Qi,nl,fo,Hn,fl,Wu,Hu,Gu,Yu,Lc,Dc,pn,Nc],styles:[".mat-column-select[_ngcontent-%COMP%]{flex:0 0 60px}.mat-column-no[_ngcontent-%COMP%]{flex:0 0 70px}.mat-column-image[_ngcontent-%COMP%]{flex:0 0 120px;padding-block:8px}.mat-column-code[_ngcontent-%COMP%]{flex:0 0 140px}.mat-column-category[_ngcontent-%COMP%], .mat-column-status[_ngcontent-%COMP%], .mat-column-usage[_ngcontent-%COMP%]{flex:0 0 120px}.mat-column-description[_ngcontent-%COMP%]{min-width:200px}img[_ngcontent-%COMP%]{width:100%;height:100%}mat-row[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;transition:.2s}.dark-theme[_nghost-%COMP%]   mat-row[_ngcontent-%COMP%]:hover, .dark-theme   [_nghost-%COMP%]   mat-row[_ngcontent-%COMP%]:hover{background-color:#343434}.filter-box[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;gap:10px}.filter-box[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1 1 calc(25% - 10px);min-width:150px}.filter-box[_ngcontent-%COMP%]   .additional-selection[_ngcontent-%COMP%]{opacity:.75;font-size:.75em}@media (max-width: 968px){.filter-box[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1 1 calc(50% - 10px)}}@media (min-width: 599px){.filter-box[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1 1 calc(25% - 10px)}}"]});let t=e;return t})();var O1={validationField:{code:{required:"\u0E01\u0E23\u0E2D\u0E01 \u0E23\u0E2B\u0E31\u0E2A\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C"},description:{required:"\u0E01\u0E23\u0E2D\u0E01 \u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C"},unit:{required:"\u0E01\u0E23\u0E2D\u0E01 \u0E41\u0E2B\u0E25\u0E48\u0E07\u0E2B\u0E19\u0E48\u0E27\u0E22\u0E19\u0E31\u0E1A"},value:{required:"\u0E01\u0E23\u0E2D\u0E01 \u0E21\u0E39\u0E25\u0E04\u0E48\u0E32\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C"},receivedDate:{required:"\u0E01\u0E23\u0E2D\u0E01 \u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E44\u0E14\u0E49\u0E21\u0E32"},fundingSource:{required:"\u0E01\u0E23\u0E2D\u0E01 \u0E41\u0E2B\u0E25\u0E48\u0E07\u0E40\u0E07\u0E34\u0E19"},location:{required:"\u0E2A\u0E16\u0E32\u0E19\u0E17\u0E35\u0E48\u0E15\u0E31\u0E49\u0E07/\u0E08\u0E31\u0E14\u0E40\u0E01\u0E47\u0E1A"},category:{required:"\u0E40\u0E25\u0E37\u0E2D\u0E01 \u0E04\u0E38\u0E13\u0E2A\u0E21\u0E1A\u0E31\u0E15\u0E34"},status:{required:"\u0E40\u0E25\u0E37\u0E2D\u0E01 \u0E2A\u0E16\u0E32\u0E19\u0E30"},usage:{required:"\u0E40\u0E25\u0E37\u0E2D\u0E01 \u0E01\u0E32\u0E23\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19"},image:{mimeType:"\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E44\u0E1F\u0E25\u0E4C\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07 \u0E01\u0E23\u0E38\u0E13\u0E32\u0E2D\u0E31\u0E1B\u0E42\u0E2B\u0E25\u0E14\u0E44\u0E1F\u0E25\u0E4C\u0E23\u0E39\u0E1B\u0E20\u0E32\u0E1E\u0E40\u0E17\u0E48\u0E32\u0E19\u0E31\u0E49\u0E19"}}};var w_=["formDirec"],__=["codeEl"],b_=["dateEl"],C_=["picker"],S_=()=>[Cc,da,In,qn,nn,An,Nn,Tn,Pi,ki,lo,Bi,co,on,rn,Ui,Fi,Qi,nl,uo,fo,Hn,qu,zu,fl,Qu,Xu,Zu,e1,$u,t1,Ju,ho];function A_(t,e){t&1&&(yt(0),I(1,"button",7),D(2," \u0E44\u0E21\u0E48\u0E1E\u0E1A\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E04\u0E38\u0E13\u0E2A\u0E21\u0E1A\u0E31\u0E15\u0E34, \u0E2A\u0E16\u0E32\u0E19\u0E30\u0E2B\u0E23\u0E37\u0E2D\u0E01\u0E32\u0E23\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19\u0E02\u0E2D\u0E07\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C \u0E01\u0E23\u0E38\u0E13\u0E32\u0E15\u0E34\u0E14\u0E15\u0E48\u0E2D Admin "),N(),wt())}function I_(t,e){if(t&1){let i=St();I(0,"ngx-dropzone-image-preview",37),Ye("removed",function(){let a=Xe(i).$implicit,l=We(3);return Qe(l.onRemoveImage(a))}),N()}if(t&2){let i=e.$implicit;se("file",i)("removable",!0)}}function N_(t,e){if(t&1){let i=St();I(0,"mat-chip-option",38),Ye("selectionChange",function(){Xe(i);let a=We(3);return Qe(a.onSelectChip("category"))}),D(1),N()}if(t&2){let i=e.$implicit;se("value",i.id),P(),ft(i.name)}}function T_(t,e){if(t&1){let i=St();I(0,"mat-chip-option",38),Ye("selectionChange",function(){Xe(i);let a=We(3);return Qe(a.onSelectChip("status"))}),D(1),N()}if(t&2){let i=e.$implicit;se("value",i.id),P(),_t(" ",i.name," ")}}function M_(t,e){if(t&1){let i=St();I(0,"mat-chip-option",38),Ye("selectionChange",function(){Xe(i);let a=We(3);return Qe(a.onSelectChip("usage"))}),D(1),N()}if(t&2){let i=e.$implicit;se("value",i.id),P(),_t(" ",i.name," ")}}function L_(t,e){t&1&&he(0,"mat-progress-bar",36)}function D_(t,e){if(t&1){let i=St();I(0,"mat-card")(1,"mat-card-header",8)(2,"mat-card-title"),D(3),N(),I(4,"button",9),Ye("click",function(){Xe(i);let a=We(2);return Qe(a.onReset())}),D(5," \u0E23\u0E35\u0E40\u0E0B\u0E47\u0E15 "),N()(),I(6,"form",10,1),Ye("ngSubmit",function(){Xe(i);let a=We(2);return Qe(a.onSubmit())}),I(8,"mat-card-content",11)(9,"ngx-dropzone",12),Ye("change",function(a){Xe(i);let l=We(2);return Qe(l.onSelectImage(a))}),I(10,"ngx-dropzone-label"),D(11,"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E23\u0E39\u0E1B (jpg, jpeg, png)"),N(),Fe(12,I_,1,2,"ngx-dropzone-image-preview",13),N(),I(13,"mat-error"),he(14,"app-error-field",14),N(),I(15,"mat-form-field")(16,"mat-label"),D(17,"\u0E23\u0E2B\u0E31\u0E2A\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C"),N(),he(18,"input",15,2),I(20,"mat-error"),he(21,"app-error-field",14),N()(),I(22,"div",16)(23,"mat-form-field")(24,"mat-label"),D(25,"\u0E23\u0E2B\u0E31\u0E2A\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C\u0E40\u0E14\u0E34\u0E21"),N(),he(26,"input",17),N(),I(27,"mat-form-field")(28,"mat-label"),D(29,"\u0E2B\u0E19\u0E48\u0E27\u0E22\u0E19\u0E31\u0E1A"),N(),he(30,"input",18),I(31,"mat-error"),he(32,"app-error-field",14),N()()(),I(33,"div",16)(34,"mat-form-field")(35,"mat-label"),D(36,"\u0E21\u0E39\u0E25\u0E04\u0E48\u0E32\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C"),N(),he(37,"input",19),I(38,"mat-error"),he(39,"app-error-field",14),N()(),I(40,"mat-form-field")(41,"mat-label"),D(42,"\u0E41\u0E2B\u0E25\u0E48\u0E07\u0E40\u0E07\u0E34\u0E19"),N(),he(43,"input",20),I(44,"mat-error"),he(45,"app-error-field",14),N()()(),I(46,"div",16)(47,"mat-form-field")(48,"mat-label"),D(49,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E44\u0E14\u0E49\u0E21\u0E32"),N(),I(50,"input",21,3),Ye("focusout",function(){Xe(i);let a=We(2);return Qe(a.onDateInput())}),N(),I(52,"input",22),Ye("dateInput",function(a){Xe(i);let l=We(2);return Qe(l.onDatePicker(a))}),N(),I(53,"mat-hint",23),D(54,"\u0E27\u0E31\u0E19/\u0E40\u0E14\u0E37\u0E2D\u0E19/\u0E1E.\u0E28. (5/9/2560)"),N(),he(55,"mat-datepicker-toggle",24)(56,"mat-datepicker",null,4),N(),I(58,"mat-form-field")(59,"mat-label"),D(60,"\u0E2A\u0E16\u0E32\u0E19\u0E17\u0E35\u0E48\u0E15\u0E31\u0E49\u0E07/\u0E08\u0E31\u0E14\u0E40\u0E01\u0E47\u0E1A"),N(),he(61,"input",25),I(62,"mat-error"),he(63,"app-error-field",14),N()()(),I(64,"div",26)(65,"mat-card-title"),D(66,"\u0E04\u0E38\u0E13\u0E2A\u0E21\u0E1A\u0E31\u0E15\u0E34 (\u0E22\u0E35\u0E48\u0E2B\u0E49\u0E2D/\u0E23\u0E38\u0E48\u0E19)"),N(),I(67,"mat-chip-listbox",27),On(68,N_,2,2,"mat-chip-option",28,or),N(),I(70,"mat-error"),he(71,"app-error-field",14),N()(),I(72,"div",26)(73,"mat-card-title"),D(74,"\u0E2A\u0E16\u0E32\u0E19\u0E30"),N(),I(75,"mat-chip-listbox",29),On(76,T_,2,2,"mat-chip-option",28,or),N(),I(78,"mat-error"),he(79,"app-error-field",14),N()(),I(80,"div",26)(81,"mat-card-title"),D(82,"\u0E01\u0E32\u0E23\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19"),N(),I(83,"mat-chip-listbox",30),On(84,M_,2,2,"mat-chip-option",28,or),N(),I(86,"mat-error"),he(87,"app-error-field",14),N()(),I(88,"mat-form-field")(89,"mat-label"),D(90,"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C"),N(),he(91,"textarea",31),I(92,"mat-error"),he(93,"app-error-field",14),N()(),I(94,"mat-form-field")(95,"mat-label"),D(96,"\u0E2B\u0E21\u0E32\u0E22\u0E40\u0E2B\u0E15\u0E38"),N(),he(97,"textarea",32),N()(),I(98,"mat-card-actions",33)(99,"button",34),D(100," \u0E15\u0E01\u0E25\u0E07 "),N(),I(101,"mat-checkbox",35),Ye("change",function(a){Xe(i);let l=We(2);return Qe(l.remember=a.checked)}),D(102,"\u0E08\u0E33\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E25\u0E48\u0E32\u0E2A\u0E38\u0E14"),N()()(),I(103,"mat-card-footer"),Fe(104,L_,1,0,"mat-progress-bar",36),N()()}if(t&2){let i=Xi(57),n=We(2);P(3),ft(n.title),P(),se("disabled",n.isLoading),P(2),se("formGroup",n.formInventory),P(3),se("accept","image/jpeg,image/jpg,image/png")("multiple",!1),P(3),se("ngForOf",n.files),P(2),se("control",n.image)("errorMessage",n.validationField.image),P(7),se("control",n.code)("errorMessage",n.validationField.code),P(11),se("control",n.unit)("errorMessage",n.validationField.unit),P(7),se("control",n.value)("errorMessage",n.validationField.value),P(6),se("control",n.fundingSource)("errorMessage",n.validationField.fundingSource),P(7),se("matDatepicker",i),P(3),se("for",i)("disabled",n.formInventory.disabled),P(8),se("control",n.location)("errorMessage",n.validationField.location),P(5),Rn(n.categories),P(3),se("control",n.category)("errorMessage",n.validationField.category),P(5),Rn(n.statuses),P(3),se("control",n.status)("errorMessage",n.validationField.status),P(5),Rn(n.usages),P(3),se("control",n.usage)("errorMessage",n.validationField.usage),P(6),se("control",n.description)("errorMessage",n.validationField.description),P(6),se("disabled",n.isLoading),P(2),se("checked",n.remember),P(3),Pt(104,n.isLoading?104:-1)}}function O_(t,e){if(t&1&&Fe(0,A_,3,0,"ng-container",6)(1,D_,105,32,"ng-template",null,0,Zs),t&2){let i=Xi(2),n=We();se("ngIf",n.categories.length<=0||n.statuses.length<=0||n.usages.length<=0)("ngIfElse",i)}}function R_(t,e){t&1&&he(0,"app-loading-data",39),t&2&&se("form","card")}var gg=(()=>{let e=class e{constructor(){this.formBuilder=_e(zn),this.inventoryService=_e(Qr),this.inventoryApiService=_e(_l),this.categoryService=_e(Kr),this.statusService=_e(Jr),this.usageService=_e($r),this.validationService=_e(an),this.toastService=_e(Gn),this.datePipe=_e(Fo),this.subscription=new Ri,this.validationField=O1.validationField,this.files=[],this.title="\u0E40\u0E1E\u0E34\u0E48\u0E21 \u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C",this.isLoading=this.inventoryService.getIsLoading(),this.remember=!1,this.categories=[],this.statuses=[],this.usages=[],this.formInventory=this.initFormInventory(),this.formImage=this.initFormImage()}ngOnInit(){this.categories=this.categoryService.getActiveCategories(),this.statuses=this.statusService.getActiveStatuses(),this.usages=this.usageService.getActiveUsages(),this.initSubscription()}ngOnDestroy(){this.subscription.unsubscribe()}onSubmit(){if(this.formInventory.invalid||this.image.hasError("mimeType"))return;let n=this.datePipe.transform(this.receivedDate.value,"yyyy-MM-dd"),a=this.categories.find(v=>v.id===this.category.value).name,l=this.statuses.find(v=>v.id===this.status.value).name,f=this.usages.find(v=>v.id===this.usage.value).name,p=new FormData;p.append("code",this.code.value),p.append("oldCode",this.oldCode.value),p.append("description",this.description.value),p.append("unit",this.unit.value),p.append("value",this.value.value),p.append("receivedDate",n),p.append("fundingSource",this.fundingSource.value),p.append("location",this.location.value),p.append("remark",this.remark.value),p.append("image",this.image.value),p.append("categoryId",this.category.value.toString()),p.append("categoryName",a),p.append("statusId",this.status.value.toString()),p.append("statusName",l),p.append("usageId",this.usage.value.toString()),p.append("usageName",f),this.isLoading=!0,this.inventoryApiService.createInventory(p).pipe(oi(()=>this.isLoading=!1)).subscribe(v=>{this.toastService.success("Success",v.message),this.code.setValue(this.setCode(this.code.value)),this.remember||this.onReset()})}onReset(){this.files.length=0,this.codeEl.nativeElement.focus(),this.formImage.reset(),this.fromDirec.resetForm(),this.category.markAsUntouched(),this.status.markAsUntouched(),this.usage.markAsUntouched()}onSelectImage(n){this.files.length=0,this.files.push(...n.addedFiles),this.image.setValue(this.files[0]),this.image.markAsTouched()}onRemoveImage(n){this.files.splice(this.files.indexOf(n),1),this.image.patchValue(null)}onDateInput(){let[n,a,l]=this.dateEl.nativeElement.value.split("/"),f=new Date(+l-543,+a-1,+n);this.receivedDate.setValue(f),this.receivedDate.errors&&this.dateInput.setErrors(this.receivedDate.errors),this.receivedDate.errors||(this.dateInput.setErrors(null),this.convertCEtoBE(f))}onDatePicker(n){let[a,l,f]=this.datePipe.transform(n.value,"d/M/yyyy").split("/"),p=`${a}/${l}/${+f+543}`;this.dateInput.setValue(p)}convertCEtoBE(n){let[a,l,f]=this.datePipe.transform(n,"d/M/yyyy").split("/"),p=new Date().getFullYear(),v=+f+543,x=new Date(v,+l-1,+a);if(v<=p){let[S,M,k]=this.datePipe.transform(x,"d/M/yyyy").split("/"),A=`${S}/${M}/${+k+543}`;this.receivedDate.setValue(x),this.dateInput.setValue(A)}}onSelectChip(n){this[n].markAsTouched()}get code(){return this.formInventory.controls.code}get oldCode(){return this.formInventory.controls.oldCode}get dateInput(){return this.formInventory.controls.dateInput}get description(){return this.formInventory.controls.description}get unit(){return this.formInventory.controls.unit}get value(){return this.formInventory.controls.value}get receivedDate(){return this.formInventory.controls.receivedDate}get fundingSource(){return this.formInventory.controls.fundingSource}get location(){return this.formInventory.controls.location}get remark(){return this.formInventory.controls.remark}get category(){return this.formInventory.controls.category}get status(){return this.formInventory.controls.status}get usage(){return this.formInventory.controls.usage}get image(){return this.formImage}initFormInventory(){return this.formBuilder.nonNullable.group({code:["",[kt.required]],oldCode:[""],dateInput:["",[kt.required]],description:["",[kt.required]],unit:["",[kt.required]],value:["",[kt.required]],receivedDate:this.formBuilder.control(null,[kt.required,this.validationService.isDate()]),fundingSource:["",[kt.required]],location:["",[kt.required]],remark:[""],category:this.formBuilder.control(null,[kt.required]),status:this.formBuilder.control(null,[kt.required]),usage:this.formBuilder.control(null,[kt.required]),image:[""]})}initFormImage(){return this.formBuilder.control(null,{validators:[kt.required],asyncValidators:[this.validationService.mimeType()]})}initSubscription(){this.subscription.add(this.categoryService.onCategoriesListener().subscribe(()=>this.categories=this.categoryService.getActiveCategories())),this.subscription.add(this.statusService.onStatusesListener().subscribe(()=>this.statuses=this.statusService.getActiveStatuses())),this.subscription.add(this.usageService.onUsagesListener().subscribe(()=>this.usages=this.usageService.getActiveUsages())),this.subscription.add(this.inventoryService.onIsLoadingListener().subscribe(n=>this.isLoading=n))}setCode(n){let a=n.split("-"),l=a[a.length-1],f=(parseInt(l)+1).toString().padStart(4,"0");return a[a.length-1]=f,a.join("-")}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=zt({type:e,selectors:[["app-inventory-new"]],viewQuery:function(a,l){if(a&1&&(Nt(w_,5),Nt(__,5),Nt(b_,5),Nt(C_,5)),a&2){let f;Tt(f=Mt())&&(l.fromDirec=f.first),Tt(f=Mt())&&(l.codeEl=f.first),Tt(f=Mt())&&(l.dateEl=f.first),Tt(f=Mt())&&(l.picker=f.first)}},decls:4,vars:1,consts:[["content",""],["formDirec","ngForm"],["codeEl",""],["dateEl",""],["picker",""],[300],[4,"ngIf","ngIfElse"],["mat-flat-button","","color","warn",1,"w-100"],[1,"justify-between"],["type","button","mat-button","","color","warn",3,"click","disabled"],[1,"form-container",3,"ngSubmit","formGroup"],[1,"box"],[1,"dropzone",3,"change","accept","multiple"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed",4,"ngFor","ngForOf"],[3,"control","errorMessage"],["type","text","matInput","","formControlName","code"],[1,"row"],["type","text","matInput","","formControlName","oldCode"],["type","text","matInput","","formControlName","unit"],["matInput","","type","text","mask","separator.2","thousandSeparator",",","decimalMarker",".","formControlName","value"],["matInput","","type","text","formControlName","fundingSource"],["matInput","","mask","d0/M0/0000","formControlName","dateInput",3,"focusout"],["matInput","","formControlName","receivedDate",1,"hidden-input",3,"dateInput","matDatepicker"],["align","end"],["matIconSuffix","",3,"for","disabled"],["matInput","","type","text","formControlName","location"],[1,"d-flex","flex-column"],["formControlName","category"],[3,"value"],["formControlName","status"],["formControlName","usage"],["matInput","","formControlName","description","rows","3"],["matInput","","formControlName","remark"],[1,"gap-20"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],[3,"change","checked"],["mode","indeterminate"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"removed","file","removable"],[3,"selectionChange","value"],[3,"form"]],template:function(a,l){a&1&&(Fe(0,O_,3,2)(1,R_,1,1),jn(2,0,S_,null,1,null,null,5,Un)),a&2&&(P(2),Vn(!l.isLoading))},dependencies:[pn]});let t=e;return t})();var P_=()=>[Tr,da,Ic,Pi,Uu,Tc,Fu,Bu,ki,lo,Bi,on,rn,Uo,Pu,r1,L1],k_=t=>["../../edit",t];function B_(t,e){t&1&&(yt(0),I(1,"button",3),D(2," \u0E44\u0E21\u0E48\u0E1E\u0E1A\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C "),N(),wt())}function F_(t,e){if(t&1){let i=St();I(0,"mat-card",4)(1,"mat-card-header",5)(2,"mat-card-title"),D(3),N()(),I(4,"mat-card-content")(5,"div",6),he(6,"img",7),N(),I(7,"mat-list")(8,"mat-list-item")(9,"span",8),D(10,"\u0E23\u0E2B\u0E31\u0E2A\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C"),N(),I(11,"span",9),D(12),N()(),I(13,"div",10)(14,"mat-list-item")(15,"span",8),D(16,"\u0E23\u0E2B\u0E31\u0E2A\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C\u0E40\u0E14\u0E34\u0E21"),N(),I(17,"span",9),D(18),N()(),I(19,"mat-list-item")(20,"span",8),D(21,"\u0E2B\u0E19\u0E48\u0E27\u0E22\u0E19\u0E31\u0E1A"),N(),I(22,"span",9),D(23),N()()(),I(24,"div",10)(25,"mat-list-item")(26,"span",8),D(27,"\u0E21\u0E39\u0E25\u0E04\u0E48\u0E32\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C"),N(),I(28,"span",9),D(29),hn(30,"number"),N()(),I(31,"mat-list-item")(32,"span",8),D(33,"\u0E41\u0E2B\u0E25\u0E48\u0E07\u0E40\u0E07\u0E34\u0E19"),N(),I(34,"span",9),D(35),N()()(),I(36,"div",10)(37,"mat-list-item")(38,"span",8),D(39,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E44\u0E14\u0E49\u0E21\u0E32"),N(),I(40,"span",9),D(41),hn(42,"thaiYear"),N()(),I(43,"mat-list-item")(44,"span",8),D(45,"\u0E2A\u0E16\u0E32\u0E19\u0E17\u0E35\u0E48\u0E15\u0E31\u0E49\u0E07/\u0E08\u0E31\u0E14\u0E40\u0E01\u0E47\u0E1A"),N(),I(46,"span",9),D(47),N()()(),I(48,"div",10)(49,"mat-list-item")(50,"span",8),D(51,"\u0E04\u0E38\u0E13\u0E2A\u0E21\u0E1A\u0E31\u0E15\u0E34 (\u0E22\u0E35\u0E48\u0E2B\u0E49\u0E2D/\u0E23\u0E38\u0E48\u0E19)"),N(),I(52,"span",9),D(53),N()(),I(54,"mat-list-item")(55,"span",8),D(56,"\u0E2A\u0E16\u0E32\u0E19\u0E30"),N(),I(57,"span",9),D(58),N()()(),I(59,"div",10)(60,"mat-list-item")(61,"span",8),D(62,"\u0E01\u0E32\u0E23\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19"),N(),I(63,"span",9),D(64),N()(),I(65,"mat-list-item")(66,"span",8),D(67,"\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19\u0E21\u0E32\u0E41\u0E25\u0E49\u0E27"),N(),I(68,"span",9),D(69),N()()(),I(70,"mat-list-item")(71,"span",8),D(72,"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C"),N()(),he(73,"div",11),hn(74,"dispTextarea"),I(75,"mat-list-item")(76,"span",8),D(77,"\u0E2B\u0E21\u0E32\u0E22\u0E40\u0E2B\u0E15\u0E38"),N()(),he(78,"div",11),hn(79,"dispTextarea"),N()(),I(80,"mat-card-actions",12)(81,"a",13),D(82,"\u0E41\u0E01\u0E49\u0E44\u0E02"),N(),I(83,"button",14),Ye("click",function(){Xe(i);let a=We(2);return Qe(a.onPrint())}),D(84," \u0E40\u0E1E\u0E34\u0E48\u0E21\u0E1E\u0E31\u0E2A\u0E14\u0E38\u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A\u0E1B\u0E23\u0E34\u0E49\u0E19 "),N()()()}if(t&2){let i=We(2);P(3),ft(i.title),P(3),se("defaultImage","assets/images/no-image.jpg")("lazyLoad",i.imageUrl+i.inventory.image),P(6),ft(i.inventory.code),P(6),ft(i.isEmpty(i.inventory.oldCode)),P(5),ft(i.inventory.unit),P(6),ft(Yl(30,17,i.inventory.value,"1.2-2")),P(6),ft(i.inventory.fundingSource),P(6),ft(Pn(42,20,i.inventory.receivedDate)),P(6),ft(i.inventory.location),P(6),ft(i.inventory.Category.name),P(5),ft(i.inventory.Status.name),P(6),ft(i.inventory.Usage.name),P(5),ft(i.getUseDate(i.inventory.receivedDate)),P(4),se("innerHTML",Pn(74,22,i.inventory.description),_c),P(5),se("innerHTML",Pn(79,24,i.inventory.remark),_c),P(3),se("routerLink",Bo(26,k_,i.inventory.id))}}function U_(t,e){if(t&1&&Fe(0,B_,3,0,"ng-container",2)(1,F_,85,28,"ng-template",null,0,Zs),t&2){let i=Xi(2),n=We();se("ngIf",!n.inventory)("ngIfElse",i)}}function j_(t,e){t&1&&he(0,"app-loading-data",15),t&2&&se("form","card")}var vg=(()=>{let e=class e{constructor(){this.subscription=new Ri,this.route=_e(Xa),this.inventoryService=_e(Qr),this.inventoryApiService=_e(_l),this.printService=_e(Ka),this.snackBar=_e(Ku),this.platfrom=_e(Ac),this.imageUrl=Mi.imageUrl,this.title="\u0E23\u0E32\u0E22\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14 \u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C",this.isEdit=!1,this.isLoading=!1,this.id=+this.route.snapshot.params.id,this.inventory=this.inventoryService.getInventoryById(this.id)}ngOnInit(){this.inventory||(this.isLoading=!0,this.inventoryApiService.getInventoryById(this.id).pipe(oi(()=>this.isLoading=!1)).subscribe(n=>n&&(this.inventory=n))),this.subscription=this.inventoryService.onInventoriesListener().subscribe(()=>this.inventory=this.inventoryService.getInventoryById(this.id))}ngOnDestroy(){this.subscription.unsubscribe()}getUseDate(n){let a=new Date(n);return this.inventoryService.getUseDate(a)}isEmpty(n){return n||"-"}onEdit(){this.isEdit=!0}onEditSuccess(n){this.isEdit=!1,this.inventory=n}onPrint(){let n="center",a="bottom";(this.platfrom.ANDROID||this.platfrom.IOS)&&(n="center",a="top"),this.snackBar.open("\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C\u0E44\u0E1B\u0E22\u0E31\u0E07\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E1E\u0E34\u0E21\u0E1E\u0E4C","\u0E1B\u0E34\u0E14",{duration:2500,horizontalPosition:n,verticalPosition:a});let l={id:this.inventory.id,track:this.inventory.track,image:this.inventory.image,code:this.inventory.code,description:this.inventory.description,printCount:1};this.printService.createInventory(l)}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=zt({type:e,selectors:[["app-inventory-view"]],decls:4,vars:1,consts:[["content",""],[300],[4,"ngIf","ngIfElse"],["mat-flat-button","","color","warn",1,"w-100"],[1,"mat-elevation-z8"],[1,"mb-16"],[1,"blurred-img"],[1,"size",3,"defaultImage","lazyLoad"],["matListItemTitle",""],["matListItemLine",""],[1,"d-flex","flex-row"],[1,"view-textarea",3,"innerHTML"],[1,"gap-10"],["mat-raised-button","","color","primary",3,"routerLink"],["type","button","mat-raised-button","","color","accent",3,"click"],[3,"form"]],template:function(a,l){a&1&&(Fe(0,U_,3,2)(1,j_,1,1),jn(2,0,P_,null,1,null,null,1,Un)),a&2&&(P(2),Vn(!l.isLoading))},dependencies:[pn],styles:["mat-list-item[_ngcontent-%COMP%]{padding:0}mat-subheader[_ngcontent-%COMP%]{margin-left:0}.view-textarea[_ngcontent-%COMP%]{margin-top:-12px;color:#0000008a}.view-textarea[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px}.dark-theme[_nghost-%COMP%]   .view-textarea[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .view-textarea[_ngcontent-%COMP%]{color:#ffffffb3}"]});let t=e;return t})();var V_=["formDirec"],q_=["codeEl"],z_=["dateEl"],H_=["picker"],G_=()=>[Cc,da,In,qn,nn,An,Nn,Tn,Pi,ki,lo,Bi,on,rn,Ui,Fi,Qi,nl,uo,fo,qu,zu,fl,Qu,Xu,e1,$u,t1,Ju,ho];function W_(t,e){t&1&&(yt(0),I(1,"button",7),D(2," \u0E44\u0E21\u0E48\u0E1E\u0E1A\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E04\u0E38\u0E13\u0E2A\u0E21\u0E1A\u0E31\u0E15\u0E34, \u0E2A\u0E16\u0E32\u0E19\u0E30\u0E2B\u0E23\u0E37\u0E2D\u0E01\u0E32\u0E23\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19\u0E02\u0E2D\u0E07\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C \u0E01\u0E23\u0E38\u0E13\u0E32\u0E15\u0E34\u0E14\u0E15\u0E48\u0E2D Admin "),N(),wt())}function Y_(t,e){t&1&&(I(0,"button",7),D(1," \u0E44\u0E21\u0E48\u0E1E\u0E1A\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C "),N())}function X_(t,e){if(t&1){let i=St();I(0,"ngx-dropzone-image-preview",35),Ye("removed",function(){let a=Xe(i).$implicit,l=We(4);return Qe(l.onRemoveImage(a))}),N()}if(t&2){let i=e.$implicit;se("file",i)("removable",!0)}}function Q_(t,e){if(t&1){let i=St();I(0,"mat-chip-option",36),Ye("selectionChange",function(){Xe(i);let a=We(4);return Qe(a.onSelectChip("category"))}),D(1),N()}if(t&2){let i=e.$implicit;se("value",i.id),P(),ft(i.name)}}function Z_(t,e){if(t&1){let i=St();I(0,"mat-chip-option",36),Ye("selectionChange",function(){Xe(i);let a=We(4);return Qe(a.onSelectChip("status"))}),D(1),N()}if(t&2){let i=e.$implicit;se("value",i.id),P(),_t(" ",i.name," ")}}function K_(t,e){if(t&1){let i=St();I(0,"mat-chip-option",36),Ye("selectionChange",function(){Xe(i);let a=We(4);return Qe(a.onSelectChip("usage"))}),D(1),N()}if(t&2){let i=e.$implicit;se("value",i.id),P(),_t(" ",i.name," ")}}function J_(t,e){if(t&1){let i=St();I(0,"mat-card")(1,"mat-card-header",8)(2,"mat-card-title"),D(3),N(),I(4,"button",9),Ye("click",function(){Xe(i);let a=We(3);return Qe(a.onReset())}),D(5," \u0E23\u0E35\u0E40\u0E0B\u0E47\u0E15 "),N()(),I(6,"form",10,1),Ye("ngSubmit",function(){Xe(i);let a=We(3);return Qe(a.onSubmit())}),I(8,"mat-card-content",11)(9,"ngx-dropzone",12),Ye("change",function(a){Xe(i);let l=We(3);return Qe(l.onSelectImage(a))}),I(10,"ngx-dropzone-label"),D(11,"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E23\u0E39\u0E1B (jpg, jpeg, png)"),N(),Fe(12,X_,1,2,"ngx-dropzone-image-preview",13),N(),I(13,"mat-error"),he(14,"app-error-field",14),N(),I(15,"mat-form-field")(16,"mat-label"),D(17,"\u0E23\u0E2B\u0E31\u0E2A\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C"),N(),he(18,"input",15,2),I(20,"mat-error"),he(21,"app-error-field",14),N()(),I(22,"div",16)(23,"mat-form-field")(24,"mat-label"),D(25,"\u0E23\u0E2B\u0E31\u0E2A\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C\u0E40\u0E14\u0E34\u0E21"),N(),he(26,"input",17),N(),I(27,"mat-form-field")(28,"mat-label"),D(29,"\u0E2B\u0E19\u0E48\u0E27\u0E22\u0E19\u0E31\u0E1A"),N(),he(30,"input",18),I(31,"mat-error"),he(32,"app-error-field",14),N()()(),I(33,"div",16)(34,"mat-form-field")(35,"mat-label"),D(36,"\u0E21\u0E39\u0E25\u0E04\u0E48\u0E32\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C"),N(),he(37,"input",19),I(38,"mat-error"),he(39,"app-error-field",14),N()(),I(40,"mat-form-field")(41,"mat-label"),D(42,"\u0E41\u0E2B\u0E25\u0E48\u0E07\u0E40\u0E07\u0E34\u0E19"),N(),he(43,"input",20),I(44,"mat-error"),he(45,"app-error-field",14),N()()(),I(46,"div",16)(47,"mat-form-field")(48,"mat-label"),D(49,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E44\u0E14\u0E49\u0E21\u0E32"),N(),I(50,"input",21,3),Ye("focusout",function(){Xe(i);let a=We(3);return Qe(a.onDateInput())}),N(),I(52,"input",22),Ye("dateInput",function(a){Xe(i);let l=We(3);return Qe(l.onDatePicker(a))}),N(),I(53,"mat-hint",23),D(54,"\u0E27\u0E31\u0E19/\u0E40\u0E14\u0E37\u0E2D\u0E19/\u0E1E.\u0E28. (5/9/2560)"),N(),he(55,"mat-datepicker-toggle",24)(56,"mat-datepicker",null,4),N(),I(58,"mat-form-field")(59,"mat-label"),D(60,"\u0E2A\u0E16\u0E32\u0E19\u0E17\u0E35\u0E48\u0E15\u0E31\u0E49\u0E07/\u0E08\u0E31\u0E14\u0E40\u0E01\u0E47\u0E1A"),N(),he(61,"input",25),I(62,"mat-error"),he(63,"app-error-field",14),N()()(),I(64,"div",26)(65,"mat-card-title"),D(66,"\u0E04\u0E38\u0E13\u0E2A\u0E21\u0E1A\u0E31\u0E15\u0E34 (\u0E22\u0E35\u0E48\u0E2B\u0E49\u0E2D/\u0E23\u0E38\u0E48\u0E19)"),N(),I(67,"mat-chip-listbox",27),On(68,Q_,2,2,"mat-chip-option",28,or),N(),I(70,"mat-error"),he(71,"app-error-field",14),N()(),I(72,"div",26)(73,"mat-card-title"),D(74,"\u0E2A\u0E16\u0E32\u0E19\u0E30"),N(),I(75,"mat-chip-listbox",29),On(76,Z_,2,2,"mat-chip-option",28,or),N(),I(78,"mat-error"),he(79,"app-error-field",14),N()(),I(80,"div",26)(81,"mat-card-title"),D(82,"\u0E01\u0E32\u0E23\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19"),N(),I(83,"mat-chip-listbox",30),On(84,K_,2,2,"mat-chip-option",28,or),N(),I(86,"mat-error"),he(87,"app-error-field",14),N()(),I(88,"mat-form-field")(89,"mat-label"),D(90,"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C"),N(),he(91,"textarea",31),I(92,"mat-error"),he(93,"app-error-field",14),N()(),I(94,"mat-form-field")(95,"mat-label"),D(96,"\u0E2B\u0E21\u0E32\u0E22\u0E40\u0E2B\u0E15\u0E38"),N(),he(97,"textarea",32),N()(),I(98,"mat-card-actions",33)(99,"button",34),D(100," \u0E15\u0E01\u0E25\u0E07 "),N()()()()}if(t&2){let i=Xi(57),n=We(3);P(3),ft(n.title),P(),se("disabled",n.isLoading),P(2),se("formGroup",n.formInventory),P(3),se("accept","image/jpeg,image/jpg,image/png")("multiple",!1),P(3),se("ngForOf",n.files),P(2),se("control",n.image)("errorMessage",n.validationField.image),P(7),se("control",n.code)("errorMessage",n.validationField.code),P(11),se("control",n.unit)("errorMessage",n.validationField.unit),P(7),se("control",n.value)("errorMessage",n.validationField.value),P(6),se("control",n.fundingSource)("errorMessage",n.validationField.fundingSource),P(7),se("matDatepicker",i),P(3),se("for",i)("disabled",n.formInventory.disabled),P(8),se("control",n.location)("errorMessage",n.validationField.location),P(5),Rn(n.categories),P(3),se("control",n.category)("errorMessage",n.validationField.category),P(5),Rn(n.statuses),P(3),se("control",n.status)("errorMessage",n.validationField.status),P(5),Rn(n.usages),P(3),se("control",n.usage)("errorMessage",n.validationField.usage),P(6),se("control",n.description)("errorMessage",n.validationField.description),P(6),se("disabled",n.isLoading)}}function $_(t,e){if(t&1&&Fe(0,Y_,2,0,"button",7)(1,J_,101,30),t&2){let i=We(2);Pt(0,i.inventory?1:0)}}function eb(t,e){if(t&1&&Fe(0,W_,3,0,"ng-container",6)(1,$_,2,1,"ng-template",null,0,Zs),t&2){let i=Xi(2),n=We();se("ngIf",n.categories.length<=0||n.statuses.length<=0||n.usages.length<=0)("ngIfElse",i)}}function tb(t,e){t&1&&he(0,"app-loading-data",37),t&2&&se("form","card")}var Eg=(()=>{let e=class e{constructor(){this.router=_e(Js),this.route=_e(Xa),this.formBuilder=_e(zn),this.inventoryService=_e(Qr),this.inventoryApiService=_e(_l),this.categoryService=_e(Kr),this.statusService=_e(Jr),this.usageService=_e($r),this.validationService=_e(an),this.toastService=_e(Gn),this.datePipe=_e(Fo),this.subscription=new Ri,this.validationField=O1.validationField,this.imageUrl=Mi.imageUrl,this.files=[],this.title="\u0E41\u0E01\u0E49\u0E44\u0E02 \u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C",this.isImageEdit=!1,this.isLoading=this.inventoryService.getIsLoading(),this.categories=this.categoryService.getActiveCategories(),this.statuses=this.statusService.getActiveStatuses(),this.usages=this.usageService.getActiveUsages(),this.id=+this.route.snapshot.params.id,this.inventory=this.inventoryService.getInventoryById(this.id),this.isInventory=!1,this.formInventory=this.initFormInventory(),this.formImage=this.initFormImage()}ngOnInit(){this.initSubscription(),this.inventory&&this.setData(this.inventory),this.inventory||(this.isInventory=!0,this.inventoryApiService.getInventoryById(this.id).pipe(oi(()=>this.isInventory=!1)).subscribe(n=>{this.inventory=n,this.setData(this.inventory)}))}ngOnDestroy(){this.subscription.unsubscribe()}onSubmit(){if(this.formInventory.invalid||this.image.hasError("mimeType"))return;this.onDateInput();let n=this.datePipe.transform(this.receivedDate.value,"yyyy-MM-dd"),a=this.categories.find(v=>v.id===this.category.value).name,l=this.statuses.find(v=>v.id===this.status.value).name,f=this.usages.find(v=>v.id===this.usage.value).name,p=new FormData;p.append("code",this.code.value),p.append("oldCode",this.oldCode.value),p.append("description",this.description.value),p.append("unit",this.unit.value),p.append("value",this.value.value),p.append("receivedDate",n),p.append("fundingSource",this.fundingSource.value),p.append("location",this.location.value),p.append("remark",this.remark.value),p.append("image",this.image.value),p.append("imageEdit",this.isImageEdit.toString()),p.append("categoryId",this.category.value.toString()),p.append("categoryName",a),p.append("statusId",this.status.value.toString()),p.append("statusName",l),p.append("usageId",this.usage.value.toString()),p.append("usageName",f),this.isLoading=!0,this.inventoryApiService.updateInventory(this.id,p).pipe(oi(()=>this.isLoading=!1)).subscribe(v=>{this.toastService.success("Success",v.message),this.router.navigate(["/inventory/view",this.id])})}onReset(){this.files.length=0,this.isImageEdit=!1,this.codeEl.nativeElement.focus(),this.formImage.reset(),this.setData(this.inventory)}onSelectImage(n){this.files.length=0,this.files.push(...n.addedFiles),this.image.setValue(this.files[0]),this.image.markAsTouched(),this.isImageEdit=!0}onRemoveImage(n){this.files.splice(this.files.indexOf(n),1),this.image.patchValue(null),this.isImageEdit=!0}onDateInput(){let[n,a,l]=this.dateEl.nativeElement.value.split("/"),f=new Date(+l-543,+a-1,+n);this.receivedDate.setValue(f),this.receivedDate.errors&&this.dateInput.setErrors(this.receivedDate.errors),this.receivedDate.errors||(this.dateInput.setErrors(null),this.convertCEtoBE(f))}onDatePicker(n){let[a,l,f]=this.datePipe.transform(n.value,"d/M/yyyy").split("/"),p=`${a}/${l}/${+f+543}`;this.dateInput.setValue(p)}convertCEtoBE(n){let[a,l,f]=this.datePipe.transform(n,"d/M/yyyy").split("/"),p=new Date().getFullYear(),v=+f+543,x=new Date(v,+l-1,+a);if(v<=p){let[S,M,k]=this.datePipe.transform(x,"d/M/yyyy").split("/"),A=`${S}/${M}/${+k+543}`;this.receivedDate.setValue(x),this.dateInput.setValue(A)}}onSelectChip(n){this[n].markAsTouched()}lines(n){return n.split(`
`).length+1}get code(){return this.formInventory.controls.code}get oldCode(){return this.formInventory.controls.oldCode}get dateInput(){return this.formInventory.controls.dateInput}get description(){return this.formInventory.controls.description}get unit(){return this.formInventory.controls.unit}get value(){return this.formInventory.controls.value}get receivedDate(){return this.formInventory.controls.receivedDate}get fundingSource(){return this.formInventory.controls.fundingSource}get location(){return this.formInventory.controls.location}get remark(){return this.formInventory.controls.remark}get category(){return this.formInventory.controls.category}get status(){return this.formInventory.controls.status}get usage(){return this.formInventory.controls.usage}get image(){return this.formImage}setData(n){if(n){if(n.image){let a=this.imageUrl+n.image;this.inventoryApiService.downloadImage(a).subscribe(l=>{let f=new File([l],n.image,{type:l.type});this.files.push(f)})}wr(()=>this.dateEl?Qn(null):_r(100).pipe(nr(()=>!!this.dateEl),br(1))).subscribe(()=>{this.formInventory.patchValue({code:n.code,oldCode:n.oldCode,description:n.description,unit:n.unit,value:n.value.toString(),receivedDate:new Date(n.receivedDate),fundingSource:n.fundingSource,location:n.location,remark:n.remark,category:n.Category.id,status:n.Status.id,usage:n.Usage.id,image:n.image});let a=new Date(n.receivedDate);a.setFullYear(a.getFullYear()+543);let l=this.datePipe.transform(a,"d/M/yyyy");this.dateInput.setValue(l)})}}initFormInventory(){return this.formBuilder.nonNullable.group({code:["",[kt.required]],oldCode:[""],dateInput:["",[kt.required]],description:["",[kt.required]],unit:["",[kt.required]],value:["",[kt.required]],receivedDate:this.formBuilder.control(null,[kt.required,this.validationService.isDate()]),fundingSource:["",[kt.required]],location:["",[kt.required]],remark:[""],category:this.formBuilder.control(null,[kt.required]),status:this.formBuilder.control(null,[kt.required]),usage:this.formBuilder.control(null,[kt.required]),image:[""]})}initFormImage(){return this.formBuilder.control(null,{validators:[kt.required],asyncValidators:[this.validationService.mimeType()]})}initSubscription(){this.subscription.add(this.categoryService.onCategoriesListener().subscribe(()=>this.categories=this.categoryService.getActiveCategories())),this.subscription.add(this.statusService.onStatusesListener().subscribe(()=>this.statuses=this.statusService.getActiveStatuses())),this.subscription.add(this.usageService.onUsagesListener().subscribe(()=>this.usages=this.usageService.getActiveUsages())),this.subscription.add(this.inventoryService.onIsLoadingListener().subscribe(n=>this.isLoading=n)),this.subscription.add(this.inventoryService.onInventoriesListener().subscribe(()=>this.inventory=this.inventoryService.getInventoryById(this.id)))}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=zt({type:e,selectors:[["app-inventory-edit"]],viewQuery:function(a,l){if(a&1&&(Nt(V_,5),Nt(q_,5),Nt(z_,5),Nt(H_,5)),a&2){let f;Tt(f=Mt())&&(l.fromDirec=f.first),Tt(f=Mt())&&(l.codeEl=f.first),Tt(f=Mt())&&(l.dateEl=f.first),Tt(f=Mt())&&(l.picker=f.first)}},decls:4,vars:1,consts:[["content",""],["formDirec","ngForm"],["codeEl",""],["dateEl",""],["picker",""],[300],[4,"ngIf","ngIfElse"],["mat-flat-button","","color","warn",1,"w-100"],[1,"justify-between"],["type","button","mat-button","","color","warn",3,"click","disabled"],[1,"form-container",3,"ngSubmit","formGroup"],[1,"box"],[1,"dropzone",3,"change","accept","multiple"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed",4,"ngFor","ngForOf"],[3,"control","errorMessage"],["type","text","matInput","","formControlName","code"],[1,"row"],["type","text","matInput","","formControlName","oldCode"],["type","text","matInput","","formControlName","unit"],["matInput","","type","text","mask","separator.2","thousandSeparator",",","decimalMarker",".","formControlName","value"],["matInput","","type","text","formControlName","fundingSource"],["matInput","","mask","d0/M0/0000","formControlName","dateInput",3,"focusout"],["matInput","","formControlName","receivedDate",1,"hidden-input",3,"dateInput","matDatepicker"],["align","end"],["matIconSuffix","",3,"for","disabled"],["matInput","","type","text","formControlName","location"],[1,"d-flex","flex-column"],["formControlName","category"],[3,"value"],["formControlName","status"],["formControlName","usage"],["matInput","","formControlName","description","rows","3"],["matInput","","formControlName","remark"],[1,"gap-20"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"removed","file","removable"],[3,"selectionChange","value"],[3,"form"]],template:function(a,l){a&1&&(Fe(0,eb,3,2)(1,tb,1,1),jn(2,0,G_,null,1,null,null,5,Un)),a&2&&(P(2),Vn(!l.isLoading&&!l.isInventory))},dependencies:[pn]});let t=e;return t})();var No=Uint8Array,To=Uint16Array,F0=Uint32Array,P1=new No([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),k1=new No([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ch=new No([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_g=function(t,e){for(var i=new To(31),n=0;n<31;++n)i[n]=e+=1<<t[n-1];for(var a=new F0(i[30]),n=1;n<30;++n)for(var l=i[n];l<i[n+1];++l)a[l]=l-i[n]<<5|n;return[i,a]},bg=_g(P1,2),Cg=bg[0],Sh=bg[1];Cg[28]=258,Sh[258]=28;var Sg=_g(k1,0),ib=Sg[0],xg=Sg[1],Ah=new To(32768);for($i=0;$i<32768;++$i)xs=($i&43690)>>>1|($i&21845)<<1,xs=(xs&52428)>>>2|(xs&13107)<<2,xs=(xs&61680)>>>4|(xs&3855)<<4,Ah[$i]=((xs&65280)>>>8|(xs&255)<<8)>>>1;var xs,$i,es=function(t,e,i){for(var n=t.length,a=0,l=new To(e);a<n;++a)++l[t[a]-1];var f=new To(e);for(a=0;a<e;++a)f[a]=f[a-1]+l[a-1]<<1;var p;if(i){p=new To(1<<e);var v=15-e;for(a=0;a<n;++a)if(t[a])for(var x=a<<4|t[a],S=e-t[a],M=f[t[a]-1]++<<S,k=M|(1<<S)-1;M<=k;++M)p[Ah[M]>>>v]=x}else for(p=new To(n),a=0;a<n;++a)p[a]=Ah[f[t[a]-1]++]>>>15-t[a];return p},bl=new No(288);for($i=0;$i<144;++$i)bl[$i]=8;var $i;for($i=144;$i<256;++$i)bl[$i]=9;var $i;for($i=256;$i<280;++$i)bl[$i]=7;var $i;for($i=280;$i<288;++$i)bl[$i]=8;var $i,U0=new No(32);for($i=0;$i<32;++$i)U0[$i]=5;var $i,nb=es(bl,9,0),rb=es(bl,9,1),ob=es(U0,5,0),ab=es(U0,5,1),wh=function(t){for(var e=t[0],i=1;i<t.length;++i)t[i]>e&&(e=t[i]);return e},Pa=function(t,e,i){var n=e/8>>0;return(t[n]|t[n+1]<<8)>>>(e&7)&i},_h=function(t,e){var i=e/8>>0;return(t[i]|t[i+1]<<8|t[i+2]<<16)>>>(e&7)},Nh=function(t){return(t/8>>0)+(t&7&&1)},Ag=function(t,e,i){(e==null||e<0)&&(e=0),(i==null||i>t.length)&&(i=t.length);var n=new(t instanceof To?To:t instanceof F0?F0:No)(i-e);return n.set(t.subarray(e,i)),n},sb=function(t,e,i){var n=t.length,a=!e||i,l=!i||i.i;i||(i={}),e||(e=new No(n*3));var f=function(ve){var Me=e.length;if(ve>Me){var Pe=new No(Math.max(Me*2,ve));Pe.set(e),e=Pe}},p=i.f||0,v=i.p||0,x=i.b||0,S=i.l,M=i.d,k=i.m,A=i.n,$=n*8;do{if(!S){i.f=p=Pa(t,v,1);var z=Pa(t,v+1,3);if(v+=3,z)if(z==1)S=rb,M=ab,k=9,A=5;else if(z==2){var ge=Pa(t,v,31)+257,xe=Pa(t,v+10,15)+4,ce=ge+Pa(t,v+5,31)+1;v+=14;for(var Re=new No(ce),ne=new No(19),le=0;le<xe;++le)ne[Ch[le]]=Pa(t,v+le*3,7);v+=xe*3;var Ge=wh(ne),Ae=(1<<Ge)-1;if(!l&&v+ce*(Ge+7)>$)break;for(var W=es(ne,Ge,1),le=0;le<ce;){var X=W[Pa(t,v,Ae)];v+=X&15;var K=X>>>4;if(K<16)Re[le++]=K;else{var G=0,ae=0;for(K==16?(ae=3+Pa(t,v,3),v+=2,G=Re[le-1]):K==17?(ae=3+Pa(t,v,7),v+=3):K==18&&(ae=11+Pa(t,v,127),v+=7);ae--;)Re[le++]=G}}var be=Re.subarray(0,ge),Be=Re.subarray(ge);k=wh(be),A=wh(Be),S=es(be,k,1),M=es(Be,A,1)}else throw"invalid block type";else{var K=Nh(v)+4,U=t[K-4]|t[K-3]<<8,Y=K+U;if(Y>n){if(l)throw"unexpected EOF";break}a&&f(x+U),e.set(t.subarray(K,Y),x),i.b=x+=U,i.p=v=Y*8;continue}if(v>$)throw"unexpected EOF"}a&&f(x+131072);for(var ze=(1<<k)-1,Ie=(1<<A)-1,Ze=k+A+18;l||v+Ze<$;){var G=S[_h(t,v)&ze],je=G>>>4;if(v+=G&15,v>$)throw"unexpected EOF";if(!G)throw"invalid length/literal";if(je<256)e[x++]=je;else if(je==256){S=null;break}else{var ht=je-254;if(je>264){var le=je-257,B=P1[le];ht=Pa(t,v,(1<<B)-1)+Cg[le],v+=B}var ie=M[_h(t,v)&Ie],J=ie>>>4;if(!ie)throw"invalid distance";v+=ie&15;var Be=ib[J];if(J>3){var B=k1[J];Be+=_h(t,v)&(1<<B)-1,v+=B}if(v>$)throw"unexpected EOF";a&&f(x+131072);for(var me=x+ht;x<me;x+=4)e[x]=e[x-Be],e[x+1]=e[x+1-Be],e[x+2]=e[x+2-Be],e[x+3]=e[x+3-Be];x=me}}i.l=S,i.p=v,i.b=x,S&&(p=1,i.m=k,i.d=M,i.n=A)}while(!p);return x==e.length?e:Ag(e,0,x)},ys=function(t,e,i){i<<=e&7;var n=e/8>>0;t[n]|=i,t[n+1]|=i>>>8},k0=function(t,e,i){i<<=e&7;var n=e/8>>0;t[n]|=i,t[n+1]|=i>>>8,t[n+2]|=i>>>16},bh=function(t,e){for(var i=[],n=0;n<t.length;++n)t[n]&&i.push({s:n,f:t[n]});var a=i.length,l=i.slice();if(!a)return[new No(0),0];if(a==1){var f=new No(i[0].s+1);return f[i[0].s]=1,[f,1]}i.sort(function(ce,Re){return ce.f-Re.f}),i.push({s:-1,f:25001});var p=i[0],v=i[1],x=0,S=1,M=2;for(i[0]={s:-1,f:p.f+v.f,l:p,r:v};S!=a-1;)p=i[i[x].f<i[M].f?x++:M++],v=i[x!=S&&i[x].f<i[M].f?x++:M++],i[S++]={s:-1,f:p.f+v.f,l:p,r:v};for(var k=l[0].s,n=1;n<a;++n)l[n].s>k&&(k=l[n].s);var A=new To(k+1),$=Ih(i[S-1],A,0);if($>e){var n=0,z=0,K=$-e,U=1<<K;for(l.sort(function(Re,ne){return A[ne.s]-A[Re.s]||Re.f-ne.f});n<a;++n){var Y=l[n].s;if(A[Y]>e)z+=U-(1<<$-A[Y]),A[Y]=e;else break}for(z>>>=K;z>0;){var ge=l[n].s;A[ge]<e?z-=1<<e-A[ge]++-1:++n}for(;n>=0&&z;--n){var xe=l[n].s;A[xe]==e&&(--A[xe],++z)}$=e}return[new No(A),$]},Ih=function(t,e,i){return t.s==-1?Math.max(Ih(t.l,e,i+1),Ih(t.r,e,i+1)):e[t.s]=i},yg=function(t){for(var e=t.length;e&&!t[--e];);for(var i=new To(++e),n=0,a=t[0],l=1,f=function(v){i[n++]=v},p=1;p<=e;++p)if(t[p]==a&&p!=e)++l;else{if(!a&&l>2){for(;l>138;l-=138)f(32754);l>2&&(f(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(f(a),--l;l>6;l-=6)f(8304);l>2&&(f(l-3<<5|8208),l=0)}for(;l--;)f(a);l=1,a=t[p]}return[i.subarray(0,n),e]},B0=function(t,e){for(var i=0,n=0;n<e.length;++n)i+=t[n]*e[n];return i},R1=function(t,e,i){var n=i.length,a=Nh(e+2);t[a]=n&255,t[a+1]=n>>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var l=0;l<n;++l)t[a+l+4]=i[l];return(a+4+n)*8},wg=function(t,e,i,n,a,l,f,p,v,x,S){ys(e,S++,i),++a[256];for(var M=bh(a,15),k=M[0],A=M[1],$=bh(l,15),z=$[0],K=$[1],U=yg(k),Y=U[0],ge=U[1],xe=yg(z),ce=xe[0],Re=xe[1],ne=new To(19),le=0;le<Y.length;++le)ne[Y[le]&31]++;for(var le=0;le<ce.length;++le)ne[ce[le]&31]++;for(var Ge=bh(ne,7),Ae=Ge[0],W=Ge[1],X=19;X>4&&!Ae[Ch[X-1]];--X);var G=x+5<<3,ae=B0(a,bl)+B0(l,U0)+f,be=B0(a,k)+B0(l,z)+f+14+3*X+B0(ne,Ae)+(2*ne[16]+3*ne[17]+7*ne[18]);if(G<=ae&&G<=be)return R1(e,S,t.subarray(v,v+x));var Be,ze,Ie,Ze;if(ys(e,S,1+(be<ae)),S+=2,be<ae){Be=es(k,A,0),ze=k,Ie=es(z,K,0),Ze=z;var je=es(Ae,W,0);ys(e,S,ge-257),ys(e,S+5,Re-1),ys(e,S+10,X-4),S+=14;for(var le=0;le<X;++le)ys(e,S+3*le,Ae[Ch[le]]);S+=3*X;for(var ht=[Y,ce],B=0;B<2;++B)for(var ie=ht[B],le=0;le<ie.length;++le){var J=ie[le]&31;ys(e,S,je[J]),S+=Ae[J],J>15&&(ys(e,S,ie[le]>>>5&127),S+=ie[le]>>>12)}}else Be=nb,ze=bl,Ie=ob,Ze=U0;for(var le=0;le<p;++le)if(n[le]>255){var J=n[le]>>>18&31;k0(e,S,Be[J+257]),S+=ze[J+257],J>7&&(ys(e,S,n[le]>>>23&31),S+=P1[J]);var me=n[le]&31;k0(e,S,Ie[me]),S+=Ze[me],me>3&&(k0(e,S,n[le]>>>5&8191),S+=k1[me])}else k0(e,S,Be[n[le]]),S+=ze[n[le]];return k0(e,S,Be[256]),S+ze[256]},lb=new F0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),cb=new No(0),ub=function(t,e,i,n,a,l){var f=t.length,p=new No(n+f+5*(1+Math.floor(f/7e3))+a),v=p.subarray(n,p.length-a),x=0;if(!e||f<8)for(var S=0;S<=f;S+=65535){var M=S+65535;M<f?x=R1(v,x,t.subarray(S,M)):(v[S]=l,x=R1(v,x,t.subarray(S,f)))}else{for(var k=lb[e-1],A=k>>>13,$=k&8191,z=(1<<i)-1,K=new To(32768),U=new To(z+1),Y=Math.ceil(i/3),ge=2*Y,xe=function(Ht){return(t[Ht]^t[Ht+1]<<Y^t[Ht+2]<<ge)&z},ce=new F0(25e3),Re=new To(288),ne=new To(32),le=0,Ge=0,S=0,Ae=0,W=0,X=0;S<f;++S){var G=xe(S),ae=S&32767,be=U[G];if(K[ae]=be,U[G]=ae,W<=S){var Be=f-S;if((le>7e3||Ae>24576)&&Be>423){x=wg(t,v,0,ce,Re,ne,Ge,Ae,X,S-X,x),Ae=le=Ge=0,X=S;for(var ze=0;ze<286;++ze)Re[ze]=0;for(var ze=0;ze<30;++ze)ne[ze]=0}var Ie=2,Ze=0,je=$,ht=ae-be&32767;if(Be>2&&G==xe(S-ht))for(var B=Math.min(A,Be)-1,ie=Math.min(32767,S),J=Math.min(258,Be);ht<=ie&&--je&&ae!=be;){if(t[S+Ie]==t[S+Ie-ht]){for(var me=0;me<J&&t[S+me]==t[S+me-ht];++me);if(me>Ie){if(Ie=me,Ze=ht,me>B)break;for(var ve=Math.min(ht,me-2),Me=0,ze=0;ze<ve;++ze){var Pe=S-ht+ze+32768&32767,De=K[Pe],st=Pe-De+32768&32767;st>Me&&(Me=st,be=Pe)}}}ae=be,be=K[ae],ht+=ae-be+32768&32767}if(Ze){ce[Ae++]=268435456|Sh[Ie]<<18|xg[Ze];var Ke=Sh[Ie]&31,vt=xg[Ze]&31;Ge+=P1[Ke]+k1[vt],++Re[257+Ke],++ne[vt],W=S+Ie,++le}else ce[Ae++]=t[S],++Re[t[S]]}}x=wg(t,v,l,ce,Re,ne,Ge,Ae,X,S-X,x),l||(x=R1(v,x,cb))}return Ag(p,0,n+Nh(x)+a)};var fb=function(){var t=1,e=0;return{p:function(i){for(var n=t,a=e,l=i.length,f=0;f!=l;){for(var p=Math.min(f+5552,l);f<p;++f)n+=i[f],a+=n;n%=65521,a%=65521}t=n,e=a},d:function(){return(t>>>8<<16|(e&255)<<8|e>>>8)+((t&255)<<23)*2}}},hb=function(t,e,i,n,a){return ub(t,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):12+e.mem,i,n,!a)};var db=function(t,e,i){for(;i;++e)t[e]=i,i>>>=8};var mb=function(t,e){var i=e.level,n=i==0?0:i<6?1:i==9?3:2;t[0]=120,t[1]=n<<6|(n?32-2*n:1)},pb=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function B1(t,e){e===void 0&&(e={});var i=fb();i.p(t);var n=hb(t,e,2,4);return mb(n,e),db(n,n.length-4,i.d()),n}function Ig(t,e){return sb((pb(t),t.subarray(2,-4)),e)}var ti=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Th(){ti.console&&typeof ti.console.log=="function"&&ti.console.log.apply(ti.console,arguments)}var wn={log:Th,warn:function(t){ti.console&&(typeof ti.console.warn=="function"?ti.console.warn.apply(ti.console,arguments):Th.call(null,arguments))},error:function(t){ti.console&&(typeof ti.console.error=="function"?ti.console.error.apply(ti.console,arguments):Th(t))}};function Mh(t,e,i){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Kl(n.response,e,i)},n.onerror=function(){wn.error("could not download file")},n.send()}function Ng(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function F1(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var j0,Ph,Kl=ti.saveAs||((typeof window>"u"?"undefined":gn(window))!=="object"||window!==ti?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,i){var n=ti.URL||ti.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?Ng(a.href)?Mh(t,e,i):F1(a,a.target="_blank"):F1(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){F1(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,i){if(e=e||t.name||"download",typeof t=="string")if(Ng(t))Mh(t,e,i);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){F1(n)})}else navigator.msSaveOrOpenBlob(function(a,l){return l===void 0?l={autoBom:!1}:gn(l)!=="object"&&(wn.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(t,i),e)}:function(t,e,i,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Mh(t,e,i);var a=t.type==="application/octet-stream",l=/constructor/i.test(ti.HTMLElement)||ti.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent);if((f||a&&l)&&(typeof FileReader>"u"?"undefined":gn(FileReader))==="object"){var p=new FileReader;p.onloadend=function(){var S=p.result;S=f?S:S.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=S:location=S,n=null},p.readAsDataURL(t)}else{var v=ti.URL||ti.webkitURL,x=v.createObjectURL(t);n?n.location=x:location.href=x,n=null,setTimeout(function(){v.revokeObjectURL(x)},4e4)}});function Gg(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var i=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(p){return[parseInt(p[1]),parseInt(p[2]),parseInt(p[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(p){return[parseInt(p[1],16),parseInt(p[2],16),parseInt(p[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(p){return[parseInt(p[1]+p[1],16),parseInt(p[2]+p[2],16),parseInt(p[3]+p[3],16)]}}],n=0;n<i.length;n++){var a=i[n].re,l=i[n].process,f=a.exec(t);f&&(e=l(f),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var p=this.r.toString(16),v=this.g.toString(16),x=this.b.toString(16);return p.length==1&&(p="0"+p),v.length==1&&(v="0"+v),x.length==1&&(x="0"+x),"#"+p+v+x}}function Lh(t,e){var i=t[0],n=t[1],a=t[2],l=t[3];i=go(i,n,a,l,e[0],7,-680876936),l=go(l,i,n,a,e[1],12,-389564586),a=go(a,l,i,n,e[2],17,606105819),n=go(n,a,l,i,e[3],22,-1044525330),i=go(i,n,a,l,e[4],7,-176418897),l=go(l,i,n,a,e[5],12,1200080426),a=go(a,l,i,n,e[6],17,-1473231341),n=go(n,a,l,i,e[7],22,-45705983),i=go(i,n,a,l,e[8],7,1770035416),l=go(l,i,n,a,e[9],12,-1958414417),a=go(a,l,i,n,e[10],17,-42063),n=go(n,a,l,i,e[11],22,-1990404162),i=go(i,n,a,l,e[12],7,1804603682),l=go(l,i,n,a,e[13],12,-40341101),a=go(a,l,i,n,e[14],17,-1502002290),i=vo(i,n=go(n,a,l,i,e[15],22,1236535329),a,l,e[1],5,-165796510),l=vo(l,i,n,a,e[6],9,-1069501632),a=vo(a,l,i,n,e[11],14,643717713),n=vo(n,a,l,i,e[0],20,-373897302),i=vo(i,n,a,l,e[5],5,-701558691),l=vo(l,i,n,a,e[10],9,38016083),a=vo(a,l,i,n,e[15],14,-660478335),n=vo(n,a,l,i,e[4],20,-405537848),i=vo(i,n,a,l,e[9],5,568446438),l=vo(l,i,n,a,e[14],9,-1019803690),a=vo(a,l,i,n,e[3],14,-187363961),n=vo(n,a,l,i,e[8],20,1163531501),i=vo(i,n,a,l,e[13],5,-1444681467),l=vo(l,i,n,a,e[2],9,-51403784),a=vo(a,l,i,n,e[7],14,1735328473),i=Eo(i,n=vo(n,a,l,i,e[12],20,-1926607734),a,l,e[5],4,-378558),l=Eo(l,i,n,a,e[8],11,-2022574463),a=Eo(a,l,i,n,e[11],16,1839030562),n=Eo(n,a,l,i,e[14],23,-35309556),i=Eo(i,n,a,l,e[1],4,-1530992060),l=Eo(l,i,n,a,e[4],11,1272893353),a=Eo(a,l,i,n,e[7],16,-155497632),n=Eo(n,a,l,i,e[10],23,-1094730640),i=Eo(i,n,a,l,e[13],4,681279174),l=Eo(l,i,n,a,e[0],11,-358537222),a=Eo(a,l,i,n,e[3],16,-722521979),n=Eo(n,a,l,i,e[6],23,76029189),i=Eo(i,n,a,l,e[9],4,-640364487),l=Eo(l,i,n,a,e[12],11,-421815835),a=Eo(a,l,i,n,e[15],16,530742520),i=xo(i,n=Eo(n,a,l,i,e[2],23,-995338651),a,l,e[0],6,-198630844),l=xo(l,i,n,a,e[7],10,1126891415),a=xo(a,l,i,n,e[14],15,-1416354905),n=xo(n,a,l,i,e[5],21,-57434055),i=xo(i,n,a,l,e[12],6,1700485571),l=xo(l,i,n,a,e[3],10,-1894986606),a=xo(a,l,i,n,e[10],15,-1051523),n=xo(n,a,l,i,e[1],21,-2054922799),i=xo(i,n,a,l,e[8],6,1873313359),l=xo(l,i,n,a,e[15],10,-30611744),a=xo(a,l,i,n,e[6],15,-1560198380),n=xo(n,a,l,i,e[13],21,1309151649),i=xo(i,n,a,l,e[4],6,-145523070),l=xo(l,i,n,a,e[11],10,-1120210379),a=xo(a,l,i,n,e[2],15,718787259),n=xo(n,a,l,i,e[9],21,-343485551),t[0]=Sl(i,t[0]),t[1]=Sl(n,t[1]),t[2]=Sl(a,t[2]),t[3]=Sl(l,t[3])}function X1(t,e,i,n,a,l){return e=Sl(Sl(e,t),Sl(n,l)),Sl(e<<a|e>>>32-a,i)}function go(t,e,i,n,a,l,f){return X1(e&i|~e&n,t,e,a,l,f)}function vo(t,e,i,n,a,l,f){return X1(e&n|i&~n,t,e,a,l,f)}function Eo(t,e,i,n,a,l,f){return X1(e^i^n,t,e,a,l,f)}function xo(t,e,i,n,a,l,f){return X1(i^(e|~n),t,e,a,l,f)}function Wg(t){var e,i=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Lh(n,gb(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(Lh(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*i,Lh(n,a),n}function gb(t){var e,i=[];for(e=0;e<64;e+=4)i[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return i}j0=ti.atob.bind(ti),Ph=ti.btoa.bind(ti);var Tg="0123456789abcdef".split("");function vb(t){for(var e="",i=0;i<4;i++)e+=Tg[t>>8*i+4&15]+Tg[t>>8*i&15];return e}function Eb(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function kh(t){return Wg(t).map(Eb).join("")}var xb=function(t){for(var e=0;e<t.length;e++)t[e]=vb(t[e]);return t.join("")}(Wg("hello"))!="5d41402abc4b2a76b9719d911017c592";function Sl(t,e){if(xb){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}return t+e&4294967295}function Bh(t,e){var i,n,a,l;if(t!==i){for(var f=(a=t,l=1+(256/t.length>>0),new Array(l+1).join(a)),p=[],v=0;v<256;v++)p[v]=v;var x=0;for(v=0;v<256;v++){var S=p[v];x=(x+S+f.charCodeAt(v))%256,p[v]=p[x],p[x]=S}i=t,n=p}else p=n;var M=e.length,k=0,A=0,$="";for(v=0;v<M;v++)A=(A+(S=p[k=(k+1)%256]))%256,p[k]=p[A],p[A]=S,f=p[(p[k]+p[A])%256],$+=String.fromCharCode(e.charCodeAt(v)^f);return $}var Mg={print:4,modify:8,copy:16,"annot-forms":32};function qc(t,e,i,n){this.v=1,this.r=2;var a=192;t.forEach(function(p){if(Mg.perm!==void 0)throw new Error("Invalid permission: "+p);a+=Mg[p]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var l=(e+this.padding).substr(0,32),f=(i+this.padding).substr(0,32);this.O=this.processOwnerPassword(l,f),this.P=-(1+(255^a)),this.encryptionKey=kh(l+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Bh(this.encryptionKey,this.padding)}function zc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",i=t.length,n=0;n<i;n++){var a=t.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?e+="#"+("0"+a.toString(16)).slice(-2):e+=t[n]}return e}function Lg(t){if(gn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(i,n,a){if(a=a||!1,typeof i!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(i)||(e[i]={});var l=Math.random().toString(35);return e[i][l]=[n,!!a],l},this.unsubscribe=function(i){for(var n in e)if(e[n][i])return delete e[n][i],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(i){if(e.hasOwnProperty(i)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var l in e[i]){var f=e[i][l];try{f[0].apply(t,n)}catch(p){ti.console&&wn.error("jsPDF PubSub Error",p.message,p)}f[1]&&a.push(l)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function W1(t){if(!(this instanceof W1))return new W1(t);var e="opacity,stroke-opacity".split(",");for(var i in t)t.hasOwnProperty(i)&&e.indexOf(i)>=0&&(this[i]=t[i]);this.id="",this.objectNumber=-1}function Yg(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Jl(t,e,i,n,a){if(!(this instanceof Jl))return new Jl(t,e,i,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=i,Yg.call(this,n,a)}function Hc(t,e,i,n,a){if(!(this instanceof Hc))return new Hc(t,e,i,n,a);this.boundingBox=t,this.xStep=e,this.yStep=i,this.stream="",this.cloneIndex=0,Yg.call(this,n,a)}function $t(t){var e,i=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],l=arguments[3],f=[],p=1,v=16,x="S",S=null;gn(t=t||{})==="object"&&(i=t.orientation,n=t.unit||n,a=t.format||a,l=t.compress||t.compressPdf||l,(S=t.encryption||null)!==null&&(S.userPassword=S.userPassword||"",S.ownerPassword=S.ownerPassword||"",S.userPermissions=S.userPermissions||[]),p=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(v=t.floatPrecision),x=t.defaultPathOperation||"S"),f=t.filters||(l===!0?["FlateEncode"]:f),n=n||"mm",i=(""+(i||"P")).toLowerCase();var M=t.putOnlyUsedFonts||!1,k={},A={internal:{},__private__:{}};A.__private__.PubSub=Lg;var $="1.3",z=A.__private__.getPdfVersion=function(){return $};A.__private__.setPdfVersion=function(y){$=y};var K={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};A.__private__.getPageFormats=function(){return K};var U=A.__private__.getPageFormat=function(y){return K[y]};a=a||"a4";var Y={COMPAT:"compat",ADVANCED:"advanced"},ge=Y.COMPAT;function xe(){this.saveGraphicsState(),oe(new Ft(at,0,0,-at,0,Rt()*at).toString()+" cm"),this.setFontSize(this.getFontSize()/at),x="n",ge=Y.ADVANCED}function ce(){this.restoreGraphicsState(),x="S",ge=Y.COMPAT}var Re=A.__private__.combineFontStyleAndFontWeight=function(y,R){if(y=="bold"&&R=="normal"||y=="bold"&&R==400||y=="normal"&&R=="italic"||y=="bold"&&R=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return R&&(y=R==400||R==="normal"?y==="italic"?"italic":"normal":R!=700&&R!=="bold"||y!=="normal"?(R==700?"bold":R)+""+y:"bold"),y};A.advancedAPI=function(y){var R=ge===Y.COMPAT;return R&&xe.call(this),typeof y!="function"||(y(this),R&&ce.call(this)),this},A.compatAPI=function(y){var R=ge===Y.ADVANCED;return R&&ce.call(this),typeof y!="function"||(y(this),R&&xe.call(this)),this},A.isAdvancedAPI=function(){return ge===Y.ADVANCED};var ne,le=function(y){if(ge!==Y.ADVANCED)throw new Error(y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Ge=A.roundToPrecision=A.__private__.roundToPrecision=function(y,R){var te=e||R;if(isNaN(y)||isNaN(te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return y.toFixed(te).replace(/0+$/,"")};ne=A.hpf=A.__private__.hpf=typeof v=="number"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return Ge(y,v)}:v==="smart"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return Ge(y,y>-1&&y<1?16:5)}:function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return Ge(y,16)};var Ae=A.f2=A.__private__.f2=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f2");return Ge(y,2)},W=A.__private__.f3=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f3");return Ge(y,3)},X=A.scale=A.__private__.scale=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.scale");return ge===Y.COMPAT?y*at:ge===Y.ADVANCED?y:void 0},G=function(y){return ge===Y.COMPAT?Rt()-y:ge===Y.ADVANCED?y:void 0},ae=function(y){return X(G(y))};A.__private__.setPrecision=A.setPrecision=function(y){typeof parseInt(y,10)=="number"&&(e=parseInt(y,10))};var be,Be="00000000000000000000000000000000",ze=A.__private__.getFileId=function(){return Be},Ie=A.__private__.setFileId=function(y){return Be=y!==void 0&&/^[a-fA-F0-9]{32}$/.test(y)?y.toUpperCase():Be.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),S!==null&&(Mr=new qc(S.userPermissions,S.userPassword,S.ownerPassword,Be)),Be};A.setFileId=function(y){return Ie(y),this},A.getFileId=function(){return ze()};var Ze=A.__private__.convertDateToPDFDate=function(y){var R=y.getTimezoneOffset(),te=R<0?"+":"-",ue=Math.floor(Math.abs(R/60)),Ce=Math.abs(R%60),He=[te,J(ue),"'",J(Ce),"'"].join("");return["D:",y.getFullYear(),J(y.getMonth()+1),J(y.getDate()),J(y.getHours()),J(y.getMinutes()),J(y.getSeconds()),He].join("")},je=A.__private__.convertPDFDateToDate=function(y){var R=parseInt(y.substr(2,4),10),te=parseInt(y.substr(6,2),10)-1,ue=parseInt(y.substr(8,2),10),Ce=parseInt(y.substr(10,2),10),He=parseInt(y.substr(12,2),10),rt=parseInt(y.substr(14,2),10);return new Date(R,te,ue,Ce,He,rt,0)},ht=A.__private__.setCreationDate=function(y){var R;if(y===void 0&&(y=new Date),y instanceof Date)R=Ze(y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");R=y}return be=R},B=A.__private__.getCreationDate=function(y){var R=be;return y==="jsDate"&&(R=je(be)),R};A.setCreationDate=function(y){return ht(y),this},A.getCreationDate=function(y){return B(y)};var ie,J=A.__private__.padd2=function(y){return("0"+parseInt(y)).slice(-2)},me=A.__private__.padd2Hex=function(y){return("00"+(y=y.toString())).substr(y.length)},ve=0,Me=[],Pe=[],De=0,st=[],Ke=[],vt=!1,pt=Pe,Ht=function(){ve=0,De=0,Pe=[],Me=[],st=[],lr=lt(),Ho=lt()};A.__private__.setCustomOutputDestination=function(y){vt=!0,pt=y};var Ue=function(y){vt||(pt=y)};A.__private__.resetCustomOutputDestination=function(){vt=!1,pt=Pe};var oe=A.__private__.out=function(y){return y=y.toString(),De+=y.length+1,pt.push(y),pt},Et=A.__private__.write=function(y){return oe(arguments.length===1?y.toString():Array.prototype.join.call(arguments," "))},Lt=A.__private__.getArrayBuffer=function(y){for(var R=y.length,te=new ArrayBuffer(R),ue=new Uint8Array(te);R--;)ue[R]=y.charCodeAt(R);return te},Oe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];A.__private__.getStandardFonts=function(){return Oe};var ut=t.fontSize||16;A.__private__.setFontSize=A.setFontSize=function(y){return ut=ge===Y.ADVANCED?y/at:y,this};var bt,dt=A.__private__.getFontSize=A.getFontSize=function(){return ge===Y.COMPAT?ut:ut*at},Bt=t.R2L||!1;A.__private__.setR2L=A.setR2L=function(y){return Bt=y,this},A.__private__.getR2L=A.getR2L=function(){return Bt};var Vt,si=A.__private__.setZoomMode=function(y){var R=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(y))bt=y;else if(isNaN(y)){if(R.indexOf(y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+y+'" is not recognized.');bt=y}else bt=parseInt(y,10)};A.__private__.getZoomMode=function(){return bt};var ri,ei=A.__private__.setPageMode=function(y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+y+'" is not recognized.');Vt=y};A.__private__.getPageMode=function(){return Vt};var Zi=A.__private__.setLayoutMode=function(y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+y+'" is not recognized.');ri=y};A.__private__.getLayoutMode=function(){return ri},A.__private__.setDisplayMode=A.setDisplayMode=function(y,R,te){return si(y),Zi(R),ei(te),this};var Yt={title:"",subject:"",author:"",keywords:"",creator:""};A.__private__.getDocumentProperty=function(y){if(Object.keys(Yt).indexOf(y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Yt[y]},A.__private__.getDocumentProperties=function(){return Yt},A.__private__.setDocumentProperties=A.setProperties=A.setDocumentProperties=function(y){for(var R in Yt)Yt.hasOwnProperty(R)&&y[R]&&(Yt[R]=y[R]);return this},A.__private__.setDocumentProperty=function(y,R){if(Object.keys(Yt).indexOf(y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Yt[y]=R};var vi,at,ot,bi,Ei,Kt={},en={},Mo=[],Vi={},xi={},vn={},Lo={},ra=null,Oi=0,ii=[],wi=new Lg(A),Do=t.hotfixes||[],Kn={},sr={},oa=[],Ft=function y(R,te,ue,Ce,He,rt){if(!(this instanceof y))return new y(R,te,ue,Ce,He,rt);isNaN(R)&&(R=1),isNaN(te)&&(te=0),isNaN(ue)&&(ue=0),isNaN(Ce)&&(Ce=1),isNaN(He)&&(He=0),isNaN(rt)&&(rt=0),this._matrix=[R,te,ue,Ce,He,rt]};Object.defineProperty(Ft.prototype,"sx",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(Ft.prototype,"shy",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(Ft.prototype,"shx",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(Ft.prototype,"sy",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(Ft.prototype,"tx",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(Ft.prototype,"ty",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(Ft.prototype,"a",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(Ft.prototype,"b",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(Ft.prototype,"c",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(Ft.prototype,"d",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(Ft.prototype,"e",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(Ft.prototype,"f",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(Ft.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ft.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ft.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ft.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ft.prototype.join=function(y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(ne).join(y)},Ft.prototype.multiply=function(y){var R=y.sx*this.sx+y.shy*this.shx,te=y.sx*this.shy+y.shy*this.sy,ue=y.shx*this.sx+y.sy*this.shx,Ce=y.shx*this.shy+y.sy*this.sy,He=y.tx*this.sx+y.ty*this.shx+this.tx,rt=y.tx*this.shy+y.ty*this.sy+this.ty;return new Ft(R,te,ue,Ce,He,rt)},Ft.prototype.decompose=function(){var y=this.sx,R=this.shy,te=this.shx,ue=this.sy,Ce=this.tx,He=this.ty,rt=Math.sqrt(y*y+R*R),Ct=(y/=rt)*te+(R/=rt)*ue;te-=y*Ct,ue-=R*Ct;var jt=Math.sqrt(te*te+ue*ue);return Ct/=jt,y*(ue/=jt)<R*(te/=jt)&&(y=-y,R=-R,Ct=-Ct,rt=-rt),{scale:new Ft(rt,0,0,jt,0,0),translate:new Ft(1,0,0,1,Ce,He),rotate:new Ft(y,R,-R,y,0,0),skew:new Ft(1,0,Ct,1,0,0)}},Ft.prototype.toString=function(y){return this.join(" ")},Ft.prototype.inversed=function(){var y=this.sx,R=this.shy,te=this.shx,ue=this.sy,Ce=this.tx,He=this.ty,rt=1/(y*ue-R*te),Ct=ue*rt,jt=-R*rt,ai=-te*rt,ui=y*rt;return new Ft(Ct,jt,ai,ui,-Ct*Ce-ai*He,-jt*Ce-ui*He)},Ft.prototype.applyToPoint=function(y){var R=y.x*this.sx+y.y*this.shx+this.tx,te=y.x*this.shy+y.y*this.sy+this.ty;return new Ts(R,te)},Ft.prototype.applyToRectangle=function(y){var R=this.applyToPoint(y),te=this.applyToPoint(new Ts(y.x+y.w,y.y+y.h));return new Ms(R.x,R.y,te.x-R.x,te.y-R.y)},Ft.prototype.clone=function(){var y=this.sx,R=this.shy,te=this.shx,ue=this.sy,Ce=this.tx,He=this.ty;return new Ft(y,R,te,ue,Ce,He)},A.Matrix=Ft;var yo=A.matrixMult=function(y,R){return R.multiply(y)},Jn=new Ft(1,0,0,1,0,0);A.unitMatrix=A.identityMatrix=Jn;var $n=function(y,R){if(!xi[y]){var te=(R instanceof Jl?"Sh":"P")+(Object.keys(Vi).length+1).toString(10);R.id=te,xi[y]=te,Vi[te]=R,wi.publish("addPattern",R)}};A.ShadingPattern=Jl,A.TilingPattern=Hc,A.addShadingPattern=function(y,R){return le("addShadingPattern()"),$n(y,R),this},A.beginTilingPattern=function(y){le("beginTilingPattern()"),Ls(y.boundingBox[0],y.boundingBox[1],y.boundingBox[2]-y.boundingBox[0],y.boundingBox[3]-y.boundingBox[1],y.matrix)},A.endTilingPattern=function(y,R){le("endTilingPattern()"),R.stream=Ke[ie].join(`
`),$n(y,R),wi.publish("endTilingPattern",R),oa.pop().restore()};var _n=A.__private__.newObject=function(){var y=lt();return gr(y,!0),y},lt=A.__private__.newObjectDeferred=function(){return ve++,Me[ve]=function(){return De},ve},gr=function(y,R){return R=typeof R=="boolean"&&R,Me[y]=De,R&&oe(y+" 0 obj"),y},Ua=A.__private__.newAdditionalObject=function(){var y={objId:lt(),content:""};return st.push(y),y},lr=lt(),Ho=lt(),Go=A.__private__.decodeColorString=function(y){var R=y.split(" ");if(R.length!==2||R[1]!=="g"&&R[1]!=="G")R.length===5&&(R[4]==="k"||R[4]==="K")&&(R=[(1-R[0])*(1-R[3]),(1-R[1])*(1-R[3]),(1-R[2])*(1-R[3]),"r"]);else{var te=parseFloat(R[0]);R=[te,te,te,"r"]}for(var ue="#",Ce=0;Ce<3;Ce++)ue+=("0"+Math.floor(255*parseFloat(R[Ce])).toString(16)).slice(-2);return ue},ro=A.__private__.encodeColorString=function(y){var R;typeof y=="string"&&(y={ch1:y});var te=y.ch1,ue=y.ch2,Ce=y.ch3,He=y.ch4,rt=y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof te=="string"&&te.charAt(0)!=="#"){var Ct=new Gg(te);if(Ct.ok)te=Ct.toHex();else if(!/^\d*\.?\d*$/.test(te))throw new Error('Invalid color "'+te+'" passed to jsPDF.encodeColorString.')}if(typeof te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(te)&&(te="#"+te[1]+te[1]+te[2]+te[2]+te[3]+te[3]),typeof te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(te)){var jt=parseInt(te.substr(1),16);te=jt>>16&255,ue=jt>>8&255,Ce=255&jt}if(ue===void 0||He===void 0&&te===ue&&ue===Ce)if(typeof te=="string")R=te+" "+rt[0];else switch(y.precision){case 2:R=Ae(te/255)+" "+rt[0];break;case 3:default:R=W(te/255)+" "+rt[0]}else if(He===void 0||gn(He)==="object"){if(He&&!isNaN(He.a)&&He.a===0)return R=["1.","1.","1.",rt[1]].join(" ");if(typeof te=="string")R=[te,ue,Ce,rt[1]].join(" ");else switch(y.precision){case 2:R=[Ae(te/255),Ae(ue/255),Ae(Ce/255),rt[1]].join(" ");break;default:case 3:R=[W(te/255),W(ue/255),W(Ce/255),rt[1]].join(" ")}}else if(typeof te=="string")R=[te,ue,Ce,He,rt[2]].join(" ");else switch(y.precision){case 2:R=[Ae(te),Ae(ue),Ae(Ce),Ae(He),rt[2]].join(" ");break;case 3:default:R=[W(te),W(ue),W(Ce),W(He),rt[2]].join(" ")}return R},Wo=A.__private__.getFilters=function(){return f},Oo=A.__private__.putStream=function(y){var R=(y=y||{}).data||"",te=y.filters||Wo(),ue=y.alreadyAppliedFilters||[],Ce=y.addLength1||!1,He=R.length,rt=y.objectId,Ct=function(Lr){return Lr};if(S!==null&&rt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");S!==null&&(Ct=Mr.encryptor(rt,0));var jt={};te===!0&&(te=["FlateEncode"]);var ai=y.additionalKeyValues||[],ui=(jt=$t.API.processDataByFilters!==void 0?$t.API.processDataByFilters(R,te):{data:R,reverseChain:[]}).reverseChain+(Array.isArray(ue)?ue.join(" "):ue.toString());if(jt.data.length!==0&&(ai.push({key:"Length",value:jt.data.length}),Ce===!0&&ai.push({key:"Length1",value:He})),ui.length!=0)if(ui.split("/").length-1==1)ai.push({key:"Filter",value:ui});else{ai.push({key:"Filter",value:"["+ui+"]"});for(var di=0;di<ai.length;di+=1)if(ai[di].key==="DecodeParms"){for(var En=[],Bn=0;Bn<jt.reverseChain.split("/").length-1;Bn+=1)En.push("null");En.push(ai[di].value),ai[di].value="["+En.join(" ")+"]"}}oe("<<");for(var Cn=0;Cn<ai.length;Cn++)oe("/"+ai[Cn].key+" "+ai[Cn].value);oe(">>"),jt.data.length!==0&&(oe("stream"),oe(Ct(jt.data)),oe("endstream"))},aa=A.__private__.putPage=function(y){var R=y.number,te=y.data,ue=y.objId,Ce=y.contentsObjId;gr(ue,!0),oe("<</Type /Page"),oe("/Parent "+y.rootDictionaryObjId+" 0 R"),oe("/Resources "+y.resourceDictionaryObjId+" 0 R"),oe("/MediaBox ["+parseFloat(ne(y.mediaBox.bottomLeftX))+" "+parseFloat(ne(y.mediaBox.bottomLeftY))+" "+ne(y.mediaBox.topRightX)+" "+ne(y.mediaBox.topRightY)+"]"),y.cropBox!==null&&oe("/CropBox ["+ne(y.cropBox.bottomLeftX)+" "+ne(y.cropBox.bottomLeftY)+" "+ne(y.cropBox.topRightX)+" "+ne(y.cropBox.topRightY)+"]"),y.bleedBox!==null&&oe("/BleedBox ["+ne(y.bleedBox.bottomLeftX)+" "+ne(y.bleedBox.bottomLeftY)+" "+ne(y.bleedBox.topRightX)+" "+ne(y.bleedBox.topRightY)+"]"),y.trimBox!==null&&oe("/TrimBox ["+ne(y.trimBox.bottomLeftX)+" "+ne(y.trimBox.bottomLeftY)+" "+ne(y.trimBox.topRightX)+" "+ne(y.trimBox.topRightY)+"]"),y.artBox!==null&&oe("/ArtBox ["+ne(y.artBox.bottomLeftX)+" "+ne(y.artBox.bottomLeftY)+" "+ne(y.artBox.topRightX)+" "+ne(y.artBox.topRightY)+"]"),typeof y.userUnit=="number"&&y.userUnit!==1&&oe("/UserUnit "+y.userUnit),wi.publish("putPage",{objId:ue,pageContext:ii[R],pageNumber:R,page:te}),oe("/Contents "+Ce+" 0 R"),oe(">>"),oe("endobj");var He=te.join(`
`);return ge===Y.ADVANCED&&(He+=`
Q`),gr(Ce,!0),Oo({data:He,filters:Wo(),objectId:Ce}),oe("endobj"),ue},os=A.__private__.putPages=function(){var y,R,te=[];for(y=1;y<=Oi;y++)ii[y].objId=lt(),ii[y].contentsObjId=lt();for(y=1;y<=Oi;y++)te.push(aa({number:y,data:Ke[y],objId:ii[y].objId,contentsObjId:ii[y].contentsObjId,mediaBox:ii[y].mediaBox,cropBox:ii[y].cropBox,bleedBox:ii[y].bleedBox,trimBox:ii[y].trimBox,artBox:ii[y].artBox,userUnit:ii[y].userUnit,rootDictionaryObjId:lr,resourceDictionaryObjId:Ho}));gr(lr,!0),oe("<</Type /Pages");var ue="/Kids [";for(R=0;R<Oi;R++)ue+=te[R]+" 0 R ";oe(ue+"]"),oe("/Count "+Oi),oe(">>"),oe("endobj"),wi.publish("postPutPages")},bs=function(y){wi.publish("putFont",{font:y,out:oe,newObject:_n,putStream:Oo}),y.isAlreadyPutted!==!0&&(y.objectNumber=_n(),oe("<<"),oe("/Type /Font"),oe("/BaseFont /"+zc(y.postScriptName)),oe("/Subtype /Type1"),typeof y.encoding=="string"&&oe("/Encoding /"+y.encoding),oe("/FirstChar 32"),oe("/LastChar 255"),oe(">>"),oe("endobj"))},wo=function(){for(var y in Kt)Kt.hasOwnProperty(y)&&(M===!1||M===!0&&k.hasOwnProperty(y))&&bs(Kt[y])},as=function(y){y.objectNumber=_n();var R=[];R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Form"}),R.push({key:"BBox",value:"["+[ne(y.x),ne(y.y),ne(y.x+y.width),ne(y.y+y.height)].join(" ")+"]"}),R.push({key:"Matrix",value:"["+y.matrix.toString()+"]"});var te=y.pages[1].join(`
`);Oo({data:te,additionalKeyValues:R,objectId:y.objectNumber}),oe("endobj")},_o=function(){for(var y in Kn)Kn.hasOwnProperty(y)&&as(Kn[y])},Cs=function(y,R){var te,ue=[],Ce=1/(R-1);for(te=0;te<1;te+=Ce)ue.push(te);if(ue.push(1),y[0].offset!=0){var He={offset:0,color:y[0].color};y.unshift(He)}if(y[y.length-1].offset!=1){var rt={offset:1,color:y[y.length-1].color};y.push(rt)}for(var Ct="",jt=0,ai=0;ai<ue.length;ai++){for(te=ue[ai];te>y[jt+1].offset;)jt++;var ui=y[jt].offset,di=(te-ui)/(y[jt+1].offset-ui),En=y[jt].color,Bn=y[jt+1].color;Ct+=me(Math.round((1-di)*En[0]+di*Bn[0]).toString(16))+me(Math.round((1-di)*En[1]+di*Bn[1]).toString(16))+me(Math.round((1-di)*En[2]+di*Bn[2]).toString(16))}return Ct.trim()},tt=function(y,R){R||(R=21);var te=_n(),ue=Cs(y.colors,R),Ce=[];Ce.push({key:"FunctionType",value:"0"}),Ce.push({key:"Domain",value:"[0.0 1.0]"}),Ce.push({key:"Size",value:"["+R+"]"}),Ce.push({key:"BitsPerSample",value:"8"}),Ce.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ce.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Oo({data:ue,additionalKeyValues:Ce,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:te}),oe("endobj"),y.objectNumber=_n(),oe("<< /ShadingType "+y.type),oe("/ColorSpace /DeviceRGB");var He="/Coords ["+ne(parseFloat(y.coords[0]))+" "+ne(parseFloat(y.coords[1]))+" ";y.type===2?He+=ne(parseFloat(y.coords[2]))+" "+ne(parseFloat(y.coords[3])):He+=ne(parseFloat(y.coords[2]))+" "+ne(parseFloat(y.coords[3]))+" "+ne(parseFloat(y.coords[4]))+" "+ne(parseFloat(y.coords[5])),oe(He+="]"),y.matrix&&oe("/Matrix ["+y.matrix.toString()+"]"),oe("/Function "+te+" 0 R"),oe("/Extend [true true]"),oe(">>"),oe("endobj")},u0=function(y,R){var te=lt(),ue=_n();R.push({resourcesOid:te,objectOid:ue}),y.objectNumber=ue;var Ce=[];Ce.push({key:"Type",value:"/Pattern"}),Ce.push({key:"PatternType",value:"1"}),Ce.push({key:"PaintType",value:"1"}),Ce.push({key:"TilingType",value:"1"}),Ce.push({key:"BBox",value:"["+y.boundingBox.map(ne).join(" ")+"]"}),Ce.push({key:"XStep",value:ne(y.xStep)}),Ce.push({key:"YStep",value:ne(y.yStep)}),Ce.push({key:"Resources",value:te+" 0 R"}),y.matrix&&Ce.push({key:"Matrix",value:"["+y.matrix.toString()+"]"}),Oo({data:y.stream,additionalKeyValues:Ce,objectId:y.objectNumber}),oe("endobj")},cn=function(y){var R;for(R in Vi)Vi.hasOwnProperty(R)&&(Vi[R]instanceof Jl?tt(Vi[R]):Vi[R]instanceof Hc&&u0(Vi[R],y))},ba=function(y){for(var R in y.objectNumber=_n(),oe("<<"),y)switch(R){case"opacity":oe("/ca "+Ae(y[R]));break;case"stroke-opacity":oe("/CA "+Ae(y[R]))}oe(">>"),oe("endobj")},f0=function(){var y;for(y in vn)vn.hasOwnProperty(y)&&ba(vn[y])},Ci=function(){for(var y in oe("/XObject <<"),Kn)Kn.hasOwnProperty(y)&&Kn[y].objectNumber>=0&&oe("/"+y+" "+Kn[y].objectNumber+" 0 R");wi.publish("putXobjectDict"),oe(">>")},Li=function(){Mr.oid=_n(),oe("<<"),oe("/Filter /Standard"),oe("/V "+Mr.v),oe("/R "+Mr.r),oe("/U <"+Mr.toHexString(Mr.U)+">"),oe("/O <"+Mr.toHexString(Mr.O)+">"),oe("/P "+Mr.P),oe(">>"),oe("endobj")},mi=function(){for(var y in oe("/Font <<"),Kt)Kt.hasOwnProperty(y)&&(M===!1||M===!0&&k.hasOwnProperty(y))&&oe("/"+y+" "+Kt[y].objectNumber+" 0 R");oe(">>")},Rl=function(){if(Object.keys(Vi).length>0){for(var y in oe("/Shading <<"),Vi)Vi.hasOwnProperty(y)&&Vi[y]instanceof Jl&&Vi[y].objectNumber>=0&&oe("/"+y+" "+Vi[y].objectNumber+" 0 R");wi.publish("putShadingPatternDict"),oe(">>")}},ja=function(y){if(Object.keys(Vi).length>0){for(var R in oe("/Pattern <<"),Vi)Vi.hasOwnProperty(R)&&Vi[R]instanceof A.TilingPattern&&Vi[R].objectNumber>=0&&Vi[R].objectNumber<y&&oe("/"+R+" "+Vi[R].objectNumber+" 0 R");wi.publish("putTilingPatternDict"),oe(">>")}},Pl=function(){if(Object.keys(vn).length>0){var y;for(y in oe("/ExtGState <<"),vn)vn.hasOwnProperty(y)&&vn[y].objectNumber>=0&&oe("/"+y+" "+vn[y].objectNumber+" 0 R");wi.publish("putGStateDict"),oe(">>")}},pi=function(y){gr(y.resourcesOid,!0),oe("<<"),oe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),mi(),Rl(),ja(y.objectOid),Pl(),Ci(),oe(">>"),oe("endobj")},Yo=function(){var y=[];wo(),f0(),_o(),cn(y),wi.publish("putResources"),y.forEach(pi),pi({resourcesOid:Ho,objectOid:Number.MAX_SAFE_INTEGER}),wi.publish("postPutResources")},ac=function(){wi.publish("putAdditionalObjects");for(var y=0;y<st.length;y++){var R=st[y];gr(R.objId,!0),oe(R.content),oe("endobj")}wi.publish("postPutAdditionalObjects")},bn=function(y){en[y.fontName]=en[y.fontName]||{},en[y.fontName][y.fontStyle]=y.id},Va=function(y,R,te,ue,Ce){var He={id:"F"+(Object.keys(Kt).length+1).toString(10),postScriptName:y,fontName:R,fontStyle:te,encoding:ue,isStandardFont:Ce||!1,metadata:{}};return wi.publish("addFont",{font:He,instance:this}),Kt[He.id]=He,bn(He),He.id},h0=function(y){for(var R=0,te=Oe.length;R<te;R++){var ue=Va.call(this,y[R][0],y[R][1],y[R][2],Oe[R][3],!0);M===!1&&(k[ue]=!0);var Ce=y[R][0].split("-");bn({id:ue,fontName:Ce[0],fontStyle:Ce[1]||""})}wi.publish("addFonts",{fonts:Kt,dictionary:en})},to=function(y){return y.foo=function(){try{return y.apply(this,arguments)}catch(ue){var R=ue.stack||"";~R.indexOf(" at ")&&(R=R.split(" at ")[1]);var te="Error in function "+R.split(`
`)[0].split("<")[0]+": "+ue.message;if(!ti.console)throw new Error(te);ti.console.error(te,ue),ti.alert&&alert(te)}},y.foo.bar=y,y.foo},qi=function(y,R){var te,ue,Ce,He,rt,Ct,jt,ai,ui;if(Ce=(R=R||{}).sourceEncoding||"Unicode",rt=R.outputEncoding,(R.autoencode||rt)&&Kt[vi].metadata&&Kt[vi].metadata[Ce]&&Kt[vi].metadata[Ce].encoding&&(He=Kt[vi].metadata[Ce].encoding,!rt&&Kt[vi].encoding&&(rt=Kt[vi].encoding),!rt&&He.codePages&&(rt=He.codePages[0]),typeof rt=="string"&&(rt=He[rt]),rt)){for(jt=!1,Ct=[],te=0,ue=y.length;te<ue;te++)(ai=rt[y.charCodeAt(te)])?Ct.push(String.fromCharCode(ai)):Ct.push(y[te]),Ct[te].charCodeAt(0)>>8&&(jt=!0);y=Ct.join("")}for(te=y.length;jt===void 0&&te!==0;)y.charCodeAt(te-1)>>8&&(jt=!0),te--;if(!jt)return y;for(Ct=R.noBOM?[]:[254,255],te=0,ue=y.length;te<ue;te++){if((ui=(ai=y.charCodeAt(te))>>8)>>8)throw new Error("Character at position "+te+" of string '"+y+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ct.push(ui),Ct.push(ai-(ui<<8))}return String.fromCharCode.apply(void 0,Ct)},Ki=A.__private__.pdfEscape=A.pdfEscape=function(y,R){return qi(y,R).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Se=A.__private__.beginPage=function(y){Ke[++Oi]=[],ii[Oi]={objId:0,contentsObjId:0,userUnit:Number(p),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(y[0]),topRightY:Number(y[1])}},er(Oi),Ue(Ke[ie])},Z=function(y,R){var te,ue,Ce;switch(i=R||i,typeof y=="string"&&(te=U(y.toLowerCase()),Array.isArray(te)&&(ue=te[0],Ce=te[1])),Array.isArray(y)&&(ue=y[0]*at,Ce=y[1]*at),isNaN(ue)&&(ue=a[0],Ce=a[1]),(ue>14400||Ce>14400)&&(wn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ue=Math.min(14400,ue),Ce=Math.min(14400,Ce)),a=[ue,Ce],i.substr(0,1)){case"l":Ce>ue&&(a=[Ce,ue]);break;case"p":ue>Ce&&(a=[Ce,ue])}Se(a),Bl(vr),oe(Er),Ns!==0&&oe(Ns+" J"),jl!==0&&oe(jl+" j"),wi.publish("addPage",{pageNumber:Oi})},Ot=function(y){y>0&&y<=Oi&&(Ke.splice(y,1),ii.splice(y,1),Oi--,ie>Oi&&(ie=Oi),this.setPage(ie))},er=function(y){y>0&&y<=Oi&&(ie=y)},oo=A.__private__.getNumberOfPages=A.getNumberOfPages=function(){return Ke.length-1},sc=function(y,R,te){var ue,Ce=void 0;return te=te||{},y=y!==void 0?y:Kt[vi].fontName,R=R!==void 0?R:Kt[vi].fontStyle,ue=y.toLowerCase(),en[ue]!==void 0&&en[ue][R]!==void 0?Ce=en[ue][R]:en[y]!==void 0&&en[y][R]!==void 0?Ce=en[y][R]:te.disableWarning===!1&&wn.warn("Unable to look up font label for font '"+y+"', '"+R+"'. Refer to getFontList() for available fonts."),Ce||te.noFallback||(Ce=en.times[R])==null&&(Ce=en.times.normal),Ce},kl=A.__private__.putInfo=function(){var y=_n(),R=function(ue){return ue};for(var te in S!==null&&(R=Mr.encryptor(y,0)),oe("<<"),oe("/Producer ("+Ki(R("jsPDF "+$t.version))+")"),Yt)Yt.hasOwnProperty(te)&&Yt[te]&&oe("/"+te.substr(0,1).toUpperCase()+te.substr(1)+" ("+Ki(R(Yt[te]))+")");oe("/CreationDate ("+Ki(R(be))+")"),oe(">>"),oe("endobj")},io=A.__private__.putCatalog=function(y){var R=(y=y||{}).rootDictionaryObjId||lr;switch(_n(),oe("<<"),oe("/Type /Catalog"),oe("/Pages "+R+" 0 R"),bt||(bt="fullwidth"),bt){case"fullwidth":oe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":oe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":oe("/OpenAction [3 0 R /Fit]");break;case"original":oe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var te=""+bt;te.substr(te.length-1)==="%"&&(bt=parseInt(bt)/100),typeof bt=="number"&&oe("/OpenAction [3 0 R /XYZ null null "+Ae(bt)+"]")}switch(ri||(ri="continuous"),ri){case"continuous":oe("/PageLayout /OneColumn");break;case"single":oe("/PageLayout /SinglePage");break;case"two":case"twoleft":oe("/PageLayout /TwoColumnLeft");break;case"tworight":oe("/PageLayout /TwoColumnRight")}Vt&&oe("/PageMode /"+Vt),wi.publish("putCatalog"),oe(">>"),oe("endobj")},Ut=A.__private__.putTrailer=function(){oe("trailer"),oe("<<"),oe("/Size "+(ve+1)),oe("/Root "+ve+" 0 R"),oe("/Info "+(ve-1)+" 0 R"),S!==null&&oe("/Encrypt "+Mr.oid+" 0 R"),oe("/ID [ <"+Be+"> <"+Be+"> ]"),oe(">>")},lc=A.__private__.putHeader=function(){oe("%PDF-"+$),oe("%\xBA\xDF\xAC\xE0")},cc=A.__private__.putXRef=function(){var y="0000000000";oe("xref"),oe("0 "+(ve+1)),oe("0000000000 65535 f ");for(var R=1;R<=ve;R++)typeof Me[R]=="function"?oe((y+Me[R]()).slice(-10)+" 00000 n "):Me[R]!==void 0?oe((y+Me[R]).slice(-10)+" 00000 n "):oe("0000000000 00000 n ")},Ca=A.__private__.buildDocument=function(){Ht(),Ue(Pe),wi.publish("buildDocument"),lc(),os(),ac(),Yo(),S!==null&&Li(),kl(),io();var y=De;return cc(),Ut(),oe("startxref"),oe(""+y),oe("%%EOF"),Ue(Ke[ie]),Pe.join(`
`)},qa=A.__private__.getBlob=function(y){return new Blob([Lt(y)],{type:"application/pdf"})},Sa=A.output=A.__private__.output=to(function(y,R){switch(typeof(R=R||{})=="string"?R={filename:R}:R.filename=R.filename||"generated.pdf",y){case void 0:return Ca();case"save":A.save(R.filename);break;case"arraybuffer":return Lt(Ca());case"blob":return qa(Ca());case"bloburi":case"bloburl":if(ti.URL!==void 0&&typeof ti.URL.createObjectURL=="function")return ti.URL&&ti.URL.createObjectURL(qa(Ca()))||void 0;wn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var te="",ue=Ca();try{te=Ph(ue)}catch{te=Ph(unescape(encodeURIComponent(ue)))}return"data:application/pdf;filename="+R.filename+";base64,"+te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ti)==="[object Window]"){var Ce="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",He=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';R.pdfObjectUrl&&(Ce=R.pdfObjectUrl,He="");var rt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ce+'"'+He+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(R)+");<\/script></body></html>",Ct=ti.open();return Ct!==null&&Ct.document.write(rt),Ct}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ti)==="[object Window]"){var jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(R.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+R.filename+'" width="500px" height="400px" /></body></html>',ai=ti.open();if(ai!==null){ai.document.write(jt);var ui=this;ai.document.documentElement.querySelector("#pdfViewer").onload=function(){ai.document.title=R.filename,ai.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ui.output("bloburl"))}}return ai}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ti)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var di='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",R)+'"></iframe></body></html>',En=ti.open();if(En!==null&&(En.document.write(di),En.document.title=R.filename),En||typeof safari>"u")return En;break;case"datauri":case"dataurl":return ti.document.location.href=this.output("datauristring",R);default:return null}}),Ss=function(y){return Array.isArray(Do)===!0&&Do.indexOf(y)>-1};switch(n){case"pt":at=1;break;case"mm":at=72/25.4;break;case"cm":at=72/2.54;break;case"in":at=72;break;case"px":at=Ss("px_scaling")==1?.75:96/72;break;case"pc":case"em":at=12;break;case"ex":at=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);at=n}var Mr=null;ht(),Ie();var d0=function(y){return S!==null?Mr.encryptor(y,0):function(R){return R}},za=A.__private__.getPageInfo=A.getPageInfo=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ii[y].objId,pageNumber:y,pageContext:ii[y]}},Gt=A.__private__.getPageInfoByObjId=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var R in ii)if(ii[R].objId===y)break;return za(R)},Wt=A.__private__.getCurrentPageInfo=A.getCurrentPageInfo=function(){return{objId:ii[ie].objId,pageNumber:ie,pageContext:ii[ie]}};A.addPage=function(){return Z.apply(this,arguments),this},A.setPage=function(){return er.apply(this,arguments),Ue.call(this,Ke[ie]),this},A.insertPage=function(y){return this.addPage(),this.movePage(ie,y),this},A.movePage=function(y,R){var te,ue;if(y>R){te=Ke[y],ue=ii[y];for(var Ce=y;Ce>R;Ce--)Ke[Ce]=Ke[Ce-1],ii[Ce]=ii[Ce-1];Ke[R]=te,ii[R]=ue,this.setPage(R)}else if(y<R){te=Ke[y],ue=ii[y];for(var He=y;He<R;He++)Ke[He]=Ke[He+1],ii[He]=ii[He+1];Ke[R]=te,ii[R]=ue,this.setPage(R)}return this},A.deletePage=function(){return Ot.apply(this,arguments),this},A.__private__.text=A.text=function(y,R,te,ue,Ce){var He,rt,Ct,jt,ai,ui,di,En,Bn,Cn=(ue=ue||{}).scope||this;if(typeof y=="number"&&typeof R=="number"&&(typeof te=="string"||Array.isArray(te))){var Lr=te;te=R,R=y,y=Lr}if(arguments[3]instanceof Ft?(le("The transform parameter of text() with a Matrix value"),Bn=Ce):(Ct=arguments[4],jt=arguments[5],gn(di=arguments[3])==="object"&&di!==null||(typeof Ct=="string"&&(jt=Ct,Ct=null),typeof di=="string"&&(jt=di,di=null),typeof di=="number"&&(Ct=di,di=null),ue={flags:di,angle:Ct,align:jt})),isNaN(R)||isNaN(te)||y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(y.length===0)return Cn;var xn="",ao=!1,Sn=typeof ue.lineHeightFactor=="number"?ue.lineHeightFactor:cs,la=Cn.internal.scaleFactor;function bo(Hi){return Hi=Hi.split("	").join(Array(ue.TabLen||9).join(" ")),Ki(Hi,di)}function ql(Hi){for(var Gi,Xn=Hi.concat(),ur=[],hs=Xn.length;hs--;)typeof(Gi=Xn.shift())=="string"?ur.push(Gi):Array.isArray(Hi)&&(Gi.length===1||Gi[1]===void 0&&Gi[2]===void 0)?ur.push(Gi[0]):ur.push([Gi[0],Gi[1],Gi[2]]);return ur}function fs(Hi,Gi){var Xn;if(typeof Hi=="string")Xn=Gi(Hi)[0];else if(Array.isArray(Hi)){for(var ur,hs,Ps=Hi.concat(),gc=[],su=Ps.length;su--;)typeof(ur=Ps.shift())=="string"?gc.push(Gi(ur)[0]):Array.isArray(ur)&&typeof ur[0]=="string"&&(hs=Gi(ur[0],ur[1],ur[2]),gc.push([hs[0],hs[1],hs[2]]));Xn=gc}return Xn}var Ds=!1,Os=!0;if(typeof y=="string")Ds=!0;else if(Array.isArray(y)){var so=y.concat();rt=[];for(var Rs,Dr=so.length;Dr--;)(typeof(Rs=so.shift())!="string"||Array.isArray(Rs)&&typeof Rs[0]!="string")&&(Os=!1);Ds=Os}if(Ds===!1)throw new Error('Type of text must be string or Array. "'+y+'" is not recognized.');typeof y=="string"&&(y=y.match(/[\r?\n]/)?y.split(/\r\n|\r|\n/g):[y]);var ca=ut/Cn.internal.scaleFactor,gi=ca*(Sn-1);switch(ue.baseline){case"bottom":te-=gi;break;case"top":te+=ca-gi;break;case"hanging":te+=ca-2*gi;break;case"middle":te+=ca/2-gi}if((ui=ue.maxWidth||0)>0&&(typeof y=="string"?y=Cn.splitTextToSize(y,ui):Object.prototype.toString.call(y)==="[object Array]"&&(y=y.reduce(function(Hi,Gi){return Hi.concat(Cn.splitTextToSize(Gi,ui))},[]))),He={text:y,x:R,y:te,options:ue,mutex:{pdfEscape:Ki,activeFontKey:vi,fonts:Kt,activeFontSize:ut}},wi.publish("preProcessText",He),y=He.text,Ct=(ue=He.options).angle,!(Bn instanceof Ft)&&Ct&&typeof Ct=="number"){Ct*=Math.PI/180,ue.rotationDirection===0&&(Ct=-Ct),ge===Y.ADVANCED&&(Ct=-Ct);var Ma=Math.cos(Ct),_=Math.sin(Ct);Bn=new Ft(Ma,_,-_,Ma,0,0)}else Ct&&Ct instanceof Ft&&(Bn=Ct);ge!==Y.ADVANCED||Bn||(Bn=Jn),(ai=ue.charSpace||kn)!==void 0&&(xn+=ne(X(ai))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(En=ue.horizontalScale)!==void 0&&(xn+=ne(100*En)+` Tz
`),ue.lang;var r=-1,o=ue.renderingMode!==void 0?ue.renderingMode:ue.stroke,s=Cn.internal.getCurrentPageInfo().pageContext;switch(o){case 0:case!1:case"fill":r=0;break;case 1:case!0:case"stroke":r=1;break;case 2:case"fillThenStroke":r=2;break;case 3:case"invisible":r=3;break;case 4:case"fillAndAddForClipping":r=4;break;case 5:case"strokeAndAddPathForClipping":r=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":r=6;break;case 7:case"addToPathForClipping":r=7}var c=s.usedRenderingMode!==void 0?s.usedRenderingMode:-1;r!==-1?xn+=r+` Tr
`:c!==-1&&(xn+=`0 Tr
`),r!==-1&&(s.usedRenderingMode=r),jt=ue.align||"left";var u,h=ut*Sn,m=Cn.internal.pageSize.getWidth(),E=Kt[vi];ai=ue.charSpace||kn,ui=ue.maxWidth||0,di=Object.assign({autoencode:!0,noBOM:!0},ue.flags);var w=[];if(Object.prototype.toString.call(y)==="[object Array]"){var C;rt=ql(y),jt!=="left"&&(u=rt.map(function(Hi){return Cn.getStringUnitWidth(Hi,{font:E,charSpace:ai,fontSize:ut,doKerning:!1})*ut/la}));var L,V=0;if(jt==="right"){R-=u[0],y=[],Dr=rt.length;for(var Q=0;Q<Dr;Q++)Q===0?(L=Na(R),C=Si(te)):(L=X(V-u[Q]),C=-h),y.push([rt[Q],L,C]),V=u[Q]}else if(jt==="center"){R-=u[0]/2,y=[],Dr=rt.length;for(var re=0;re<Dr;re++)re===0?(L=Na(R),C=Si(te)):(L=X((V-u[re])/2),C=-h),y.push([rt[re],L,C]),V=u[re]}else if(jt==="left"){y=[],Dr=rt.length;for(var fe=0;fe<Dr;fe++)y.push(rt[fe])}else{if(jt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');y=[],Dr=rt.length,ui=ui!==0?ui:m;for(var ye=0;ye<Dr;ye++)C=ye===0?Si(te):-h,L=ye===0?Na(R):0,ye<Dr-1?w.push(ne(X((ui-u[ye])/(rt[ye].split(" ").length-1)))):w.push(0),y.push([rt[ye],L,C])}}var Le=typeof ue.R2L=="boolean"?ue.R2L:Bt;Le===!0&&(y=fs(y,function(Hi,Gi,Xn){return[Hi.split("").reverse().join(""),Gi,Xn]})),He={text:y,x:R,y:te,options:ue,mutex:{pdfEscape:Ki,activeFontKey:vi,fonts:Kt,activeFontSize:ut}},wi.publish("postProcessText",He),y=He.text,ao=He.mutex.isHex||!1;var nt=Kt[vi].encoding;nt!=="WinAnsiEncoding"&&nt!=="StandardEncoding"||(y=fs(y,function(Hi,Gi,Xn){return[bo(Hi),Gi,Xn]})),rt=ql(y),y=[];for(var ct,Ve,ni,Jt=0,cr=1,Ir=Array.isArray(rt[0])?cr:Jt,Wn="",zi=function(Hi,Gi,Xn){var ur="";return Xn instanceof Ft?(Xn=typeof ue.angle=="number"?yo(Xn,new Ft(1,0,0,1,Hi,Gi)):yo(new Ft(1,0,0,1,Hi,Gi),Xn),ge===Y.ADVANCED&&(Xn=yo(new Ft(1,0,0,-1,0,0),Xn)),ur=Xn.join(" ")+` Tm
`):ur=ne(Hi)+" "+ne(Gi)+` Td
`,ur},tn=0;tn<rt.length;tn++){switch(Wn="",Ir){case cr:ni=(ao?"<":"(")+rt[tn][0]+(ao?">":")"),ct=parseFloat(rt[tn][1]),Ve=parseFloat(rt[tn][2]);break;case Jt:ni=(ao?"<":"(")+rt[tn]+(ao?">":")"),ct=Na(R),Ve=Si(te)}w!==void 0&&w[tn]!==void 0&&(Wn=w[tn]+` Tw
`),tn===0?y.push(Wn+zi(ct,Ve,Bn)+ni):Ir===Jt?y.push(Wn+ni):Ir===cr&&y.push(Wn+zi(ct,Ve,Bn)+ni)}y=Ir===Jt?y.join(` Tj
T* `):y.join(` Tj
`),y+=` Tj
`;var Yn=`BT
/`;return Yn+=vi+" "+ut+` Tf
`,Yn+=ne(ut*Sn)+` TL
`,Yn+=ke+`
`,Yn+=xn,Yn+=y,oe(Yn+="ET"),k[vi]=!0,Cn};var m0=A.__private__.clip=A.clip=function(y){return oe(y==="evenodd"?"W*":"W"),this};A.clipEvenOdd=function(){return m0("evenodd")},A.__private__.discardPath=A.discardPath=function(){return oe("n"),this};var Zt=A.__private__.isValidStyle=function(y){var R=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(y)!==-1&&(R=!0),R};A.__private__.setDefaultPathOperation=A.setDefaultPathOperation=function(y){return Zt(y)&&(x=y),this};var tr=A.__private__.getStyle=A.getStyle=function(y){var R=x;switch(y){case"D":case"S":R="S";break;case"F":R="f";break;case"FD":case"DF":R="B";break;case"f":case"f*":case"B":case"B*":R=y}return R},uc=A.close=function(){return oe("h"),this};A.stroke=function(){return oe("S"),this},A.fill=function(y){return Ha("f",y),this},A.fillEvenOdd=function(y){return Ha("f*",y),this},A.fillStroke=function(y){return Ha("B",y),this},A.fillStrokeEvenOdd=function(y){return Ha("B*",y),this};var Ha=function(y,R){gn(R)==="object"?p0(R,y):oe(y)},As=function(y){y===null||ge===Y.ADVANCED&&y===void 0||(y=tr(y),oe(y))};function Aa(y,R,te,ue,Ce){var He=new Hc(R||this.boundingBox,te||this.xStep,ue||this.yStep,this.gState,Ce||this.matrix);He.stream=this.stream;var rt=y+"$$"+this.cloneIndex+++"$$";return $n(rt,He),He}var p0=function(y,R){var te=xi[y.key],ue=Vi[te];if(ue instanceof Jl)oe("q"),oe(ss(R)),ue.gState&&A.setGState(ue.gState),oe(y.matrix.toString()+" cm"),oe("/"+te+" sh"),oe("Q");else if(ue instanceof Hc){var Ce=new Ft(1,0,0,-1,0,Rt());y.matrix&&(Ce=Ce.multiply(y.matrix||Jn),te=Aa.call(ue,y.key,y.boundingBox,y.xStep,y.yStep,Ce).id),oe("q"),oe("/Pattern cs"),oe("/"+te+" scn"),ue.gState&&A.setGState(ue.gState),oe(R),oe("Q")}},ss=function(y){switch(y){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Is=A.moveTo=function(y,R){return oe(ne(X(y))+" "+ne(ae(R))+" m"),this},Xo=A.lineTo=function(y,R){return oe(ne(X(y))+" "+ne(ae(R))+" l"),this},Ia=A.curveTo=function(y,R,te,ue,Ce,He){return oe([ne(X(y)),ne(ae(R)),ne(X(te)),ne(ae(ue)),ne(X(Ce)),ne(ae(He)),"c"].join(" ")),this};A.__private__.line=A.line=function(y,R,te,ue,Ce){if(isNaN(y)||isNaN(R)||isNaN(te)||isNaN(ue)||!Zt(Ce))throw new Error("Invalid arguments passed to jsPDF.line");return ge===Y.COMPAT?this.lines([[te-y,ue-R]],y,R,[1,1],Ce||"S"):this.lines([[te-y,ue-R]],y,R,[1,1]).stroke()},A.__private__.lines=A.lines=function(y,R,te,ue,Ce,He){var rt,Ct,jt,ai,ui,di,En,Bn,Cn,Lr,xn,ao;if(typeof y=="number"&&(ao=te,te=R,R=y,y=ao),ue=ue||[1,1],He=He||!1,isNaN(R)||isNaN(te)||!Array.isArray(y)||!Array.isArray(ue)||!Zt(Ce)||typeof He!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Is(R,te),rt=ue[0],Ct=ue[1],ai=y.length,Lr=R,xn=te,jt=0;jt<ai;jt++)(ui=y[jt]).length===2?(Lr=ui[0]*rt+Lr,xn=ui[1]*Ct+xn,Xo(Lr,xn)):(di=ui[0]*rt+Lr,En=ui[1]*Ct+xn,Bn=ui[2]*rt+Lr,Cn=ui[3]*Ct+xn,Lr=ui[4]*rt+Lr,xn=ui[5]*Ct+xn,Ia(di,En,Bn,Cn,Lr,xn));return He&&uc(),As(Ce),this},A.path=function(y){for(var R=0;R<y.length;R++){var te=y[R],ue=te.c;switch(te.op){case"m":Is(ue[0],ue[1]);break;case"l":Xo(ue[0],ue[1]);break;case"c":Ia.apply(this,ue);break;case"h":uc()}}return this},A.__private__.rect=A.rect=function(y,R,te,ue,Ce){if(isNaN(y)||isNaN(R)||isNaN(te)||isNaN(ue)||!Zt(Ce))throw new Error("Invalid arguments passed to jsPDF.rect");return ge===Y.COMPAT&&(ue=-ue),oe([ne(X(y)),ne(ae(R)),ne(X(te)),ne(X(ue)),"re"].join(" ")),As(Ce),this},A.__private__.triangle=A.triangle=function(y,R,te,ue,Ce,He,rt){if(isNaN(y)||isNaN(R)||isNaN(te)||isNaN(ue)||isNaN(Ce)||isNaN(He)||!Zt(rt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[te-y,ue-R],[Ce-te,He-ue],[y-Ce,R-He]],y,R,[1,1],rt,!0),this},A.__private__.roundedRect=A.roundedRect=function(y,R,te,ue,Ce,He,rt){if(isNaN(y)||isNaN(R)||isNaN(te)||isNaN(ue)||isNaN(Ce)||isNaN(He)||!Zt(rt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ct=4/3*(Math.SQRT2-1);return Ce=Math.min(Ce,.5*te),He=Math.min(He,.5*ue),this.lines([[te-2*Ce,0],[Ce*Ct,0,Ce,He-He*Ct,Ce,He],[0,ue-2*He],[0,He*Ct,-Ce*Ct,He,-Ce,He],[2*Ce-te,0],[-Ce*Ct,0,-Ce,-He*Ct,-Ce,-He],[0,2*He-ue],[0,-He*Ct,Ce*Ct,-He,Ce,-He]],y+Ce,R,[1,1],rt,!0),this},A.__private__.ellipse=A.ellipse=function(y,R,te,ue,Ce){if(isNaN(y)||isNaN(R)||isNaN(te)||isNaN(ue)||!Zt(Ce))throw new Error("Invalid arguments passed to jsPDF.ellipse");var He=4/3*(Math.SQRT2-1)*te,rt=4/3*(Math.SQRT2-1)*ue;return Is(y+te,R),Ia(y+te,R-rt,y+He,R-ue,y,R-ue),Ia(y-He,R-ue,y-te,R-rt,y-te,R),Ia(y-te,R+rt,y-He,R+ue,y,R+ue),Ia(y+He,R+ue,y+te,R+rt,y+te,R),As(Ce),this},A.__private__.circle=A.circle=function(y,R,te,ue){if(isNaN(y)||isNaN(R)||isNaN(te)||!Zt(ue))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(y,R,te,te,ue)},A.setFont=function(y,R,te){return te&&(R=Re(R,te)),vi=sc(y,R,{disableWarning:!1}),this};var ls=A.__private__.getFont=A.getFont=function(){return Kt[sc.apply(A,arguments)]};A.__private__.getFontList=A.getFontList=function(){var y,R,te={};for(y in en)if(en.hasOwnProperty(y))for(R in te[y]=[],en[y])en[y].hasOwnProperty(R)&&te[y].push(R);return te},A.addFont=function(y,R,te,ue,Ce){var He=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&He.indexOf(arguments[3])!==-1?Ce=arguments[3]:arguments[3]&&He.indexOf(arguments[3])==-1&&(te=Re(te,ue)),Ce=Ce||"Identity-H",Va.call(this,y,R,te,Ce)};var cs,vr=t.lineWidth||.200025,us=A.__private__.getLineWidth=A.getLineWidth=function(){return vr},Bl=A.__private__.setLineWidth=A.setLineWidth=function(y){return vr=y,oe(ne(X(y))+" w"),this};A.__private__.setLineDash=$t.API.setLineDash=$t.API.setLineDashPattern=function(y,R){if(y=y||[],R=R||0,isNaN(R)||!Array.isArray(y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return y=y.map(function(te){return ne(X(te))}).join(" "),R=ne(X(R)),oe("["+y+"] "+R+" d"),this};var fc=A.__private__.getLineHeight=A.getLineHeight=function(){return ut*cs};A.__private__.getLineHeight=A.getLineHeight=function(){return ut*cs};var hc=A.__private__.setLineHeightFactor=A.setLineHeightFactor=function(y){return typeof(y=y||1.15)=="number"&&(cs=y),this},dc=A.__private__.getLineHeightFactor=A.getLineHeightFactor=function(){return cs};hc(t.lineHeight);var Na=A.__private__.getHorizontalCoordinate=function(y){return X(y)},Si=A.__private__.getVerticalCoordinate=function(y){return ge===Y.ADVANCED?y:ii[ie].mediaBox.topRightY-ii[ie].mediaBox.bottomLeftY-X(y)},mc=A.__private__.getHorizontalCoordinateString=A.getHorizontalCoordinateString=function(y){return ne(Na(y))},Qo=A.__private__.getVerticalCoordinateString=A.getVerticalCoordinateString=function(y){return ne(Si(y))},Er=t.strokeColor||"0 G";A.__private__.getStrokeColor=A.getDrawColor=function(){return Go(Er)},A.__private__.setStrokeColor=A.setDrawColor=function(y,R,te,ue){return Er=ro({ch1:y,ch2:R,ch3:te,ch4:ue,pdfColorType:"draw",precision:2}),oe(Er),this};var Fl=t.fillColor||"0 g";A.__private__.getFillColor=A.getFillColor=function(){return Go(Fl)},A.__private__.setFillColor=A.setFillColor=function(y,R,te,ue){return Fl=ro({ch1:y,ch2:R,ch3:te,ch4:ue,pdfColorType:"fill",precision:2}),oe(Fl),this};var ke=t.textColor||"0 g",ci=A.__private__.getTextColor=A.getTextColor=function(){return Go(ke)};A.__private__.setTextColor=A.setTextColor=function(y,R,te,ue){return ke=ro({ch1:y,ch2:R,ch3:te,ch4:ue,pdfColorType:"text",precision:3}),this};var kn=t.charSpace,Ul=A.__private__.getCharSpace=A.getCharSpace=function(){return parseFloat(kn||0)};A.__private__.setCharSpace=A.setCharSpace=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return kn=y,this};var Ns=0;A.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},A.__private__.setLineCap=A.setLineCap=function(y){var R=A.CapJoinStyles[y];if(R===void 0)throw new Error("Line cap style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ns=R,oe(R+" J"),this};var jl=0;A.__private__.setLineJoin=A.setLineJoin=function(y){var R=A.CapJoinStyles[y];if(R===void 0)throw new Error("Line join style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return jl=R,oe(R+" j"),this},A.__private__.setLineMiterLimit=A.__private__.setMiterLimit=A.setLineMiterLimit=A.setMiterLimit=function(y){if(y=y||0,isNaN(y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return oe(ne(X(y))+" M"),this},A.GState=W1,A.setGState=function(y){(y=typeof y=="string"?vn[Lo[y]]:pc(null,y)).equals(ra)||(oe("/"+y.id+" gs"),ra=y)};var pc=function(y,R){if(!y||!Lo[y]){var te=!1;for(var ue in vn)if(vn.hasOwnProperty(ue)&&vn[ue].equals(R)){te=!0;break}if(te)R=vn[ue];else{var Ce="GS"+(Object.keys(vn).length+1).toString(10);vn[Ce]=R,R.id=Ce}return y&&(Lo[y]=R.id),wi.publish("addGState",R),R}};A.addGState=function(y,R){return pc(y,R),this},A.saveGraphicsState=function(){return oe("q"),Mo.push({key:vi,size:ut,color:ke}),this},A.restoreGraphicsState=function(){oe("Q");var y=Mo.pop();return vi=y.key,ut=y.size,ke=y.color,ra=null,this},A.setCurrentTransformationMatrix=function(y){return oe(y.toString()+" cm"),this},A.comment=function(y){return oe("#"+y),this};var Ts=function(y,R){var te=y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return te},set:function(He){isNaN(He)||(te=parseFloat(He))}});var ue=R||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ue},set:function(He){isNaN(He)||(ue=parseFloat(He))}});var Ce="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ce},set:function(He){Ce=He.toString()}}),this},Ms=function(y,R,te,ue){Ts.call(this,y,R),this.type="rect";var Ce=te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ce},set:function(rt){isNaN(rt)||(Ce=parseFloat(rt))}});var He=ue||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return He},set:function(rt){isNaN(rt)||(He=parseFloat(rt))}}),this},Dn=function(){this.page=Oi,this.currentPage=ie,this.pages=Ke.slice(0),this.pagesContext=ii.slice(0),this.x=ot,this.y=bi,this.matrix=Ei,this.width=sa(ie),this.height=Rt(ie),this.outputDestination=pt,this.id="",this.objectNumber=-1};Dn.prototype.restore=function(){Oi=this.page,ie=this.currentPage,ii=this.pagesContext,Ke=this.pages,ot=this.x,bi=this.y,Ei=this.matrix,Yi(ie,this.width),Vl(ie,this.height),pt=this.outputDestination};var Ls=function(y,R,te,ue,Ce){oa.push(new Dn),Oi=ie=0,Ke=[],ot=y,bi=R,Ei=Ce,Se([te,ue])},Ga=function(y){if(sr[y])oa.pop().restore();else{var R=new Dn,te="Xo"+(Object.keys(Kn).length+1).toString(10);R.id=te,sr[y]=te,Kn[te]=R,wi.publish("addFormObject",R),oa.pop().restore()}};for(var Ta in A.beginFormObject=function(y,R,te,ue,Ce){return Ls(y,R,te,ue,Ce),this},A.endFormObject=function(y){return Ga(y),this},A.doFormObject=function(y,R){var te=Kn[sr[y]];return oe("q"),oe(R.toString()+" cm"),oe("/"+te.id+" Do"),oe("Q"),this},A.getFormObject=function(y){var R=Kn[sr[y]];return{x:R.x,y:R.y,width:R.width,height:R.height,matrix:R.matrix}},A.save=function(y,R){return y=y||"generated.pdf",(R=R||{}).returnPromise=R.returnPromise||!1,R.returnPromise===!1?(Kl(qa(Ca()),y),typeof Kl.unload=="function"&&ti.setTimeout&&setTimeout(Kl.unload,911),this):new Promise(function(te,ue){try{var Ce=Kl(qa(Ca()),y);typeof Kl.unload=="function"&&ti.setTimeout&&setTimeout(Kl.unload,911),te(Ce)}catch(He){ue(He.message)}})},$t.API)$t.API.hasOwnProperty(Ta)&&(Ta==="events"&&$t.API.events.length?function(y,R){var te,ue,Ce;for(Ce=R.length-1;Ce!==-1;Ce--)te=R[Ce][0],ue=R[Ce][1],y.subscribe.apply(y,[te].concat(typeof ue=="function"?[ue]:ue))}(wi,$t.API.events):A[Ta]=$t.API[Ta]);var sa=A.getPageWidth=function(y){return(ii[y=y||ie].mediaBox.topRightX-ii[y].mediaBox.bottomLeftX)/at},Yi=A.setPageWidth=function(y,R){ii[y].mediaBox.topRightX=R*at+ii[y].mediaBox.bottomLeftX},Rt=A.getPageHeight=function(y){return(ii[y=y||ie].mediaBox.topRightY-ii[y].mediaBox.bottomLeftY)/at},Vl=A.setPageHeight=function(y,R){ii[y].mediaBox.topRightY=R*at+ii[y].mediaBox.bottomLeftY};return A.internal={pdfEscape:Ki,getStyle:tr,getFont:ls,getFontSize:dt,getCharSpace:Ul,getTextColor:ci,getLineHeight:fc,getLineHeightFactor:dc,getLineWidth:us,write:Et,getHorizontalCoordinate:Na,getVerticalCoordinate:Si,getCoordinateString:mc,getVerticalCoordinateString:Qo,collections:{},newObject:_n,newAdditionalObject:Ua,newObjectDeferred:lt,newObjectDeferredBegin:gr,getFilters:Wo,putStream:Oo,events:wi,scaleFactor:at,pageSize:{getWidth:function(){return sa(ie)},setWidth:function(y){Yi(ie,y)},getHeight:function(){return Rt(ie)},setHeight:function(y){Vl(ie,y)}},encryptionOptions:S,encryption:Mr,getEncryptor:d0,output:Sa,getNumberOfPages:oo,pages:Ke,out:oe,f2:Ae,f3:W,getPageInfo:za,getPageInfoByObjId:Gt,getCurrentPageInfo:Wt,getPDFVersion:z,Point:Ts,Rectangle:Ms,Matrix:Ft,hasHotfix:Ss},Object.defineProperty(A.internal.pageSize,"width",{get:function(){return sa(ie)},set:function(y){Yi(ie,y)},enumerable:!0,configurable:!0}),Object.defineProperty(A.internal.pageSize,"height",{get:function(){return Rt(ie)},set:function(y){Vl(ie,y)},enumerable:!0,configurable:!0}),h0.call(A,Oe),vi="F1",Z(a,i),wi.publish("initialized"),A}qc.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},qc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},qc.prototype.hexToBytes=function(t){for(var e=[],i=0;i<t.length;i+=2)e.push(String.fromCharCode(parseInt(t.substr(i,2),16)));return e.join("")},qc.prototype.processOwnerPassword=function(t,e){return Bh(kh(e).substr(0,5),t)},qc.prototype.encryptor=function(t,e){var i=kh(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Bh(i,n)}},W1.prototype.equals=function(t){var e,i="id,objectNumber,equals";if(!t||gn(t)!==gn(this))return!1;var n=0;for(e in this)if(!(i.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&i.indexOf(e)<0&&n--;return n===0},$t.API={events:[]},$t.version="2.5.1";var ar=$t.API,Vh=1,ec=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},jc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},li=function(t){return t.toFixed(2)},Cl=function(t){return t.toFixed(5)};ar.__acroform__={};var qo=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Dg=function(t){return t*Vh},ts=function(t){var e=new Qg,i=Dt.internal.getHeight(t)||0,n=Dt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(li(n)),Number(li(i))],e},yb=ar.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},wb=ar.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},_b=ar.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},hr=ar.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return _b(t,e-1)},dr=ar.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return yb(t,e-1)},mr=ar.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return wb(t,e-1)},bb=ar.__acroform__.calculateCoordinates=function(t,e){var i=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],l=t[1],f=t[2],p=t[3],v={};return v.lowerLeft_X=i(a)||0,v.lowerLeft_Y=n(l+p)||0,v.upperRight_X=i(a+f)||0,v.upperRight_Y=n(l)||0,[Number(li(v.lowerLeft_X)),Number(li(v.lowerLeft_Y)),Number(li(v.upperRight_X)),Number(li(v.upperRight_Y))]},Cb=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],i=t._V||t.DV,n=Fh(t,i),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+li(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var l=ts(t);return l.scope=t.scope,l.stream=e.join(`
`),l}},Fh=function(t,e){var i=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(W){return W.split(`
`)}):a.map(function(W){return[W]});var l=i,f=Dt.internal.getHeight(t)||0;f=f<0?-f:f;var p=Dt.internal.getWidth(t)||0;p=p<0?-p:p;var v=function(W,X,G){if(W+1<a.length){var ae=X+" "+a[W+1][0];return U1(ae,t,G).width<=p-4}return!1};l++;e:for(;l>0;){e="",l--;var x,S,M=U1("3",t,l).height,k=t.multiline?f-l:(f-M)/2,A=k+=2,$=0,z=0,K=0;if(l<=0){e=`(...) Tj
`,e+="% Width of Text: "+U1(e,t,l=12).width+", FieldWidth:"+p+`
`;break}for(var U="",Y=0,ge=0;ge<a.length;ge++)if(a.hasOwnProperty(ge)){var xe=!1;if(a[ge].length!==1&&K!==a[ge].length-1){if((M+2)*(Y+2)+2>f)continue e;U+=a[ge][K],xe=!0,z=ge,ge--}else{U=(U+=a[ge][K]+" ").substr(U.length-1)==" "?U.substr(0,U.length-1):U;var ce=parseInt(ge),Re=v(ce,U,l),ne=ge>=a.length-1;if(Re&&!ne){U+=" ",K=0;continue}if(Re||ne){if(ne)z=ce;else if(t.multiline&&(M+2)*(Y+2)+2>f)continue e}else{if(!t.multiline||(M+2)*(Y+2)+2>f)continue e;z=ce}}for(var le="",Ge=$;Ge<=z;Ge++){var Ae=a[Ge];if(t.multiline){if(Ge===z){le+=Ae[K]+" ",K=(K+1)%Ae.length;continue}if(Ge===$){le+=Ae[Ae.length-1]+" ";continue}}le+=Ae[0]+" "}switch(le=le.substr(le.length-1)==" "?le.substr(0,le.length-1):le,S=U1(le,t,l).width,t.textAlign){case"right":x=p-S-2;break;case"center":x=(p-S)/2;break;case"left":default:x=2}e+=li(x)+" "+li(A)+` Td
`,e+="("+ec(le)+`) Tj
`,e+=-li(x)+` 0 Td
`,A=-(l+2),S=0,$=xe?z:z+1,Y++,U=""}break}return n.text=e,n.fontSize=l,n},U1=function(t,e,i){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(i),charSpace:0})*parseFloat(i);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(i),charSpace:0})*parseFloat(i)*1.5,width:a}},Sb={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Ab=function(t,e){var i={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===i.type&&n.object===i.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(i)},Ib=function(t,e){for(var i in t)if(t.hasOwnProperty(i)){var n=i,a=t[i];e.internal.newObjectDeferredBegin(a.objId,!0),gn(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete t[n]}},Nb=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ba.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Sb)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Vh=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Zg,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(i){i.internal.events.unsubscribe(i.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete i.internal.acroformPlugin.acroFormDictionaryRoot._eventID,i.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(i){i.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=i.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var l=n[a];l.objId=void 0,l.hasAnnotation&&Ab(l,i)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(i){if(i.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");i.internal.write("/AcroForm "+i.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(i){(function(n,a){var l=!n;for(var f in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(f)){var p=n[f],v=[],x=p.Rect;if(p.Rect&&(p.Rect=bb(p.Rect,a)),a.internal.newObjectDeferredBegin(p.objId,!0),p.DA=Dt.createDefaultAppearanceStream(p),gn(p)==="object"&&typeof p.getKeyValueListForStream=="function"&&(v=p.getKeyValueListForStream()),p.Rect=x,p.hasAppearanceStream&&!p.appearanceStreamContent){var S=Cb(p);v.push({key:"AP",value:"<</N "+S+">>"}),a.internal.acroformPlugin.xForms.push(S)}if(p.appearanceStreamContent){var M="";for(var k in p.appearanceStreamContent)if(p.appearanceStreamContent.hasOwnProperty(k)){var A=p.appearanceStreamContent[k];if(M+="/"+k+" ",M+="<<",Object.keys(A).length>=1||Array.isArray(A)){for(var f in A)if(A.hasOwnProperty(f)){var $=A[f];typeof $=="function"&&($=$.call(a,p)),M+="/"+f+" "+$+" ",a.internal.acroformPlugin.xForms.indexOf($)>=0||a.internal.acroformPlugin.xForms.push($)}}else typeof($=A)=="function"&&($=$.call(a,p)),M+="/"+f+" "+$,a.internal.acroformPlugin.xForms.indexOf($)>=0||a.internal.acroformPlugin.xForms.push($);M+=">>"}v.push({key:"AP",value:`<<
`+M+">>"})}a.internal.putStream({additionalKeyValues:v,objectId:p.objId}),a.internal.out("endobj")}l&&Ib(a.internal.acroformPlugin.xForms,a)})(i,t)}),t.internal.acroformPlugin.isInitialized=!0}},Xg=ar.__acroform__.arrayToPdfArray=function(t,e,i){var n=function(f){return f};if(Array.isArray(t)){for(var a="[",l=0;l<t.length;l++)switch(l!==0&&(a+=" "),gn(t[l])){case"boolean":case"number":case"object":a+=t[l].toString();break;case"string":t[l].substr(0,1)!=="/"?(e!==void 0&&i&&(n=i.internal.getEncryptor(e)),a+="("+ec(n(t[l].toString()))+")"):a+=t[l].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Dh=function(t,e,i){var n=function(a){return a};return e!==void 0&&i&&(n=i.internal.getEncryptor(e)),(t=t||"").toString(),t="("+ec(n(t))+")"},is=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};is.prototype.toString=function(){return this.objId+" 0 R"},is.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},is.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(l){return l!="content"&&l!="appearanceStreamContent"&&l!="scope"&&l!="objId"&&l.substring(0,1)!="_"});for(var i in e)if(Object.getOwnPropertyDescriptor(this,e[i]).configurable===!1){var n=e[i],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:Xg(a,this.objId,this.scope)}):a instanceof is?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var Qg=function(){is.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(i){t=i.trim()},get:function(){return t||null}})};qo(Qg,is);var Zg=function(){is.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var i=function(n){return n};return this.scope&&(i=this.scope.internal.getEncryptor(this.objId)),"("+ec(i(t))+")"}},set:function(i){t=i}})};qo(Zg,is);var Ba=function t(){is.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(U){if(isNaN(U))throw new Error('Invalid value "'+U+'" for attribute F supplied.');e=U}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!hr(e,3)},set:function(U){U?this.F=dr(e,3):this.F=mr(e,3)}});var i=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return i},set:function(U){if(isNaN(U))throw new Error('Invalid value "'+U+'" for attribute Ff supplied.');i=U}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(U){n=U!==void 0?U:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(U){n[0]=U}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(U){n[1]=U}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(U){n[2]=U}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(U){n[3]=U}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(U){switch(U){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=U;break;default:throw new Error('Invalid value "'+U+'" for attribute FT supplied.')}}});var l=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!l||l.length<1){if(this instanceof Y1)return;l="FieldObject"+t.FieldNum++}var U=function(Y){return Y};return this.scope&&(U=this.scope.internal.getEncryptor(this.objId)),"("+ec(U(l))+")"},set:function(U){l=U.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return l},set:function(U){l=U}});var f="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return f},set:function(U){f=U}});var p="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return p},set:function(U){p=U}});var v=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return v},set:function(U){v=U}});var x=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return x===void 0?50/Vh:x},set:function(U){x=U}});var S="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return S},set:function(U){S=U}});var M="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!M||this instanceof Y1||this instanceof $l))return Dh(M,this.objId,this.scope)},set:function(U){U=U.toString(),M=U}});var k=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(k)return this instanceof eo?k:Dh(k,this.objId,this.scope)},set:function(U){U=U.toString(),k=this instanceof eo?U:U.substr(0,1)==="("?jc(U.substr(1,U.length-2)):jc(U)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof eo?jc(k.substr(1,k.length-1)):k},set:function(U){U=U.toString(),k=this instanceof eo?"/"+U:U}});var A=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(A)return A},set:function(U){this.V=U}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof eo?A:Dh(A,this.objId,this.scope)},set:function(U){U=U.toString(),A=this instanceof eo?U:U.substr(0,1)==="("?jc(U.substr(1,U.length-2)):jc(U)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof eo?jc(A.substr(1,A.length-1)):A},set:function(U){U=U.toString(),A=this instanceof eo?"/"+U:U}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var $,z=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return z},set:function(U){U=!!U,z=U}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if($)return $},set:function(U){$=U}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,1)},set:function(U){U?this.Ff=dr(this.Ff,1):this.Ff=mr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,2)},set:function(U){U?this.Ff=dr(this.Ff,2):this.Ff=mr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,3)},set:function(U){U?this.Ff=dr(this.Ff,3):this.Ff=mr(this.Ff,3)}});var K=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(K!==null)return K},set:function(U){if([0,1,2].indexOf(U)===-1)throw new Error('Invalid value "'+U+'" for attribute Q supplied.');K=U}}),Object.defineProperty(this,"textAlign",{get:function(){var U;switch(K){case 0:default:U="left";break;case 1:U="center";break;case 2:U="right"}return U},configurable:!0,enumerable:!0,set:function(U){switch(U){case"right":case 2:K=2;break;case"center":case 1:K=1;break;case"left":case 0:default:K=0}}})};qo(Ba,is);var Gc=function(){Ba.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(i){t=i}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Xg(e,this.objId,this.scope)},set:function(i){var n,a;a=[],typeof(n=i)=="string"&&(a=function(l,f,p){p||(p=1);for(var v,x=[];v=f.exec(l);)x.push(v[p]);return x}(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(i){e=i,this.sort&&e.sort()},this.addOption=function(i){i=(i=i||"").toString(),e.push(i),this.sort&&e.sort()},this.removeOption=function(i,n){for(n=n||!1,i=(i=i||"").toString();e.indexOf(i)!==-1&&(e.splice(e.indexOf(i),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,18)},set:function(i){i?this.Ff=dr(this.Ff,18):this.Ff=mr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,19)},set:function(i){this.combo===!0&&(i?this.Ff=dr(this.Ff,19):this.Ff=mr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,20)},set:function(i){i?(this.Ff=dr(this.Ff,20),e.sort()):this.Ff=mr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,22)},set:function(i){i?this.Ff=dr(this.Ff,22):this.Ff=mr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,23)},set:function(i){i?this.Ff=dr(this.Ff,23):this.Ff=mr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,27)},set:function(i){i?this.Ff=dr(this.Ff,27):this.Ff=mr(this.Ff,27)}}),this.hasAppearanceStream=!1};qo(Gc,Ba);var Wc=function(){Gc.call(this),this.fontName="helvetica",this.combo=!1};qo(Wc,Gc);var Yc=function(){Wc.call(this),this.combo=!0};qo(Yc,Wc);var q1=function(){Yc.call(this),this.edit=!0};qo(q1,Yc);var eo=function(){Ba.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,15)},set:function(i){i?this.Ff=dr(this.Ff,15):this.Ff=mr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,16)},set:function(i){i?this.Ff=dr(this.Ff,16):this.Ff=mr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,17)},set:function(i){i?this.Ff=dr(this.Ff,17):this.Ff=mr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,26)},set:function(i){i?this.Ff=dr(this.Ff,26):this.Ff=mr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};if(this.scope&&(i=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+ec(i(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(i){gn(i)==="object"&&(e=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(i){typeof i=="string"&&(e.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}})};qo(eo,Ba);var z1=function(){eo.call(this),this.pushButton=!0};qo(z1,eo);var Xc=function(){eo.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};qo(Xc,eo);var Y1=function(){var t,e;Ba.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var i,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(p){return p};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var l,f=[];for(l in f.push("<<"),n)f.push("/"+l+" ("+ec(a(n[l]))+")");return f.push(">>"),f.join(`
`)},set:function(a){gn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(a){i=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(a){i="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Dt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};qo(Y1,Ba),Xc.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var i=this.Kids[e];i.appearanceStreamContent=t.createAppearanceStream(i.optionName),i.caption=t.getCA()}},Xc.prototype.createOption=function(t){var e=new Y1;return e.Parent=this,e.optionName=t,this.Kids.push(e),Tb.call(this.scope,e),e};var H1=function(){eo.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Dt.CheckBox.createAppearanceStream()};qo(H1,eo);var $l=function(){Ba.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,13)},set:function(e){e?this.Ff=dr(this.Ff,13):this.Ff=mr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,21)},set:function(e){e?this.Ff=dr(this.Ff,21):this.Ff=mr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,23)},set:function(e){e?this.Ff=dr(this.Ff,23):this.Ff=mr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,24)},set:function(e){e?this.Ff=dr(this.Ff,24):this.Ff=mr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,25)},set:function(e){e?this.Ff=dr(this.Ff,25):this.Ff=mr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,26)},set:function(e){e?this.Ff=dr(this.Ff,26):this.Ff=mr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};qo($l,Ba);var G1=function(){$l.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,14)},set:function(t){t?this.Ff=dr(this.Ff,14):this.Ff=mr(this.Ff,14)}}),this.password=!0};qo(G1,$l);var Dt={CheckBox:{createAppearanceStream:function(){return{N:{On:Dt.CheckBox.YesNormal},D:{On:Dt.CheckBox.YesPushDown,Off:Dt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=ts(t);e.scope=t.scope;var i=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),l=Fh(t,t.caption);return i.push("0.749023 g"),i.push("0 0 "+li(Dt.internal.getWidth(t))+" "+li(Dt.internal.getHeight(t))+" re"),i.push("f"),i.push("BMC"),i.push("q"),i.push("0 0 1 rg"),i.push("/"+n+" "+li(l.fontSize)+" Tf "+a),i.push("BT"),i.push(l.text),i.push("ET"),i.push("Q"),i.push("EMC"),e.stream=i.join(`
`),e},YesNormal:function(t){var e=ts(t);e.scope=t.scope;var i=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],l=Dt.internal.getHeight(t),f=Dt.internal.getWidth(t),p=Fh(t,t.caption);return a.push("1 g"),a.push("0 0 "+li(f)+" "+li(l)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+li(f-1)+" "+li(l-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+i+" "+li(p.fontSize)+" Tf "+n),a.push(p.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=ts(t);e.scope=t.scope;var i=[];return i.push("0.749023 g"),i.push("0 0 "+li(Dt.internal.getWidth(t))+" "+li(Dt.internal.getHeight(t))+" re"),i.push("f"),e.stream=i.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Dt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Dt.RadioButton.Circle.YesNormal,e.D[t]=Dt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=ts(t);e.scope=t.scope;var i=[],n=Dt.internal.getWidth(t)<=Dt.internal.getHeight(t)?Dt.internal.getWidth(t)/4:Dt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Dt.internal.Bezier_C,l=Number((n*a).toFixed(5));return i.push("q"),i.push("1 0 0 1 "+Cl(Dt.internal.getWidth(t)/2)+" "+Cl(Dt.internal.getHeight(t)/2)+" cm"),i.push(n+" 0 m"),i.push(n+" "+l+" "+l+" "+n+" 0 "+n+" c"),i.push("-"+l+" "+n+" -"+n+" "+l+" -"+n+" 0 c"),i.push("-"+n+" -"+l+" -"+l+" -"+n+" 0 -"+n+" c"),i.push(l+" -"+n+" "+n+" -"+l+" "+n+" 0 c"),i.push("f"),i.push("Q"),e.stream=i.join(`
`),e},YesPushDown:function(t){var e=ts(t);e.scope=t.scope;var i=[],n=Dt.internal.getWidth(t)<=Dt.internal.getHeight(t)?Dt.internal.getWidth(t)/4:Dt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),l=Number((a*Dt.internal.Bezier_C).toFixed(5)),f=Number((n*Dt.internal.Bezier_C).toFixed(5));return i.push("0.749023 g"),i.push("q"),i.push("1 0 0 1 "+Cl(Dt.internal.getWidth(t)/2)+" "+Cl(Dt.internal.getHeight(t)/2)+" cm"),i.push(a+" 0 m"),i.push(a+" "+l+" "+l+" "+a+" 0 "+a+" c"),i.push("-"+l+" "+a+" -"+a+" "+l+" -"+a+" 0 c"),i.push("-"+a+" -"+l+" -"+l+" -"+a+" 0 -"+a+" c"),i.push(l+" -"+a+" "+a+" -"+l+" "+a+" 0 c"),i.push("f"),i.push("Q"),i.push("0 g"),i.push("q"),i.push("1 0 0 1 "+Cl(Dt.internal.getWidth(t)/2)+" "+Cl(Dt.internal.getHeight(t)/2)+" cm"),i.push(n+" 0 m"),i.push(n+" "+f+" "+f+" "+n+" 0 "+n+" c"),i.push("-"+f+" "+n+" -"+n+" "+f+" -"+n+" 0 c"),i.push("-"+n+" -"+f+" -"+f+" -"+n+" 0 -"+n+" c"),i.push(f+" -"+n+" "+n+" -"+f+" "+n+" 0 c"),i.push("f"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=ts(t);e.scope=t.scope;var i=[],n=Dt.internal.getWidth(t)<=Dt.internal.getHeight(t)?Dt.internal.getWidth(t)/4:Dt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),l=Number((a*Dt.internal.Bezier_C).toFixed(5));return i.push("0.749023 g"),i.push("q"),i.push("1 0 0 1 "+Cl(Dt.internal.getWidth(t)/2)+" "+Cl(Dt.internal.getHeight(t)/2)+" cm"),i.push(a+" 0 m"),i.push(a+" "+l+" "+l+" "+a+" 0 "+a+" c"),i.push("-"+l+" "+a+" -"+a+" "+l+" -"+a+" 0 c"),i.push("-"+a+" -"+l+" -"+l+" -"+a+" 0 -"+a+" c"),i.push(l+" -"+a+" "+a+" -"+l+" "+a+" 0 c"),i.push("f"),i.push("Q"),e.stream=i.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Dt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Dt.RadioButton.Cross.YesNormal,e.D[t]=Dt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=ts(t);e.scope=t.scope;var i=[],n=Dt.internal.calculateCross(t);return i.push("q"),i.push("1 1 "+li(Dt.internal.getWidth(t)-2)+" "+li(Dt.internal.getHeight(t)-2)+" re"),i.push("W"),i.push("n"),i.push(li(n.x1.x)+" "+li(n.x1.y)+" m"),i.push(li(n.x2.x)+" "+li(n.x2.y)+" l"),i.push(li(n.x4.x)+" "+li(n.x4.y)+" m"),i.push(li(n.x3.x)+" "+li(n.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},YesPushDown:function(t){var e=ts(t);e.scope=t.scope;var i=Dt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+li(Dt.internal.getWidth(t))+" "+li(Dt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+li(Dt.internal.getWidth(t)-2)+" "+li(Dt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(li(i.x1.x)+" "+li(i.x1.y)+" m"),n.push(li(i.x2.x)+" "+li(i.x2.y)+" l"),n.push(li(i.x4.x)+" "+li(i.x4.y)+" m"),n.push(li(i.x3.x)+" "+li(i.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=ts(t);e.scope=t.scope;var i=[];return i.push("0.749023 g"),i.push("0 0 "+li(Dt.internal.getWidth(t))+" "+li(Dt.internal.getHeight(t))+" re"),i.push("f"),e.stream=i.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+i}};Dt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Dt.internal.getWidth(t),i=Dt.internal.getHeight(t),n=Math.min(e,i);return{x1:{x:(e-n)/2,y:(i-n)/2+n},x2:{x:(e-n)/2+n,y:(i-n)/2},x3:{x:(e-n)/2,y:(i-n)/2},x4:{x:(e-n)/2+n,y:(i-n)/2+n}}}},Dt.internal.getWidth=function(t){var e=0;return gn(t)==="object"&&(e=Dg(t.Rect[2])),e},Dt.internal.getHeight=function(t){var e=0;return gn(t)==="object"&&(e=Dg(t.Rect[3])),e};var Tb=ar.addField=function(t){if(Nb(this,t),!(t instanceof Ba))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ar.AcroFormChoiceField=Gc,ar.AcroFormListBox=Wc,ar.AcroFormComboBox=Yc,ar.AcroFormEditBox=q1,ar.AcroFormButton=eo,ar.AcroFormPushButton=z1,ar.AcroFormRadioButton=Xc,ar.AcroFormCheckBox=H1,ar.AcroFormTextField=$l,ar.AcroFormPasswordField=G1,ar.AcroFormAppearance=Dt,ar.AcroForm={ChoiceField:Gc,ListBox:Wc,ComboBox:Yc,EditBox:q1,Button:eo,PushButton:z1,RadioButton:Xc,CheckBox:H1,TextField:$l,PasswordField:G1,Appearance:Dt},$t.AcroForm={ChoiceField:Gc,ListBox:Wc,ComboBox:Yc,EditBox:q1,Button:eo,PushButton:z1,RadioButton:Xc,CheckBox:H1,TextField:$l,PasswordField:G1,Appearance:Dt};var iB=$t.AcroForm;function Kg(t){return t.reduce(function(e,i,n){return e[i]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(W,X){var G,ae,be,Be,ze,Ie=e;if((X=X||e)==="RGBA"||W.data!==void 0&&W.data instanceof Uint8ClampedArray&&"height"in W&&"width"in W)return"RGBA";if(Re(W))for(ze in i)for(be=i[ze],G=0;G<be.length;G+=1){for(Be=!0,ae=0;ae<be[G].length;ae+=1)if(be[G][ae]!==void 0&&be[G][ae]!==W[ae]){Be=!1;break}if(Be===!0){Ie=ze;break}}else for(ze in i)for(be=i[ze],G=0;G<be.length;G+=1){for(Be=!0,ae=0;ae<be[G].length;ae+=1)if(be[G][ae]!==void 0&&be[G][ae]!==W.charCodeAt(ae)){Be=!1;break}if(Be===!0){Ie=ze;break}}return Ie===e&&X!==e&&(Ie=X),Ie},a=function W(X){for(var G=this.internal.write,ae=this.internal.putStream,be=(0,this.internal.getFilters)();be.indexOf("FlateEncode")!==-1;)be.splice(be.indexOf("FlateEncode"),1);X.objectId=this.internal.newObject();var Be=[];if(Be.push({key:"Type",value:"/XObject"}),Be.push({key:"Subtype",value:"/Image"}),Be.push({key:"Width",value:X.width}),Be.push({key:"Height",value:X.height}),X.colorSpace===K.INDEXED?Be.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(X.palette.length/3-1)+" "+("sMask"in X&&X.sMask!==void 0?X.objectId+2:X.objectId+1)+" 0 R]"}):(Be.push({key:"ColorSpace",value:"/"+X.colorSpace}),X.colorSpace===K.DEVICE_CMYK&&Be.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Be.push({key:"BitsPerComponent",value:X.bitsPerComponent}),"decodeParameters"in X&&X.decodeParameters!==void 0&&Be.push({key:"DecodeParms",value:"<<"+X.decodeParameters+">>"}),"transparency"in X&&Array.isArray(X.transparency)){for(var ze="",Ie=0,Ze=X.transparency.length;Ie<Ze;Ie++)ze+=X.transparency[Ie]+" "+X.transparency[Ie]+" ";Be.push({key:"Mask",value:"["+ze+"]"})}X.sMask!==void 0&&Be.push({key:"SMask",value:X.objectId+1+" 0 R"});var je=X.filter!==void 0?["/"+X.filter]:void 0;if(ae({data:X.data,additionalKeyValues:Be,alreadyAppliedFilters:je,objectId:X.objectId}),G("endobj"),"sMask"in X&&X.sMask!==void 0){var ht="/Predictor "+X.predictor+" /Colors 1 /BitsPerComponent "+X.bitsPerComponent+" /Columns "+X.width,B={width:X.width,height:X.height,colorSpace:"DeviceGray",bitsPerComponent:X.bitsPerComponent,decodeParameters:ht,data:X.sMask};"filter"in X&&(B.filter=X.filter),W.call(this,B)}if(X.colorSpace===K.INDEXED){var ie=this.internal.newObject();ae({data:le(new Uint8Array(X.palette)),objectId:ie}),G("endobj")}},l=function(){var W=this.internal.collections.addImage_images;for(var X in W)a.call(this,W[X])},f=function(){var W,X=this.internal.collections.addImage_images,G=this.internal.write;for(var ae in X)G("/I"+(W=X[ae]).index,W.objectId,"0","R")},p=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",f))},v=function(){var W=this.internal.collections.addImage_images;return p.call(this),W},x=function(){return Object.keys(this.internal.collections.addImage_images).length},S=function(W){return typeof t["process"+W.toUpperCase()]=="function"},M=function(W){return gn(W)==="object"&&W.nodeType===1},k=function(W,X){if(W.nodeName==="IMG"&&W.hasAttribute("src")){var G=""+W.getAttribute("src");if(G.indexOf("data:image/")===0)return j0(unescape(G).split("base64,").pop());var ae=t.loadFile(G,!0);if(ae!==void 0)return ae}if(W.nodeName==="CANVAS"){if(W.width===0||W.height===0)throw new Error("Given canvas must have data. Canvas width: "+W.width+", height: "+W.height);var be;switch(X){case"PNG":be="image/png";break;case"WEBP":be="image/webp";break;case"JPEG":case"JPG":default:be="image/jpeg"}return j0(W.toDataURL(be,1).split("base64,").pop())}},A=function(W){var X=this.internal.collections.addImage_images;if(X){for(var G in X)if(W===X[G].alias)return X[G]}},$=function(W,X,G){return W||X||(W=-96,X=-96),W<0&&(W=-1*G.width*72/W/this.internal.scaleFactor),X<0&&(X=-1*G.height*72/X/this.internal.scaleFactor),W===0&&(W=X*G.width/G.height),X===0&&(X=W*G.height/G.width),[W,X]},z=function(W,X,G,ae,be,Be){var ze=$.call(this,G,ae,be),Ie=this.internal.getCoordinateString,Ze=this.internal.getVerticalCoordinateString,je=v.call(this);if(G=ze[0],ae=ze[1],je[be.index]=be,Be){Be*=Math.PI/180;var ht=Math.cos(Be),B=Math.sin(Be),ie=function(me){return me.toFixed(4)},J=[ie(ht),ie(B),ie(-1*B),ie(ht),0,0,"cm"]}this.internal.write("q"),Be?(this.internal.write([1,"0","0",1,Ie(W),Ze(X+ae),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([Ie(G),"0","0",Ie(ae),"0","0","cm"].join(" "))):this.internal.write([Ie(G),"0","0",Ie(ae),Ie(W),Ze(X+ae),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+be.index+" Do"),this.internal.write("Q")},K=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var U=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Y=t.__addimage__.sHashCode=function(W){var X,G,ae=0;if(typeof W=="string")for(G=W.length,X=0;X<G;X++)ae=(ae<<5)-ae+W.charCodeAt(X),ae|=0;else if(Re(W))for(G=W.byteLength/2,X=0;X<G;X++)ae=(ae<<5)-ae+W[X],ae|=0;return ae},ge=t.__addimage__.validateStringAsBase64=function(W){(W=W||"").toString().trim();var X=!0;return W.length===0&&(X=!1),W.length%4!=0&&(X=!1),/^[A-Za-z0-9+/]+$/.test(W.substr(0,W.length-2))===!1&&(X=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(W.substr(-2))===!1&&(X=!1),X},xe=t.__addimage__.extractImageFromDataUrl=function(W){var X=(W=W||"").split("base64,"),G=null;if(X.length===2){var ae=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(X[0]);Array.isArray(ae)&&(G={mimeType:ae[1],charset:ae[2],data:X[1]})}return G},ce=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(W){return ce()&&W instanceof ArrayBuffer};var Re=t.__addimage__.isArrayBufferView=function(W){return ce()&&typeof Uint32Array<"u"&&(W instanceof Int8Array||W instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&W instanceof Uint8ClampedArray||W instanceof Int16Array||W instanceof Uint16Array||W instanceof Int32Array||W instanceof Uint32Array||W instanceof Float32Array||W instanceof Float64Array)},ne=t.__addimage__.binaryStringToUint8Array=function(W){for(var X=W.length,G=new Uint8Array(X),ae=0;ae<X;ae++)G[ae]=W.charCodeAt(ae);return G},le=t.__addimage__.arrayBufferToBinaryString=function(W){for(var X="",G=Re(W)?W:new Uint8Array(W),ae=0;ae<G.length;ae+=8192)X+=String.fromCharCode.apply(null,G.subarray(ae,ae+8192));return X};t.addImage=function(){var W,X,G,ae,be,Be,ze,Ie,Ze;if(typeof arguments[1]=="number"?(X=e,G=arguments[1],ae=arguments[2],be=arguments[3],Be=arguments[4],ze=arguments[5],Ie=arguments[6],Ze=arguments[7]):(X=arguments[1],G=arguments[2],ae=arguments[3],be=arguments[4],Be=arguments[5],ze=arguments[6],Ie=arguments[7],Ze=arguments[8]),gn(W=arguments[0])==="object"&&!M(W)&&"imageData"in W){var je=W;W=je.imageData,X=je.format||X||e,G=je.x||G||0,ae=je.y||ae||0,be=je.w||je.width||be,Be=je.h||je.height||Be,ze=je.alias||ze,Ie=je.compression||Ie,Ze=je.rotation||je.angle||Ze}var ht=this.internal.getFilters();if(Ie===void 0&&ht.indexOf("FlateEncode")!==-1&&(Ie="SLOW"),isNaN(G)||isNaN(ae))throw new Error("Invalid coordinates passed to jsPDF.addImage");p.call(this);var B=Ge.call(this,W,X,ze,Ie);return z.call(this,G,ae,be,Be,B,Ze),this};var Ge=function(W,X,G,ae){var be,Be,ze;if(typeof W=="string"&&n(W)===e){W=unescape(W);var Ie=Ae(W,!1);(Ie!==""||(Ie=t.loadFile(W,!0))!==void 0)&&(W=Ie)}if(M(W)&&(W=k(W,X)),X=n(W,X),!S(X))throw new Error("addImage does not support files of type '"+X+"', please ensure that a plugin for '"+X+"' support is added.");if(((ze=G)==null||ze.length===0)&&(G=function(Ze){return typeof Ze=="string"||Re(Ze)?Y(Ze):Re(Ze.data)?Y(Ze.data):null}(W)),(be=A.call(this,G))||(ce()&&(W instanceof Uint8Array||X==="RGBA"||(Be=W,W=ne(W))),be=this["process"+X.toUpperCase()](W,x.call(this),G,function(Ze){return Ze&&typeof Ze=="string"&&(Ze=Ze.toUpperCase()),Ze in t.image_compression?Ze:U.NONE}(ae),Be)),!be)throw new Error("An unknown error occurred whilst processing the image.");return be},Ae=t.__addimage__.convertBase64ToBinaryString=function(W,X){var G;X=typeof X!="boolean"||X;var ae,be="";if(typeof W=="string"){ae=(G=xe(W))!==null?G.data:W;try{be=j0(ae)}catch(Be){if(X)throw ge(ae)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Be.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return be};t.getImageProperties=function(W){var X,G,ae="";if(M(W)&&(W=k(W)),typeof W=="string"&&n(W)===e&&((ae=Ae(W,!1))===""&&(ae=t.loadFile(W)||""),W=ae),G=n(W),!S(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(!ce()||W instanceof Uint8Array||(W=ne(W)),!(X=this["process"+G.toUpperCase()](W)))throw new Error("An unknown error occurred whilst processing the image");return X.fileType=G,X}})($t.API),function(t){var e=function(i){if(i!==void 0&&i!="")return!0};$t.API.events.push(["addPage",function(i){this.internal.getPageInfo(i.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(i){for(var n,a,l,f=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString,v=this.internal.getPageInfoByObjId(i.objId),x=i.pageContext.annotations,S=!1,M=0;M<x.length&&!S;M++)switch((n=x[M]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(S=!0);break;case"reference":case"text":case"freetext":S=!0}if(S!=0){this.internal.write("/Annots [");for(var k=0;k<x.length;k++){n=x[k];var A=this.internal.pdfEscape,$=this.internal.getEncryptor(i.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var z=this.internal.newAdditionalObject(),K=this.internal.newAdditionalObject(),U=this.internal.getEncryptor(z.objId),Y=n.title||"Note";l="<</Type /Annot /Subtype /Text "+(a="/Rect ["+f(n.bounds.x)+" "+p(n.bounds.y+n.bounds.h)+" "+f(n.bounds.x+n.bounds.w)+" "+p(n.bounds.y)+"] ")+"/Contents ("+A(U(n.contents))+")",l+=" /Popup "+K.objId+" 0 R",l+=" /P "+v.objId+" 0 R",l+=" /T ("+A(U(Y))+") >>",z.content=l;var ge=z.objId+" 0 R";l="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+f(n.bounds.x+30)+" "+p(n.bounds.y+n.bounds.h)+" "+f(n.bounds.x+n.bounds.w+30)+" "+p(n.bounds.y)+"] ")+" /Parent "+ge,n.open&&(l+=" /Open true"),l+=" >>",K.content=l,this.internal.write(z.objId,"0 R",K.objId,"0 R");break;case"freetext":a="/Rect ["+f(n.bounds.x)+" "+p(n.bounds.y)+" "+f(n.bounds.x+n.bounds.w)+" "+p(n.bounds.y+n.bounds.h)+"] ";var xe=n.color||"#000000";l="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+A($(n.contents))+")",l+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+xe+")",l+=" /Border [0 0 0]",l+=" >>",this.internal.write(l);break;case"link":if(n.options.name){var ce=this.annotations._nameMap[n.options.name];n.options.pageNumber=ce.page,n.options.top=ce.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",l="",n.options.url)l="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+A($(n.options.url))+") >>";else if(n.options.pageNumber)switch(l="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":l+=" /Fit]";break;case"FitH":l+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,l+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var Re=p(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),l+=" /XYZ "+n.options.left+" "+Re+" "+n.options.zoom+"]"}l!=""&&(l+=" >>",this.internal.write(l))}}this.internal.write("]")}}]),t.createAnnotation=function(i){var n=this.internal.getCurrentPageInfo();switch(i.type){case"link":this.link(i.bounds.x,i.bounds.y,i.bounds.w,i.bounds.h,i);break;case"text":case"freetext":n.pageContext.annotations.push(i)}},t.link=function(i,n,a,l,f){var p=this.internal.getCurrentPageInfo(),v=this.internal.getCoordinateString,x=this.internal.getVerticalCoordinateString;p.pageContext.annotations.push({finalBounds:{x:v(i),y:x(n),w:v(i+a),h:x(n+l)},options:f,type:"link"})},t.textWithLink=function(i,n,a,l){var f,p,v=this.getTextWidth(i),x=this.internal.getLineHeight()/this.internal.scaleFactor;if(l.maxWidth!==void 0){p=l.maxWidth;var S=this.splitTextToSize(i,p).length;f=Math.ceil(x*S)}else p=v,f=x;return this.text(i,n,a,l),a+=.2*x,l.align==="center"&&(n-=v/2),l.align==="right"&&(n-=v),this.link(n,a-x,p,f,l),v},t.getTextWidth=function(i){var n=this.internal.getFontSize();return this.getStringUnitWidth(i)*n/this.internal.scaleFactor}}($t.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},i={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var l=t.__arabicParser__.isInArabicSubstitutionA=function(z){return e[z.charCodeAt(0)]!==void 0},f=t.__arabicParser__.isArabicLetter=function(z){return typeof z=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(z)},p=t.__arabicParser__.isArabicEndLetter=function(z){return f(z)&&l(z)&&e[z.charCodeAt(0)].length<=2},v=t.__arabicParser__.isArabicAlfLetter=function(z){return f(z)&&a.indexOf(z.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(z){return f(z)&&l(z)&&e[z.charCodeAt(0)].length>=1};var x=t.__arabicParser__.arabicLetterHasFinalForm=function(z){return f(z)&&l(z)&&e[z.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(z){return f(z)&&l(z)&&e[z.charCodeAt(0)].length>=3};var S=t.__arabicParser__.arabicLetterHasMedialForm=function(z){return f(z)&&l(z)&&e[z.charCodeAt(0)].length==4},M=t.__arabicParser__.resolveLigatures=function(z){var K=0,U=i,Y="",ge=0;for(K=0;K<z.length;K+=1)U[z.charCodeAt(K)]!==void 0?(ge++,typeof(U=U[z.charCodeAt(K)])=="number"&&(Y+=String.fromCharCode(U),U=i,ge=0),K===z.length-1&&(U=i,Y+=z.charAt(K-(ge-1)),K-=ge-1,ge=0)):(U=i,Y+=z.charAt(K-ge),K-=ge,ge=0);return Y};t.__arabicParser__.isArabicDiacritic=function(z){return z!==void 0&&n[z.charCodeAt(0)]!==void 0};var k=t.__arabicParser__.getCorrectForm=function(z,K,U){return f(z)?l(z)===!1?-1:!x(z)||!f(K)&&!f(U)||!f(U)&&p(K)||p(z)&&!f(K)||p(z)&&v(K)||p(z)&&p(K)?0:S(z)&&f(K)&&!p(K)&&f(U)&&x(U)?3:p(z)||!f(U)?1:2:-1},A=function(z){var K=0,U=0,Y=0,ge="",xe="",ce="",Re=(z=z||"").split("\\s+"),ne=[];for(K=0;K<Re.length;K+=1){for(ne.push(""),U=0;U<Re[K].length;U+=1)ge=Re[K][U],xe=Re[K][U-1],ce=Re[K][U+1],f(ge)?(Y=k(ge,xe,ce),ne[K]+=Y!==-1?String.fromCharCode(e[ge.charCodeAt(0)][Y]):ge):ne[K]+=ge;ne[K]=M(ne[K])}return ne.join(" ")},$=t.__arabicParser__.processArabic=t.processArabic=function(){var z,K=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,U=[];if(Array.isArray(K)){var Y=0;for(U=[],Y=0;Y<K.length;Y+=1)Array.isArray(K[Y])?U.push([A(K[Y][0]),K[Y][1],K[Y][2]]):U.push([A(K[Y])]);z=U}else z=A(K);return typeof arguments[0]=="string"?z:(arguments[0].text=z,arguments[0])};t.events.push(["preProcessText",$])}($t.API),$t.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var i=void 0;Object.defineProperty(this,"pdf",{get:function(){return i},set:function(p){i=p}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(p){n=isNaN(p)||Number.isInteger(p)===!1||p<0?150:p,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(p){a=isNaN(p)||Number.isInteger(p)===!1||p<0?300:p,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var l=[];Object.defineProperty(this,"childNodes",{get:function(){return l},set:function(p){l=p}});var f={};Object.defineProperty(this,"style",{get:function(){return f},set:function(p){f=p}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(i,n){var a;if((i=i||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}($t.API),function(t){var e={left:0,top:0,bottom:0,right:0},i=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new l,this.internal.__cell__.pages=1},l=function(){var v=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return v},set:function(z){v=z}});var x=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return x},set:function(z){x=z}});var S=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return S},set:function(z){S=z}});var M=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return M},set:function(z){M=z}});var k=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return k},set:function(z){k=z}});var A=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return A},set:function(z){A=z}});var $=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return $},set:function(z){$=z}}),this};l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},l.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(v){return n.call(this),this.internal.__cell__.headerFunction=typeof v=="function"?v:void 0,this},t.getTextDimensions=function(v,x){n.call(this);var S=(x=x||{}).fontSize||this.getFontSize(),M=x.font||this.getFont(),k=x.scaleFactor||this.internal.scaleFactor,A=0,$=0,z=0,K=this;if(!Array.isArray(v)&&typeof v!="string"){if(typeof v!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");v=String(v)}var U=x.maxWidth;U>0?typeof v=="string"?v=this.splitTextToSize(v,U):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(ge,xe){return ge.concat(K.splitTextToSize(xe,U))},[])):v=Array.isArray(v)?v:[v];for(var Y=0;Y<v.length;Y++)A<(z=this.getStringUnitWidth(v[Y],{font:M})*S)&&(A=z);return A!==0&&($=v.length),{w:A/=k,h:Math.max(($*S*this.getLineHeightFactor()-S*(this.getLineHeightFactor()-1))/k,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var v=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new l(v.left,v.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var f=t.cell=function(){var v;v=arguments[0]instanceof l?arguments[0]:new l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var x=this.internal.__cell__.lastCell,S=this.internal.__cell__.padding,M=this.internal.__cell__.margins||e,k=this.internal.__cell__.tableHeaderRow,A=this.internal.__cell__.printHeaders;return x.lineNumber!==void 0&&(x.lineNumber===v.lineNumber?(v.x=(x.x||0)+(x.width||0),v.y=x.y||0):x.y+x.height+v.height+M.bottom>this.getPageHeight()?(this.cellAddPage(),v.y=M.top,A&&k&&(this.printHeaderRow(v.lineNumber,!0),v.y+=k[0].height)):v.y=x.y+x.height||v.y),v.text[0]!==void 0&&(this.rect(v.x,v.y,v.width,v.height,i===!0?"FD":void 0),v.align==="right"?this.text(v.text,v.x+v.width-S,v.y+S,{align:"right",baseline:"top"}):v.align==="center"?this.text(v.text,v.x+v.width/2,v.y+S,{align:"center",baseline:"top",maxWidth:v.width-S-S}):this.text(v.text,v.x+S,v.y+S,{align:"left",baseline:"top",maxWidth:v.width-S-S})),this.internal.__cell__.lastCell=v,this};t.table=function(v,x,S,M,k){if(n.call(this),!S)throw new Error("No data for PDF table.");var A,$,z,K,U=[],Y=[],ge=[],xe={},ce={},Re=[],ne=[],le=(k=k||{}).autoSize||!1,Ge=k.printHeaders!==!1,Ae=k.css&&k.css["font-size"]!==void 0?16*k.css["font-size"]:k.fontSize||12,W=k.margins||Object.assign({width:this.getPageWidth()},e),X=typeof k.padding=="number"?k.padding:3,G=k.headerBackgroundColor||"#c8c8c8",ae=k.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=Ge,this.internal.__cell__.margins=W,this.internal.__cell__.table_font_size=Ae,this.internal.__cell__.padding=X,this.internal.__cell__.headerBackgroundColor=G,this.internal.__cell__.headerTextColor=ae,this.setFontSize(Ae),M==null)Y=U=Object.keys(S[0]),ge=U.map(function(){return"left"});else if(Array.isArray(M)&&gn(M[0])==="object")for(U=M.map(function(je){return je.name}),Y=M.map(function(je){return je.prompt||je.name||""}),ge=M.map(function(je){return je.align||"left"}),A=0;A<M.length;A+=1)ce[M[A].name]=M[A].width*(19.049976/25.4);else Array.isArray(M)&&typeof M[0]=="string"&&(Y=U=M,ge=U.map(function(){return"left"}));if(le||Array.isArray(M)&&typeof M[0]=="string")for(A=0;A<U.length;A+=1){for(xe[K=U[A]]=S.map(function(je){return je[K]}),this.setFont(void 0,"bold"),Re.push(this.getTextDimensions(Y[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),$=xe[K],this.setFont(void 0,"normal"),z=0;z<$.length;z+=1)Re.push(this.getTextDimensions($[z],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ce[K]=Math.max.apply(null,Re)+X+X,Re=[]}if(Ge){var be={};for(A=0;A<U.length;A+=1)be[U[A]]={},be[U[A]].text=Y[A],be[U[A]].align=ge[A];var Be=p.call(this,be,ce);ne=U.map(function(je){return new l(v,x,ce[je],Be,be[je].text,void 0,be[je].align)}),this.setTableHeaderRow(ne),this.printHeaderRow(1,!1)}var ze=M.reduce(function(je,ht){return je[ht.name]=ht.align,je},{});for(A=0;A<S.length;A+=1){"rowStart"in k&&k.rowStart instanceof Function&&k.rowStart({row:A,data:S[A]},this);var Ie=p.call(this,S[A],ce);for(z=0;z<U.length;z+=1){var Ze=S[A][U[z]];"cellStart"in k&&k.cellStart instanceof Function&&k.cellStart({row:A,col:z,data:Ze},this),f.call(this,new l(v,x,ce[U[z]],Ie,Ze,A+2,ze[U[z]]))}}return this.internal.__cell__.table_x=v,this.internal.__cell__.table_y=x,this};var p=function(v,x){var S=this.internal.__cell__.padding,M=this.internal.__cell__.table_font_size,k=this.internal.scaleFactor;return Object.keys(v).map(function(A){var $=v[A];return this.splitTextToSize($.hasOwnProperty("text")?$.text:$,x[A]-S-S)},this).map(function(A){return this.getLineHeightFactor()*A.length*M/k+S+S},this).reduce(function(A,$){return Math.max(A,$)},0)};t.setTableHeaderRow=function(v){n.call(this),this.internal.__cell__.tableHeaderRow=v},t.printHeaderRow=function(v,x){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var S;if(i=!0,typeof this.internal.__cell__.headerFunction=="function"){var M=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new l(M[0],M[1],M[2],M[3],void 0,-1)}this.setFont(void 0,"bold");for(var k=[],A=0;A<this.internal.__cell__.tableHeaderRow.length;A+=1){S=this.internal.__cell__.tableHeaderRow[A].clone(),x&&(S.y=this.internal.__cell__.margins.top||0,k.push(S)),S.lineNumber=v;var $=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),f.call(this,S),this.setTextColor($)}k.length>0&&this.setTableHeaderRow(k),this.setFont(void 0,"normal"),i=!1}}($t.API);var Jg={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},$g=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Uh=Kg($g),e3=[100,200,300,400,500,600,700,800,900],Mb=Kg(e3);function jh(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),i=function(l){return Jg[l=l||"normal"]?l:"normal"}(t.style),n=function(l){if(!l)return 400;if(typeof l=="number")return l>=100&&l<=900&&l%100==0?l:400;if(/^\d00$/.test(l))return parseInt(l);switch(l){case"bold":return 700;case"normal":default:return 400}}(t.weight),a=function(l){return typeof Uh[l=l||"normal"]=="number"?l:"normal"}(t.stretch);return{family:e,style:i,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,i,n].join(" ")}}}function Og(t,e,i,n){var a;for(a=i;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=i;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var Lb={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Rg={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Pg(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Db(t,e,i){for(var n=(i=i||{}).defaultFontFamily||"times",a=Object.assign({},Lb,i.genericFontFamilies||{}),l=null,f=null,p=0;p<e.length;++p)if(a[(l=jh(e[p])).family]&&(l.family=a[l.family]),t.hasOwnProperty(l.family)){f=t[l.family];break}if(!(f=f||t[n]))throw new Error("Could not find a font-family for the rule '"+Pg(l)+"' and default family '"+n+"'.");if(f=function(v,x){if(x[v])return x[v];var S=Uh[v],M=S<=Uh.normal?-1:1,k=Og(x,$g,S,M);if(!k)throw new Error("Could not find a matching font-stretch value for "+v);return k}(l.stretch,f),f=function(v,x){if(x[v])return x[v];for(var S=Jg[v],M=0;M<S.length;++M)if(x[S[M]])return x[S[M]];throw new Error("Could not find a matching font-style for "+v)}(l.style,f),!(f=function(v,x){if(x[v])return x[v];if(v===400&&x[500])return x[500];if(v===500&&x[400])return x[400];var S=Mb[v],M=Og(x,e3,S,v<400?-1:1);if(!M)throw new Error("Could not find a matching font-weight for value "+v);return M}(l.weight,f)))throw new Error("Failed to resolve a font for the rule '"+Pg(l)+"'.");return f}function kg(t){return t.trimLeft()}function Ob(t,e){for(var i=0;i<t.length;){if(t.charAt(i)===e)return[t.substring(0,i),t.substring(i+1)];i+=1}return null}function Rb(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var j1,Bg,Fg,Oh=["times"];(function(t){var e,i,n,a,l,f,p,v,x,S=function(B){return B=B||{},this.isStrokeTransparent=B.isStrokeTransparent||!1,this.strokeOpacity=B.strokeOpacity||1,this.strokeStyle=B.strokeStyle||"#000000",this.fillStyle=B.fillStyle||"#000000",this.isFillTransparent=B.isFillTransparent||!1,this.fillOpacity=B.fillOpacity||1,this.font=B.font||"10px sans-serif",this.textBaseline=B.textBaseline||"alphabetic",this.textAlign=B.textAlign||"left",this.lineWidth=B.lineWidth||1,this.lineJoin=B.lineJoin||"miter",this.lineCap=B.lineCap||"butt",this.path=B.path||[],this.transform=B.transform!==void 0?B.transform.clone():new v,this.globalCompositeOperation=B.globalCompositeOperation||"normal",this.globalAlpha=B.globalAlpha||1,this.clip_path=B.clip_path||[],this.currentPoint=B.currentPoint||new f,this.miterLimit=B.miterLimit||10,this.lastPoint=B.lastPoint||new f,this.lineDashOffset=B.lineDashOffset||0,this.lineDash=B.lineDash||[],this.margin=B.margin||[0,0,0,0],this.prevPageLastElemOffset=B.prevPageLastElemOffset||0,this.ignoreClearRect=typeof B.ignoreClearRect!="boolean"||B.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new M(this),e=this.internal.f2,i=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,l=this.internal.getVerticalCoordinate,f=this.internal.Point,p=this.internal.Rectangle,v=this.internal.Matrix,x=new S}]);var M=function(B){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var ie=B;Object.defineProperty(this,"pdf",{get:function(){return ie}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(Ue){J=!!Ue}});var me=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return me},set:function(Ue){me=!!Ue}});var ve=0;Object.defineProperty(this,"posX",{get:function(){return ve},set:function(Ue){isNaN(Ue)||(ve=Ue)}});var Me=0;Object.defineProperty(this,"posY",{get:function(){return Me},set:function(Ue){isNaN(Ue)||(Me=Ue)}}),Object.defineProperty(this,"margin",{get:function(){return x.margin},set:function(Ue){var oe;typeof Ue=="number"?oe=[Ue,Ue,Ue,Ue]:((oe=new Array(4))[0]=Ue[0],oe[1]=Ue.length>=2?Ue[1]:oe[0],oe[2]=Ue.length>=3?Ue[2]:oe[0],oe[3]=Ue.length>=4?Ue[3]:oe[1]),x.margin=oe}});var Pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Pe},set:function(Ue){Pe=Ue}});var De=0;Object.defineProperty(this,"lastBreak",{get:function(){return De},set:function(Ue){De=Ue}});var st=[];Object.defineProperty(this,"pageBreaks",{get:function(){return st},set:function(Ue){st=Ue}}),Object.defineProperty(this,"ctx",{get:function(){return x},set:function(Ue){Ue instanceof S&&(x=Ue)}}),Object.defineProperty(this,"path",{get:function(){return x.path},set:function(Ue){x.path=Ue}});var Ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ke},set:function(Ue){Ke=Ue}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ue){var oe;oe=k(Ue),this.ctx.fillStyle=oe.style,this.ctx.isFillTransparent=oe.a===0,this.ctx.fillOpacity=oe.a,this.pdf.setFillColor(oe.r,oe.g,oe.b,{a:oe.a}),this.pdf.setTextColor(oe.r,oe.g,oe.b,{a:oe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ue){var oe=k(Ue);this.ctx.strokeStyle=oe.style,this.ctx.isStrokeTransparent=oe.a===0,this.ctx.strokeOpacity=oe.a,oe.a===0?this.pdf.setDrawColor(255,255,255):(oe.a,this.pdf.setDrawColor(oe.r,oe.g,oe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ue){["butt","round","square"].indexOf(Ue)!==-1&&(this.ctx.lineCap=Ue,this.pdf.setLineCap(Ue))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ue){isNaN(Ue)||(this.ctx.lineWidth=Ue,this.pdf.setLineWidth(Ue))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ue){["bevel","round","miter"].indexOf(Ue)!==-1&&(this.ctx.lineJoin=Ue,this.pdf.setLineJoin(Ue))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ue){isNaN(Ue)||(this.ctx.miterLimit=Ue,this.pdf.setMiterLimit(Ue))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ue){this.ctx.textBaseline=Ue}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ue){["right","end","center","left","start"].indexOf(Ue)!==-1&&(this.ctx.textAlign=Ue)}});var vt=null;function pt(Ue,oe){if(vt===null){var Et=function(Lt){var Oe=[];return Object.keys(Lt).forEach(function(ut){Lt[ut].forEach(function(bt){var dt=null;switch(bt){case"bold":dt={family:ut,weight:"bold"};break;case"italic":dt={family:ut,style:"italic"};break;case"bolditalic":dt={family:ut,weight:"bold",style:"italic"};break;case"":case"normal":dt={family:ut}}dt!==null&&(dt.ref={name:ut,style:bt},Oe.push(dt))})}),Oe}(Ue.getFontList());vt=function(Lt){for(var Oe={},ut=0;ut<Lt.length;++ut){var bt=jh(Lt[ut]),dt=bt.family,Bt=bt.stretch,Vt=bt.style,si=bt.weight;Oe[dt]=Oe[dt]||{},Oe[dt][Bt]=Oe[dt][Bt]||{},Oe[dt][Bt][Vt]=Oe[dt][Bt][Vt]||{},Oe[dt][Bt][Vt][si]=bt}return Oe}(Et.concat(oe))}return vt}var Ht=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ht},set:function(Ue){vt=null,Ht=Ue}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ue){var oe;if(this.ctx.font=Ue,(oe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ue))!==null){var Et=oe[1],Lt=(oe[2],oe[3]),Oe=oe[4],ut=(oe[5],oe[6]),bt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Oe)[2];Oe=Math.floor(bt==="px"?parseFloat(Oe)*this.pdf.internal.scaleFactor:bt==="em"?parseFloat(Oe)*this.pdf.getFontSize():parseFloat(Oe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Oe);var dt=function(Yt){var vi,at,ot=[],bi=Yt.trim();if(bi==="")return Oh;if(bi in Rg)return[Rg[bi]];for(;bi!=="";){switch(at=null,vi=(bi=kg(bi)).charAt(0)){case'"':case"'":at=Ob(bi.substring(1),vi);break;default:at=Rb(bi)}if(at===null||(ot.push(at[0]),(bi=kg(at[1]))!==""&&bi.charAt(0)!==","))return Oh;bi=bi.replace(/^,/,"")}return ot}(ut);if(this.fontFaces){var Bt=Db(pt(this.pdf,this.fontFaces),dt.map(function(Yt){return{family:Yt,stretch:"normal",weight:Lt,style:Et}}));this.pdf.setFont(Bt.ref.name,Bt.ref.style)}else{var Vt="";(Lt==="bold"||parseInt(Lt,10)>=700||Et==="bold")&&(Vt="bold"),Et==="italic"&&(Vt+="italic"),Vt.length===0&&(Vt="normal");for(var si="",ri={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ei=0;ei<dt.length;ei++){if(this.pdf.internal.getFont(dt[ei],Vt,{noFallback:!0,disableWarning:!0})!==void 0){si=dt[ei];break}if(Vt==="bolditalic"&&this.pdf.internal.getFont(dt[ei],"bold",{noFallback:!0,disableWarning:!0})!==void 0)si=dt[ei],Vt="bold";else if(this.pdf.internal.getFont(dt[ei],"normal",{noFallback:!0,disableWarning:!0})!==void 0){si=dt[ei],Vt="normal";break}}if(si===""){for(var Zi=0;Zi<dt.length;Zi++)if(ri[dt[Zi]]){si=ri[dt[Zi]];break}}si=si===""?"Times":si,this.pdf.setFont(si,Vt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ue){this.ctx.globalCompositeOperation=Ue}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ue){this.ctx.globalAlpha=Ue}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ue){this.ctx.lineDashOffset=Ue,ht.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ue){this.ctx.lineDash=Ue,ht.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ue){this.ctx.ignoreClearRect=!!Ue}})};M.prototype.setLineDash=function(B){this.lineDash=B},M.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},M.prototype.fill=function(){xe.call(this,"fill",!1)},M.prototype.stroke=function(){xe.call(this,"stroke",!1)},M.prototype.beginPath=function(){this.path=[{type:"begin"}]},M.prototype.moveTo=function(B,ie){if(isNaN(B)||isNaN(ie))throw wn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new f(B,ie));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new f(B,ie)},M.prototype.closePath=function(){var B=new f(0,0),ie=0;for(ie=this.path.length-1;ie!==-1;ie--)if(this.path[ie].type==="begin"&&gn(this.path[ie+1])==="object"&&typeof this.path[ie+1].x=="number"){B=new f(this.path[ie+1].x,this.path[ie+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new f(B.x,B.y)},M.prototype.lineTo=function(B,ie){if(isNaN(B)||isNaN(ie))throw wn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new f(B,ie));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new f(J.x,J.y)},M.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),xe.call(this,null,!0)},M.prototype.quadraticCurveTo=function(B,ie,J,me){if(isNaN(J)||isNaN(me)||isNaN(B)||isNaN(ie))throw wn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ve=this.ctx.transform.applyToPoint(new f(J,me)),Me=this.ctx.transform.applyToPoint(new f(B,ie));this.path.push({type:"qct",x1:Me.x,y1:Me.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new f(ve.x,ve.y)},M.prototype.bezierCurveTo=function(B,ie,J,me,ve,Me){if(isNaN(ve)||isNaN(Me)||isNaN(B)||isNaN(ie)||isNaN(J)||isNaN(me))throw wn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Pe=this.ctx.transform.applyToPoint(new f(ve,Me)),De=this.ctx.transform.applyToPoint(new f(B,ie)),st=this.ctx.transform.applyToPoint(new f(J,me));this.path.push({type:"bct",x1:De.x,y1:De.y,x2:st.x,y2:st.y,x:Pe.x,y:Pe.y}),this.ctx.lastPoint=new f(Pe.x,Pe.y)},M.prototype.arc=function(B,ie,J,me,ve,Me){if(isNaN(B)||isNaN(ie)||isNaN(J)||isNaN(me)||isNaN(ve))throw wn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Me=!!Me,!this.ctx.transform.isIdentity){var Pe=this.ctx.transform.applyToPoint(new f(B,ie));B=Pe.x,ie=Pe.y;var De=this.ctx.transform.applyToPoint(new f(0,J)),st=this.ctx.transform.applyToPoint(new f(0,0));J=Math.sqrt(Math.pow(De.x-st.x,2)+Math.pow(De.y-st.y,2))}Math.abs(ve-me)>=2*Math.PI&&(me=0,ve=2*Math.PI),this.path.push({type:"arc",x:B,y:ie,radius:J,startAngle:me,endAngle:ve,counterclockwise:Me})},M.prototype.arcTo=function(B,ie,J,me,ve){throw new Error("arcTo not implemented.")},M.prototype.rect=function(B,ie,J,me){if(isNaN(B)||isNaN(ie)||isNaN(J)||isNaN(me))throw wn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(B,ie),this.lineTo(B+J,ie),this.lineTo(B+J,ie+me),this.lineTo(B,ie+me),this.lineTo(B,ie),this.lineTo(B+J,ie),this.lineTo(B,ie)},M.prototype.fillRect=function(B,ie,J,me){if(isNaN(B)||isNaN(ie)||isNaN(J)||isNaN(me))throw wn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!A.call(this)){var ve={};this.lineCap!=="butt"&&(ve.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ve.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(B,ie,J,me),this.fill(),ve.hasOwnProperty("lineCap")&&(this.lineCap=ve.lineCap),ve.hasOwnProperty("lineJoin")&&(this.lineJoin=ve.lineJoin)}},M.prototype.strokeRect=function(B,ie,J,me){if(isNaN(B)||isNaN(ie)||isNaN(J)||isNaN(me))throw wn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");$.call(this)||(this.beginPath(),this.rect(B,ie,J,me),this.stroke())},M.prototype.clearRect=function(B,ie,J,me){if(isNaN(B)||isNaN(ie)||isNaN(J)||isNaN(me))throw wn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(B,ie,J,me))},M.prototype.save=function(B){B=typeof B!="boolean"||B;for(var ie=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(ie),B){this.ctx.fontSize=this.pdf.internal.getFontSize();var me=new S(this.ctx);this.ctxStack.push(this.ctx),this.ctx=me}},M.prototype.restore=function(B){B=typeof B!="boolean"||B;for(var ie=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(ie),B&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},M.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var k=function(B){var ie,J,me,ve;if(B.isCanvasGradient===!0&&(B=B.getColor()),!B)return{r:0,g:0,b:0,a:0,style:B};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(B))ie=0,J=0,me=0,ve=0;else{var Me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(B);if(Me!==null)ie=parseInt(Me[1]),J=parseInt(Me[2]),me=parseInt(Me[3]),ve=1;else if((Me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(B))!==null)ie=parseInt(Me[1]),J=parseInt(Me[2]),me=parseInt(Me[3]),ve=parseFloat(Me[4]);else{if(ve=1,typeof B=="string"&&B.charAt(0)!=="#"){var Pe=new Gg(B);B=Pe.ok?Pe.toHex():"#000000"}B.length===4?(ie=B.substring(1,2),ie+=ie,J=B.substring(2,3),J+=J,me=B.substring(3,4),me+=me):(ie=B.substring(1,3),J=B.substring(3,5),me=B.substring(5,7)),ie=parseInt(ie,16),J=parseInt(J,16),me=parseInt(me,16)}}return{r:ie,g:J,b:me,a:ve,style:B}},A=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},$=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};M.prototype.fillText=function(B,ie,J,me){if(isNaN(ie)||isNaN(J)||typeof B!="string")throw wn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(me=isNaN(me)?void 0:me,!A.call(this)){var ve=Ie(this.ctx.transform.rotation),Me=this.ctx.transform.scaleX;X.call(this,{text:B,x:ie,y:J,scale:Me,angle:ve,align:this.textAlign,maxWidth:me})}},M.prototype.strokeText=function(B,ie,J,me){if(isNaN(ie)||isNaN(J)||typeof B!="string")throw wn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!$.call(this)){me=isNaN(me)?void 0:me;var ve=Ie(this.ctx.transform.rotation),Me=this.ctx.transform.scaleX;X.call(this,{text:B,x:ie,y:J,scale:Me,renderingMode:"stroke",angle:ve,align:this.textAlign,maxWidth:me})}},M.prototype.measureText=function(B){if(typeof B!="string")throw wn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var ie=this.pdf,J=this.pdf.internal.scaleFactor,me=ie.internal.getFontSize(),ve=ie.getStringUnitWidth(B)*me/ie.internal.scaleFactor,Me=function(Pe){var De=(Pe=Pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return De}}),this};return new Me({width:ve*=Math.round(96*J/72*1e4)/1e4})},M.prototype.scale=function(B,ie){if(isNaN(B)||isNaN(ie))throw wn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new v(B,0,0,ie,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},M.prototype.rotate=function(B){if(isNaN(B))throw wn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var ie=new v(Math.cos(B),Math.sin(B),-Math.sin(B),Math.cos(B),0,0);this.ctx.transform=this.ctx.transform.multiply(ie)},M.prototype.translate=function(B,ie){if(isNaN(B)||isNaN(ie))throw wn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new v(1,0,0,1,B,ie);this.ctx.transform=this.ctx.transform.multiply(J)},M.prototype.transform=function(B,ie,J,me,ve,Me){if(isNaN(B)||isNaN(ie)||isNaN(J)||isNaN(me)||isNaN(ve)||isNaN(Me))throw wn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Pe=new v(B,ie,J,me,ve,Me);this.ctx.transform=this.ctx.transform.multiply(Pe)},M.prototype.setTransform=function(B,ie,J,me,ve,Me){B=isNaN(B)?1:B,ie=isNaN(ie)?0:ie,J=isNaN(J)?0:J,me=isNaN(me)?1:me,ve=isNaN(ve)?0:ve,Me=isNaN(Me)?0:Me,this.ctx.transform=new v(B,ie,J,me,ve,Me)};var z=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};M.prototype.drawImage=function(B,ie,J,me,ve,Me,Pe,De,st){var Ke=this.pdf.getImageProperties(B),vt=1,pt=1,Ht=1,Ue=1;me!==void 0&&De!==void 0&&(Ht=De/me,Ue=st/ve,vt=Ke.width/me*De/me,pt=Ke.height/ve*st/ve),Me===void 0&&(Me=ie,Pe=J,ie=0,J=0),me!==void 0&&De===void 0&&(De=me,st=ve),me===void 0&&De===void 0&&(De=Ke.width,st=Ke.height);for(var oe,Et=this.ctx.transform.decompose(),Lt=Ie(Et.rotate.shx),Oe=new v,ut=(Oe=(Oe=(Oe=Oe.multiply(Et.translate)).multiply(Et.skew)).multiply(Et.scale)).applyToRectangle(new p(Me-ie*Ht,Pe-J*Ue,me*vt,ve*pt)),bt=K.call(this,ut),dt=[],Bt=0;Bt<bt.length;Bt+=1)dt.indexOf(bt[Bt])===-1&&dt.push(bt[Bt]);if(ge(dt),this.autoPaging)for(var Vt=dt[0],si=dt[dt.length-1],ri=Vt;ri<si+1;ri++){this.pdf.setPage(ri);var ei=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Zi=ri===1?this.posY+this.margin[0]:this.margin[0],Yt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vi=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],at=ri===1?0:Yt+(ri-2)*vi;if(this.ctx.clip_path.length!==0){var ot=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Y(oe,this.posX+this.margin[3],-at+Zi+this.ctx.prevPageLastElemOffset),ce.call(this,"fill",!0),this.path=ot}var bi=JSON.parse(JSON.stringify(ut));bi=Y([bi],this.posX+this.margin[3],-at+Zi+this.ctx.prevPageLastElemOffset)[0];var Ei=(ri>Vt||ri<si)&&z.call(this);Ei&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ei,vi,null).clip().discardPath()),this.pdf.addImage(B,"JPEG",bi.x,bi.y,bi.w,bi.h,null,null,Lt),Ei&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(B,"JPEG",ut.x,ut.y,ut.w,ut.h,null,null,Lt)};var K=function(B,ie,J){var me=[];ie=ie||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ve=this.posY+this.ctx.prevPageLastElemOffset;switch(B.type){default:case"mt":case"lt":me.push(Math.floor((B.y+ve)/J)+1);break;case"arc":me.push(Math.floor((B.y+ve-B.radius)/J)+1),me.push(Math.floor((B.y+ve+B.radius)/J)+1);break;case"qct":var Me=Ze(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x,B.y);me.push(Math.floor((Me.y+ve)/J)+1),me.push(Math.floor((Me.y+Me.h+ve)/J)+1);break;case"bct":var Pe=je(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x2,B.y2,B.x,B.y);me.push(Math.floor((Pe.y+ve)/J)+1),me.push(Math.floor((Pe.y+Pe.h+ve)/J)+1);break;case"rect":me.push(Math.floor((B.y+ve)/J)+1),me.push(Math.floor((B.y+B.h+ve)/J)+1)}for(var De=0;De<me.length;De+=1)for(;this.pdf.internal.getNumberOfPages()<me[De];)U.call(this);return me},U=function(){var B=this.fillStyle,ie=this.strokeStyle,J=this.font,me=this.lineCap,ve=this.lineWidth,Me=this.lineJoin;this.pdf.addPage(),this.fillStyle=B,this.strokeStyle=ie,this.font=J,this.lineCap=me,this.lineWidth=ve,this.lineJoin=Me},Y=function(B,ie,J){for(var me=0;me<B.length;me++)switch(B[me].type){case"bct":B[me].x2+=ie,B[me].y2+=J;case"qct":B[me].x1+=ie,B[me].y1+=J;case"mt":case"lt":case"arc":default:B[me].x+=ie,B[me].y+=J}return B},ge=function(B){return B.sort(function(ie,J){return ie-J})},xe=function(B,ie){for(var J,me,ve=this.fillStyle,Me=this.strokeStyle,Pe=this.lineCap,De=this.lineWidth,st=Math.abs(De*this.ctx.transform.scaleX),Ke=this.lineJoin,vt=JSON.parse(JSON.stringify(this.path)),pt=JSON.parse(JSON.stringify(this.path)),Ht=[],Ue=0;Ue<pt.length;Ue++)if(pt[Ue].x!==void 0)for(var oe=K.call(this,pt[Ue]),Et=0;Et<oe.length;Et+=1)Ht.indexOf(oe[Et])===-1&&Ht.push(oe[Et]);for(var Lt=0;Lt<Ht.length;Lt++)for(;this.pdf.internal.getNumberOfPages()<Ht[Lt];)U.call(this);if(ge(Ht),this.autoPaging)for(var Oe=Ht[0],ut=Ht[Ht.length-1],bt=Oe;bt<ut+1;bt++){this.pdf.setPage(bt),this.fillStyle=ve,this.strokeStyle=Me,this.lineCap=Pe,this.lineWidth=st,this.lineJoin=Ke;var dt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Bt=bt===1?this.posY+this.margin[0]:this.margin[0],Vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],si=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ri=bt===1?0:Vt+(bt-2)*si;if(this.ctx.clip_path.length!==0){var ei=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Y(J,this.posX+this.margin[3],-ri+Bt+this.ctx.prevPageLastElemOffset),ce.call(this,B,!0),this.path=ei}if(me=JSON.parse(JSON.stringify(vt)),this.path=Y(me,this.posX+this.margin[3],-ri+Bt+this.ctx.prevPageLastElemOffset),ie===!1||bt===0){var Zi=(bt>Oe||bt<ut)&&z.call(this);Zi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dt,si,null).clip().discardPath()),ce.call(this,B,ie),Zi&&this.pdf.restoreGraphicsState()}this.lineWidth=De}else this.lineWidth=st,ce.call(this,B,ie),this.lineWidth=De;this.path=vt},ce=function(B,ie){if((B!=="stroke"||ie||!$.call(this))&&(B==="stroke"||ie||!A.call(this))){for(var J,me,ve=[],Me=this.path,Pe=0;Pe<Me.length;Pe++){var De=Me[Pe];switch(De.type){case"begin":ve.push({begin:!0});break;case"close":ve.push({close:!0});break;case"mt":ve.push({start:De,deltas:[],abs:[]});break;case"lt":var st=ve.length;if(Me[Pe-1]&&!isNaN(Me[Pe-1].x)&&(J=[De.x-Me[Pe-1].x,De.y-Me[Pe-1].y],st>0)){for(;st>=0;st--)if(ve[st-1].close!==!0&&ve[st-1].begin!==!0){ve[st-1].deltas.push(J),ve[st-1].abs.push(De);break}}break;case"bct":J=[De.x1-Me[Pe-1].x,De.y1-Me[Pe-1].y,De.x2-Me[Pe-1].x,De.y2-Me[Pe-1].y,De.x-Me[Pe-1].x,De.y-Me[Pe-1].y],ve[ve.length-1].deltas.push(J);break;case"qct":var Ke=Me[Pe-1].x+2/3*(De.x1-Me[Pe-1].x),vt=Me[Pe-1].y+2/3*(De.y1-Me[Pe-1].y),pt=De.x+2/3*(De.x1-De.x),Ht=De.y+2/3*(De.y1-De.y),Ue=De.x,oe=De.y;J=[Ke-Me[Pe-1].x,vt-Me[Pe-1].y,pt-Me[Pe-1].x,Ht-Me[Pe-1].y,Ue-Me[Pe-1].x,oe-Me[Pe-1].y],ve[ve.length-1].deltas.push(J);break;case"arc":ve.push({deltas:[],abs:[],arc:!0}),Array.isArray(ve[ve.length-1].abs)&&ve[ve.length-1].abs.push(De)}}me=ie?null:B==="stroke"?"stroke":"fill";for(var Et=!1,Lt=0;Lt<ve.length;Lt++)if(ve[Lt].arc)for(var Oe=ve[Lt].abs,ut=0;ut<Oe.length;ut++){var bt=Oe[ut];bt.type==="arc"?le.call(this,bt.x,bt.y,bt.radius,bt.startAngle,bt.endAngle,bt.counterclockwise,void 0,ie,!Et):G.call(this,bt.x,bt.y),Et=!0}else if(ve[Lt].close===!0)this.pdf.internal.out("h"),Et=!1;else if(ve[Lt].begin!==!0){var dt=ve[Lt].start.x,Bt=ve[Lt].start.y;ae.call(this,ve[Lt].deltas,dt,Bt),Et=!0}me&&Ge.call(this,me),ie&&Ae.call(this)}},Re=function(B){var ie=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=ie*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return B-J;case"top":return B+ie-J;case"hanging":return B+ie-2*J;case"middle":return B+ie/2-J;case"ideographic":return B;case"alphabetic":default:return B}},ne=function(B){return B+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};M.prototype.createLinearGradient=function(){var B=function(){};return B.colorStops=[],B.addColorStop=function(ie,J){this.colorStops.push([ie,J])},B.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},B.isCanvasGradient=!0,B},M.prototype.createPattern=function(){return this.createLinearGradient()},M.prototype.createRadialGradient=function(){return this.createLinearGradient()};var le=function(B,ie,J,me,ve,Me,Pe,De,st){for(var Ke=Be.call(this,J,me,ve,Me),vt=0;vt<Ke.length;vt++){var pt=Ke[vt];vt===0&&(st?W.call(this,pt.x1+B,pt.y1+ie):G.call(this,pt.x1+B,pt.y1+ie)),be.call(this,B,ie,pt.x2,pt.y2,pt.x3,pt.y3,pt.x4,pt.y4)}De?Ae.call(this):Ge.call(this,Pe)},Ge=function(B){switch(B){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Ae=function(){this.pdf.clip(),this.pdf.discardPath()},W=function(B,ie){this.pdf.internal.out(i(B)+" "+n(ie)+" m")},X=function(B){var ie;switch(B.align){case"right":case"end":ie="right";break;case"center":ie="center";break;case"left":case"start":default:ie="left"}var J=this.pdf.getTextDimensions(B.text),me=Re.call(this,B.y),ve=ne.call(this,me)-J.h,Me=this.ctx.transform.applyToPoint(new f(B.x,me)),Pe=this.ctx.transform.decompose(),De=new v;De=(De=(De=De.multiply(Pe.translate)).multiply(Pe.skew)).multiply(Pe.scale);for(var st,Ke,vt,pt=this.ctx.transform.applyToRectangle(new p(B.x,me,J.w,J.h)),Ht=De.applyToRectangle(new p(B.x,ve,J.w,J.h)),Ue=K.call(this,Ht),oe=[],Et=0;Et<Ue.length;Et+=1)oe.indexOf(Ue[Et])===-1&&oe.push(Ue[Et]);if(ge(oe),this.autoPaging)for(var Lt=oe[0],Oe=oe[oe.length-1],ut=Lt;ut<Oe+1;ut++){this.pdf.setPage(ut);var bt=ut===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Bt=this.pdf.internal.pageSize.height-this.margin[2],Vt=Bt-this.margin[0],si=this.pdf.internal.pageSize.width-this.margin[1],ri=si-this.margin[3],ei=ut===1?0:dt+(ut-2)*Vt;if(this.ctx.clip_path.length!==0){var Zi=this.path;st=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Y(st,this.posX+this.margin[3],-1*ei+bt),ce.call(this,"fill",!0),this.path=Zi}var Yt=Y([JSON.parse(JSON.stringify(Ht))],this.posX+this.margin[3],-ei+bt+this.ctx.prevPageLastElemOffset)[0];B.scale>=.01&&(Ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ke*B.scale),vt=this.lineWidth,this.lineWidth=vt*B.scale);var vi=this.autoPaging!=="text";if(vi||Yt.y+Yt.h<=Bt){if(vi||Yt.y>=bt&&Yt.x<=si){var at=vi?B.text:this.pdf.splitTextToSize(B.text,B.maxWidth||si-Yt.x)[0],ot=Y([JSON.parse(JSON.stringify(pt))],this.posX+this.margin[3],-ei+bt+this.ctx.prevPageLastElemOffset)[0],bi=vi&&(ut>Lt||ut<Oe)&&z.call(this);bi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ri,Vt,null).clip().discardPath()),this.pdf.text(at,ot.x,ot.y,{angle:B.angle,align:ie,renderingMode:B.renderingMode}),bi&&this.pdf.restoreGraphicsState()}}else Yt.y<Bt&&(this.ctx.prevPageLastElemOffset+=Bt-Yt.y);B.scale>=.01&&(this.pdf.setFontSize(Ke),this.lineWidth=vt)}else B.scale>=.01&&(Ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ke*B.scale),vt=this.lineWidth,this.lineWidth=vt*B.scale),this.pdf.text(B.text,Me.x+this.posX,Me.y+this.posY,{angle:B.angle,align:ie,renderingMode:B.renderingMode,maxWidth:B.maxWidth}),B.scale>=.01&&(this.pdf.setFontSize(Ke),this.lineWidth=vt)},G=function(B,ie,J,me){J=J||0,me=me||0,this.pdf.internal.out(i(B+J)+" "+n(ie+me)+" l")},ae=function(B,ie,J){return this.pdf.lines(B,ie,J,null,null)},be=function(B,ie,J,me,ve,Me,Pe,De){this.pdf.internal.out([e(a(J+B)),e(l(me+ie)),e(a(ve+B)),e(l(Me+ie)),e(a(Pe+B)),e(l(De+ie)),"c"].join(" "))},Be=function(B,ie,J,me){for(var ve=2*Math.PI,Me=Math.PI/2;ie>J;)ie-=ve;var Pe=Math.abs(J-ie);Pe<ve&&me&&(Pe=ve-Pe);for(var De=[],st=me?-1:1,Ke=ie;Pe>1e-5;){var vt=Ke+st*Math.min(Pe,Me);De.push(ze.call(this,B,Ke,vt)),Pe-=Math.abs(vt-Ke),Ke=vt}return De},ze=function(B,ie,J){var me=(J-ie)/2,ve=B*Math.cos(me),Me=B*Math.sin(me),Pe=ve,De=-Me,st=Pe*Pe+De*De,Ke=st+Pe*ve+De*Me,vt=4/3*(Math.sqrt(2*st*Ke)-Ke)/(Pe*Me-De*ve),pt=Pe-vt*De,Ht=De+vt*Pe,Ue=pt,oe=-Ht,Et=me+ie,Lt=Math.cos(Et),Oe=Math.sin(Et);return{x1:B*Math.cos(ie),y1:B*Math.sin(ie),x2:pt*Lt-Ht*Oe,y2:pt*Oe+Ht*Lt,x3:Ue*Lt-oe*Oe,y3:Ue*Oe+oe*Lt,x4:B*Math.cos(J),y4:B*Math.sin(J)}},Ie=function(B){return 180*B/Math.PI},Ze=function(B,ie,J,me,ve,Me){var Pe=B+.5*(J-B),De=ie+.5*(me-ie),st=ve+.5*(J-ve),Ke=Me+.5*(me-Me),vt=Math.min(B,ve,Pe,st),pt=Math.max(B,ve,Pe,st),Ht=Math.min(ie,Me,De,Ke),Ue=Math.max(ie,Me,De,Ke);return new p(vt,Ht,pt-vt,Ue-Ht)},je=function(B,ie,J,me,ve,Me,Pe,De){var st,Ke,vt,pt,Ht,Ue,oe,Et,Lt,Oe,ut,bt,dt,Bt,Vt=J-B,si=me-ie,ri=ve-J,ei=Me-me,Zi=Pe-ve,Yt=De-Me;for(Ke=0;Ke<41;Ke++)Lt=(oe=(vt=B+(st=Ke/40)*Vt)+st*((Ht=J+st*ri)-vt))+st*(Ht+st*(ve+st*Zi-Ht)-oe),Oe=(Et=(pt=ie+st*si)+st*((Ue=me+st*ei)-pt))+st*(Ue+st*(Me+st*Yt-Ue)-Et),Ke==0?(ut=Lt,bt=Oe,dt=Lt,Bt=Oe):(ut=Math.min(ut,Lt),bt=Math.min(bt,Oe),dt=Math.max(dt,Lt),Bt=Math.max(Bt,Oe));return new p(Math.round(ut),Math.round(bt),Math.round(dt-ut),Math.round(Bt-bt))},ht=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var B,ie,J=(B=this.ctx.lineDash,ie=this.ctx.lineDashOffset,JSON.stringify({lineDash:B,lineDashOffset:ie}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})($t.API),function(t){var e=function(l){var f,p,v,x,S,M,k,A,$,z;for(/[^\x00-\xFF]/.test(l),p=[],v=0,x=(l+=f="\0\0\0\0".slice(l.length%4||4)).length;x>v;v+=4)(S=(l.charCodeAt(v)<<24)+(l.charCodeAt(v+1)<<16)+(l.charCodeAt(v+2)<<8)+l.charCodeAt(v+3))!==0?(M=(S=((S=((S=((S=(S-(z=S%85))/85)-($=S%85))/85)-(A=S%85))/85)-(k=S%85))/85)%85,p.push(M+33,k+33,A+33,$+33,z+33)):p.push(122);return function(K,U){for(var Y=U;Y>0;Y--)K.pop()}(p,f.length),String.fromCharCode.apply(String,p)+"~>"},i=function(l){var f,p,v,x,S,M=String,k="length",A=255,$="charCodeAt",z="slice",K="replace";for(l[z](-2),l=l[z](0,-2)[K](/\s/g,"")[K]("z","!!!!!"),v=[],x=0,S=(l+=f="uuuuu"[z](l[k]%5||5))[k];S>x;x+=5)p=52200625*(l[$](x)-33)+614125*(l[$](x+1)-33)+7225*(l[$](x+2)-33)+85*(l[$](x+3)-33)+(l[$](x+4)-33),v.push(A&p>>24,A&p>>16,A&p>>8,A&p);return function(U,Y){for(var ge=Y;ge>0;ge--)U.pop()}(v,f[k]),M.fromCharCode.apply(M,v)},n=function(l){var f=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),f.test(l)===!1)return"";for(var p="",v=0;v<l.length;v+=2)p+=String.fromCharCode("0x"+(l[v]+l[v+1]));return p},a=function(l){for(var f=new Uint8Array(l.length),p=l.length;p--;)f[p]=l.charCodeAt(p);return l=(f=B1(f)).reduce(function(v,x){return v+String.fromCharCode(x)},"")};t.processDataByFilters=function(l,f){var p=0,v=l||"",x=[];for(typeof(f=f||[])=="string"&&(f=[f]),p=0;p<f.length;p+=1)switch(f[p]){case"ASCII85Decode":case"/ASCII85Decode":v=i(v),x.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":v=e(v),x.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":v=n(v),x.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":v=v.split("").map(function(S){return("0"+S.charCodeAt().toString(16)).slice(-2)}).join("")+">",x.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":v=a(v),x.push("/FlateDecode");break;default:throw new Error('The filter: "'+f[p]+'" is not implemented')}return{data:v,reverseChain:x.reverse().join(" ")}}}($t.API),function(t){t.loadFile=function(e,i,n){return function(a,l,f){l=l!==!1,f=typeof f=="function"?f:function(){};var p=void 0;try{p=function(v,x,S){var M=new XMLHttpRequest,k=0,A=function($){var z=$.length,K=[],U=String.fromCharCode;for(k=0;k<z;k+=1)K.push(U(255&$.charCodeAt(k)));return K.join("")};if(M.open("GET",v,!x),M.overrideMimeType("text/plain; charset=x-user-defined"),x===!1&&(M.onload=function(){M.status===200?S(A(this.responseText)):S(void 0)}),M.send(null),x&&M.status===200)return A(M.responseText)}(a,l,f)}catch{}return p}(e,i,n)},t.loadImageFile=t.loadFile}($t.API),function(t){function e(){return(ti.html2canvas?Promise.resolve(ti.html2canvas):import("./chunk-QPGIO4AI.js")).catch(function(f){return Promise.reject(new Error("Could not load html2canvas: "+f))}).then(function(f){return f.default?f.default:f})}function i(){return(ti.DOMPurify?Promise.resolve(ti.DOMPurify):import("./chunk-RFICJUP4.js")).catch(function(f){return Promise.reject(new Error("Could not load dompurify: "+f))}).then(function(f){return f.default?f.default:f})}var n=function(f){var p=gn(f);return p==="undefined"?"undefined":p==="string"||f instanceof String?"string":p==="number"||f instanceof Number?"number":p==="function"||f instanceof Function?"function":f&&f.constructor===Array?"array":f&&f.nodeType===1?"element":p==="object"?"object":"unknown"},a=function(f,p){var v=document.createElement(f);for(var x in p.className&&(v.className=p.className),p.innerHTML&&p.dompurify&&(v.innerHTML=p.dompurify.sanitize(p.innerHTML)),p.style)v.style[x]=p.style[x];return v},l=function f(p){var v=Object.assign(f.convert(Promise.resolve()),JSON.parse(JSON.stringify(f.template))),x=f.convert(Promise.resolve(),v);return x=(x=x.setProgress(1,f,1,[f])).set(p)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(f,p){return f.__proto__=p||l.prototype,f},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(f,p){return this.then(function(){switch(p=p||function(v){switch(n(v)){case"string":return"string";case"element":return v.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(f)){case"string":return this.then(i).then(function(v){return this.set({src:a("div",{innerHTML:f,dompurify:v})})});case"element":return this.set({src:f});case"canvas":return this.set({canvas:f});case"img":return this.set({img:f});default:return this.error("Unknown source type.")}})},l.prototype.to=function(f){switch(f){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var f={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},p=function v(x,S){for(var M=x.nodeType===3?document.createTextNode(x.nodeValue):x.cloneNode(!1),k=x.firstChild;k;k=k.nextSibling)S!==!0&&k.nodeType===1&&k.nodeName==="SCRIPT"||M.appendChild(v(k,S));return x.nodeType===1&&(x.nodeName==="CANVAS"?(M.width=x.width,M.height=x.height,M.getContext("2d").drawImage(x,0,0)):x.nodeName!=="TEXTAREA"&&x.nodeName!=="SELECT"||(M.value=x.value),M.addEventListener("load",function(){M.scrollTop=x.scrollTop,M.scrollLeft=x.scrollLeft},!0)),M}(this.prop.src,this.opt.html2canvas.javascriptEnabled);p.tagName==="BODY"&&(f.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:f}),this.prop.container.appendChild(p),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var f=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(f).then(e).then(function(p){var v=Object.assign({},this.opt.html2canvas);return delete v.onrendered,p(this.prop.container,v)}).then(function(p){(this.opt.html2canvas.onrendered||function(){})(p),this.prop.canvas=p,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var f=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(f).then(e).then(function(p){var v=this.opt.jsPDF,x=this.opt.fontFaces,S=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,M=Object.assign({async:!0,allowTaint:!0,scale:S,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete M.onrendered,v.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,v.context2d.posX=this.opt.x,v.context2d.posY=this.opt.y,v.context2d.margin=this.opt.margin,v.context2d.fontFaces=x,x)for(var k=0;k<x.length;++k){var A=x[k],$=A.src.find(function(z){return z.format==="truetype"});$&&v.addFont($.url,A.ref.name,A.ref.style)}return M.windowHeight=M.windowHeight||0,M.windowHeight=M.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):M.windowHeight,v.context2d.save(!0),p(this.prop.container,M)}).then(function(p){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(p),this.prop.canvas=p,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var f=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=f})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(f,p,v){return(v=v||"pdf").toLowerCase()==="img"||v.toLowerCase()==="image"?this.outputImg(f,p):this.outputPdf(f,p)},l.prototype.outputPdf=function(f,p){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(f,p)})},l.prototype.outputImg=function(f){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(f){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+f+'" is not supported.'}})},l.prototype.save=function(f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(f?{filename:f}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(f){if(n(f)!=="object")return this;var p=Object.keys(f||{}).map(function(v){if(v in l.template.prop)return function(){this.prop[v]=f[v]};switch(v){case"margin":return this.setMargin.bind(this,f.margin);case"jsPDF":return function(){return this.opt.jsPDF=f.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,f.pageSize);default:return function(){this.opt[v]=f[v]}}},this);return this.then(function(){return this.thenList(p)})},l.prototype.get=function(f,p){return this.then(function(){var v=f in l.template.prop?this.prop[f]:this.opt[f];return p?p(v):v})},l.prototype.setMargin=function(f){return this.then(function(){switch(n(f)){case"number":f=[f,f,f,f];case"array":if(f.length===2&&(f=[f[0],f[1],f[0],f[1]]),f.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=f}).then(this.setPageSize)},l.prototype.setPageSize=function(f){function p(v,x){return Math.floor(v*x/72*96)}return this.then(function(){(f=f||$t.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(f.inner={width:f.width-this.opt.margin[1]-this.opt.margin[3],height:f.height-this.opt.margin[0]-this.opt.margin[2]},f.inner.px={width:p(f.inner.width,f.k),height:p(f.inner.height,f.k)},f.inner.ratio=f.inner.height/f.inner.width),this.prop.pageSize=f})},l.prototype.setProgress=function(f,p,v,x){return f!=null&&(this.progress.val=f),p!=null&&(this.progress.state=p),v!=null&&(this.progress.n=v),x!=null&&(this.progress.stack=x),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(f,p,v,x){return this.setProgress(f?this.progress.val+f:null,p||null,v?this.progress.n+v:null,x?this.progress.stack.concat(x):null)},l.prototype.then=function(f,p){var v=this;return this.thenCore(f,p,function(x,S){return v.updateProgress(null,null,1,[x]),Promise.prototype.then.call(this,function(M){return v.updateProgress(null,x),M}).then(x,S).then(function(M){return v.updateProgress(1),M})})},l.prototype.thenCore=function(f,p,v){v=v||Promise.prototype.then,f&&(f=f.bind(this)),p&&(p=p.bind(this));var x=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:l.convert(Object.assign({},this),Promise.prototype),S=v.call(x,f,p);return l.convert(S,this.__proto__)},l.prototype.thenExternal=function(f,p){return Promise.prototype.then.call(this,f,p)},l.prototype.thenList=function(f){var p=this;return f.forEach(function(v){p=p.thenCore(v)}),p},l.prototype.catch=function(f){f&&(f=f.bind(this));var p=Promise.prototype.catch.call(this,f);return l.convert(p,this)},l.prototype.catchExternal=function(f){return Promise.prototype.catch.call(this,f)},l.prototype.error=function(f){return this.then(function(){throw new Error(f)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,$t.getPageSize=function(f,p,v){if(gn(f)==="object"){var x=f;f=x.orientation,p=x.unit||p,v=x.format||v}p=p||"mm",v=v||"a4",f=(""+(f||"P")).toLowerCase();var S,M=(""+v).toLowerCase(),k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(p){case"pt":S=1;break;case"mm":S=72/25.4;break;case"cm":S=72/2.54;break;case"in":S=72;break;case"px":S=.75;break;case"pc":case"em":S=12;break;case"ex":S=6;break;default:throw"Invalid unit: "+p}var A,$=0,z=0;if(k.hasOwnProperty(M))$=k[M][1]/S,z=k[M][0]/S;else try{$=v[1],z=v[0]}catch{throw new Error("Invalid format: "+v)}if(f==="p"||f==="portrait")f="p",z>$&&(A=z,z=$,$=A);else{if(f!=="l"&&f!=="landscape")throw"Invalid orientation: "+f;f="l",$>z&&(A=z,z=$,$=A)}return{width:z,height:$,unit:p,k:S,orientation:f}},t.html=function(f,p){(p=p||{}).callback=p.callback||function(){},p.html2canvas=p.html2canvas||{},p.html2canvas.canvas=p.html2canvas.canvas||this.canvas,p.jsPDF=p.jsPDF||this,p.fontFaces=p.fontFaces?p.fontFaces.map(jh):null;var v=new l(p);return p.worker?v:v.from(f).doCallback()}}($t.API),$t.API.addJS=function(t){return Fg=t,this.internal.events.subscribe("postPutResources",function(){j1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(j1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Bg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Fg+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){j1!==void 0&&Bg!==void 0&&this.internal.out("/Names <</JavaScript "+j1+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var i=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=i.outline.render().split(/\r\n/),l=0;l<a.length;l++){var f=a[l],p=n.exec(f);if(p!=null){var v=p[1];i.internal.newObjectDeferredBegin(v,!1)}i.internal.write(f)}if(this.outline.createNamedDestinations){var x=this.internal.pages.length,S=[];for(l=0;l<x;l++){var M=i.internal.newObject();S.push(M);var k=i.internal.getPageInfo(l+1);i.internal.write("<< /D["+k.objId+" 0 R /XYZ null null null]>> endobj")}var A=i.internal.newObject();for(i.internal.write("<< /Names [ "),l=0;l<S.length;l++)i.internal.write("(page_"+(l+1)+")"+S[l]+" 0 R");i.internal.write(" ] >>","endobj"),e=i.internal.newObject(),i.internal.write("<< /Dests "+A+" 0 R"),i.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var i=this;i.outline={createNamedDestinations:!1,root:{children:[]}},i.outline.add=function(n,a,l){var f={title:a,options:l,children:[]};return n==null&&(n=this.root),n.children.push(f),f},i.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=i,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},i.outline.genIds_r=function(n){n.id=i.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},i.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},i.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,l=0;l<n.children.length;l++){var f=n.children[l];this.objStart(f),this.line("/Title "+this.makeString(f.title)),this.line("/Parent "+this.makeRef(n)),l>0&&this.line("/Prev "+this.makeRef(n.children[l-1])),l<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[l+1])),f.children.length>0&&(this.line("/First "+this.makeRef(f.children[0])),this.line("/Last "+this.makeRef(f.children[f.children.length-1])));var p=this.count=this.count_r({count:0},f);if(p>0&&this.line("/Count "+p),f.options&&f.options.pageNumber){var v=i.internal.getPageInfo(f.options.pageNumber);this.line("/Dest ["+v.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var x=0;x<n.children.length;x++)this.renderItems(n.children[x])},i.outline.line=function(n){this.ctx.val+=n+`\r
`},i.outline.makeRef=function(n){return n.id+" 0 R"},i.outline.makeString=function(n){return"("+i.internal.pdfEscape(n)+")"},i.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},i.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},i.outline.count_r=function(n,a){for(var l=0;l<a.children.length;l++)n.count++,this.count_r(n,a.children[l]);return n.count}}])}($t.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(i,n,a,l,f,p){var v,x=this.decode.DCT_DECODE,S=null;if(typeof i=="string"||this.__addimage__.isArrayBuffer(i)||this.__addimage__.isArrayBufferView(i)){switch(i=f||i,i=this.__addimage__.isArrayBuffer(i)?new Uint8Array(i):i,(v=function(M){for(var k,A=256*M.charCodeAt(4)+M.charCodeAt(5),$=M.length,z={width:0,height:0,numcomponents:1},K=4;K<$;K+=2){if(K+=A,e.indexOf(M.charCodeAt(K+1))!==-1){k=256*M.charCodeAt(K+5)+M.charCodeAt(K+6),z={width:256*M.charCodeAt(K+7)+M.charCodeAt(K+8),height:k,numcomponents:M.charCodeAt(K+9)};break}A=256*M.charCodeAt(K+2)+M.charCodeAt(K+3)}return z}(i=this.__addimage__.isArrayBufferView(i)?this.__addimage__.arrayBufferToBinaryString(i):i)).numcomponents){case 1:p=this.color_spaces.DEVICE_GRAY;break;case 4:p=this.color_spaces.DEVICE_CMYK;break;case 3:p=this.color_spaces.DEVICE_RGB}S={data:i,width:v.width,height:v.height,colorSpace:p,bitsPerComponent:8,filter:x,index:n,alias:a}}return S}}($t.API);var Vc,V1,Ug,jg,Vg,Pb=function(){var t,e,i;function n(l){var f,p,v,x,S,M,k,A,$,z,K,U,Y,ge;for(this.data=l,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},M=null;;){switch(f=this.readUInt32(),$=(function(){var xe,ce;for(ce=[],xe=0;xe<4;++xe)ce.push(String.fromCharCode(this.data[this.pos++]));return ce}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(f);break;case"fcTL":M&&this.animation.frames.push(M),this.pos+=4,M={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},S=this.readUInt16(),x=this.readUInt16()||100,M.delay=1e3*S/x,M.disposeOp=this.data[this.pos++],M.blendOp=this.data[this.pos++],M.data=[];break;case"IDAT":case"fdAT":for($==="fdAT"&&(this.pos+=4,f-=4),l=M?.data||this.imgData,U=0;0<=f?U<f:U>f;0<=f?++U:--U)l.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(v=this.palette.length/3,this.transparency.indexed=this.read(f),this.transparency.indexed.length>v)throw new Error("More transparent colors than palette size");if((z=v-this.transparency.indexed.length)>0)for(Y=0;0<=z?Y<z:Y>z;0<=z?++Y:--Y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(f)[0];break;case 2:this.transparency.rgb=this.read(f)}break;case"tEXt":k=(K=this.read(f)).indexOf(0),A=String.fromCharCode.apply(String,K.slice(0,k)),this.text[A]=String.fromCharCode.apply(String,K.slice(k+1));break;case"IEND":return M&&this.animation.frames.push(M),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(ge=this.colorType)===4||ge===6,p=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*p,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=f}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(l){var f,p;for(p=[],f=0;0<=l?f<l:f>l;0<=l?++f:--f)p.push(this.data[this.pos++]);return p},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(l){var f=this.pixelBitlength/8,p=new Uint8Array(this.width*this.height*f),v=0,x=this;if(l==null&&(l=this.imgData),l.length===0)return new Uint8Array(0);function S(M,k,A,$){var z,K,U,Y,ge,xe,ce,Re,ne,le,Ge,Ae,W,X,G,ae,be,Be,ze,Ie,Ze,je=Math.ceil((x.width-M)/A),ht=Math.ceil((x.height-k)/$),B=x.width==je&&x.height==ht;for(X=f*je,Ae=B?p:new Uint8Array(X*ht),xe=l.length,W=0,K=0;W<ht&&v<xe;){switch(l[v++]){case 0:for(Y=be=0;be<X;Y=be+=1)Ae[K++]=l[v++];break;case 1:for(Y=Be=0;Be<X;Y=Be+=1)z=l[v++],ge=Y<f?0:Ae[K-f],Ae[K++]=(z+ge)%256;break;case 2:for(Y=ze=0;ze<X;Y=ze+=1)z=l[v++],U=(Y-Y%f)/f,G=W&&Ae[(W-1)*X+U*f+Y%f],Ae[K++]=(G+z)%256;break;case 3:for(Y=Ie=0;Ie<X;Y=Ie+=1)z=l[v++],U=(Y-Y%f)/f,ge=Y<f?0:Ae[K-f],G=W&&Ae[(W-1)*X+U*f+Y%f],Ae[K++]=(z+Math.floor((ge+G)/2))%256;break;case 4:for(Y=Ze=0;Ze<X;Y=Ze+=1)z=l[v++],U=(Y-Y%f)/f,ge=Y<f?0:Ae[K-f],W===0?G=ae=0:(G=Ae[(W-1)*X+U*f+Y%f],ae=U&&Ae[(W-1)*X+(U-1)*f+Y%f]),ce=ge+G-ae,Re=Math.abs(ce-ge),le=Math.abs(ce-G),Ge=Math.abs(ce-ae),ne=Re<=le&&Re<=Ge?ge:le<=Ge?G:ae,Ae[K++]=(z+ne)%256;break;default:throw new Error("Invalid filter algorithm: "+l[v-1])}if(!B){var ie=((k+W*$)*x.width+M)*f,J=W*X;for(Y=0;Y<je;Y+=1){for(var me=0;me<f;me+=1)p[ie++]=Ae[J++];ie+=(A-1)*f}}W++}}return l=Ig(l),x.interlaceMethod==1?(S(0,0,8,8),S(4,0,8,8),S(0,4,4,8),S(2,0,4,4),S(0,2,2,4),S(1,0,2,2),S(0,1,1,2)):S(0,0,1,1),p},n.prototype.decodePalette=function(){var l,f,p,v,x,S,M,k,A;for(p=this.palette,S=this.transparency.indexed||[],x=new Uint8Array((S.length||0)+p.length),v=0,l=0,f=M=0,k=p.length;M<k;f=M+=3)x[v++]=p[f],x[v++]=p[f+1],x[v++]=p[f+2],x[v++]=(A=S[l++])!=null?A:255;return x},n.prototype.copyToImageData=function(l,f){var p,v,x,S,M,k,A,$,z,K,U;if(v=this.colors,z=null,p=this.hasAlphaChannel,this.palette.length&&(z=(U=this._decodedPalette)!=null?U:this._decodedPalette=this.decodePalette(),v=4,p=!0),$=(x=l.data||l).length,M=z||f,S=k=0,v===1)for(;S<$;)A=z?4*f[S/4]:k,K=M[A++],x[S++]=K,x[S++]=K,x[S++]=K,x[S++]=p?M[A++]:255,k=A;else for(;S<$;)A=z?4*f[S/4]:k,x[S++]=M[A++],x[S++]=M[A++],x[S++]=M[A++],x[S++]=p?M[A++]:255,k=A},n.prototype.decode=function(){var l;return l=new Uint8Array(this.width*this.height*4),this.copyToImageData(l,this.decodePixels()),l};var a=function(){if(Object.prototype.toString.call(ti)==="[object Window]"){try{e=ti.document.createElement("canvas"),i=e.getContext("2d")}catch{return!1}return!0}return!1};return a(),t=function(l){var f;if(a()===!0)return i.width=l.width,i.height=l.height,i.clearRect(0,0,l.width,l.height),i.putImageData(l,0,0),(f=new Image).src=e.toDataURL(),f;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(l){var f,p,v,x,S,M,k,A;if(this.animation){for(A=[],p=S=0,M=(k=this.animation.frames).length;S<M;p=++S)f=k[p],v=l.createImageData(f.width,f.height),x=this.decodePixels(new Uint8Array(f.data)),this.copyToImageData(v,x),f.imageData=v,A.push(f.image=t(v));return A}},n.prototype.renderFrame=function(l,f){var p,v,x;return p=(v=this.animation.frames)[f],x=v[f-1],f===0&&l.clearRect(0,0,this.width,this.height),x?.disposeOp===1?l.clearRect(x.xOffset,x.yOffset,x.width,x.height):x?.disposeOp===2&&l.putImageData(x.imageData,x.xOffset,x.yOffset),p.blendOp===0&&l.clearRect(p.xOffset,p.yOffset,p.width,p.height),l.drawImage(p.image,p.xOffset,p.yOffset)},n.prototype.animate=function(l){var f,p,v,x,S,M,k=this;return p=0,M=this.animation,x=M.numFrames,v=M.frames,S=M.numPlays,(f=function(){var A,$;if(A=p++%x,$=v[A],k.renderFrame(l,A),x>1&&p/x<S)return k.animation._timeout=setTimeout(f,$.delay)})()},n.prototype.stopAnimation=function(){var l;return clearTimeout((l=this.animation)!=null?l._timeout:void 0)},n.prototype.render=function(l){var f,p;return l._png&&l._png.stopAnimation(),l._png=this,l.width=this.width,l.height=this.height,f=l.getContext("2d"),this.animation?(this.decodeFrames(f),this.animate(f)):(p=f.createImageData(this.width,this.height),this.copyToImageData(p,this.decodePixels()),f.putImageData(p,0,0))},n}();function kb(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var i=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],l=a>>7,f=1<<(7&a)+1;t[e++],t[e++];var p=null,v=null;l&&(p=e,v=f,e+=3*f);var x=!0,S=[],M=0,k=null,A=0,$=null;for(this.width=i,this.height=n;x&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,$=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((W=t[e++])>=0))throw Error("Invalid block size");if(W===0)break;e+=W}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var z=t[e++];M=t[e++]|t[e++]<<8,k=t[e++],!(1&z)&&(k=null),A=z>>2&7,e++;break;case 254:for(;;){if(!((W=t[e++])>=0))throw Error("Invalid block size");if(W===0)break;e+=W}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var K=t[e++]|t[e++]<<8,U=t[e++]|t[e++]<<8,Y=t[e++]|t[e++]<<8,ge=t[e++]|t[e++]<<8,xe=t[e++],ce=xe>>6&1,Re=1<<(7&xe)+1,ne=p,le=v,Ge=!1;xe>>7&&(Ge=!0,ne=e,le=Re,e+=3*Re);var Ae=e;for(e++;;){var W;if(!((W=t[e++])>=0))throw Error("Invalid block size");if(W===0)break;e+=W}S.push({x:K,y:U,width:Y,height:ge,has_local_palette:Ge,palette_offset:ne,palette_size:le,data_offset:Ae,data_length:e-Ae,transparent_index:k,interlaced:!!ce,delay:M,disposal:A});break;case 59:x=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return S.length},this.loopCount=function(){return $},this.frameInfo=function(X){if(X<0||X>=S.length)throw new Error("Frame index out of range.");return S[X]},this.decodeAndBlitFrameBGRA=function(X,G){var ae=this.frameInfo(X),be=ae.width*ae.height,Be=new Uint8Array(be);qg(t,ae.data_offset,Be,be);var ze=ae.palette_offset,Ie=ae.transparent_index;Ie===null&&(Ie=256);var Ze=ae.width,je=i-Ze,ht=Ze,B=4*(ae.y*i+ae.x),ie=4*((ae.y+ae.height)*i+ae.x),J=B,me=4*je;ae.interlaced===!0&&(me+=4*i*7);for(var ve=8,Me=0,Pe=Be.length;Me<Pe;++Me){var De=Be[Me];if(ht===0&&(ht=Ze,(J+=me)>=ie&&(me=4*je+4*i*(ve-1),J=B+(Ze+je)*(ve<<1),ve>>=1)),De===Ie)J+=4;else{var st=t[ze+3*De],Ke=t[ze+3*De+1],vt=t[ze+3*De+2];G[J++]=vt,G[J++]=Ke,G[J++]=st,G[J++]=255}--ht}},this.decodeAndBlitFrameRGBA=function(X,G){var ae=this.frameInfo(X),be=ae.width*ae.height,Be=new Uint8Array(be);qg(t,ae.data_offset,Be,be);var ze=ae.palette_offset,Ie=ae.transparent_index;Ie===null&&(Ie=256);var Ze=ae.width,je=i-Ze,ht=Ze,B=4*(ae.y*i+ae.x),ie=4*((ae.y+ae.height)*i+ae.x),J=B,me=4*je;ae.interlaced===!0&&(me+=4*i*7);for(var ve=8,Me=0,Pe=Be.length;Me<Pe;++Me){var De=Be[Me];if(ht===0&&(ht=Ze,(J+=me)>=ie&&(me=4*je+4*i*(ve-1),J=B+(Ze+je)*(ve<<1),ve>>=1)),De===Ie)J+=4;else{var st=t[ze+3*De],Ke=t[ze+3*De+1],vt=t[ze+3*De+2];G[J++]=st,G[J++]=Ke,G[J++]=vt,G[J++]=255}--ht}}}function qg(t,e,i,n){for(var a=t[e++],l=1<<a,f=l+1,p=f+1,v=a+1,x=(1<<v)-1,S=0,M=0,k=0,A=t[e++],$=new Int32Array(4096),z=null;;){for(;S<16&&A!==0;)M|=t[e++]<<S,S+=8,A===1?A=t[e++]:--A;if(S<v)break;var K=M&x;if(M>>=v,S-=v,K!==l){if(K===f)break;for(var U=K<p?K:z,Y=0,ge=U;ge>l;)ge=$[ge]>>8,++Y;var xe=ge;if(k+Y+(U!==K?1:0)>n)return void wn.log("Warning, gif stream longer than expected.");i[k++]=xe;var ce=k+=Y;for(U!==K&&(i[k++]=xe),ge=U;Y--;)ge=$[ge],i[--ce]=255&ge,ge>>=8;z!==null&&p<4096&&($[p++]=z<<8|xe,p>=x+1&&v<12&&(++v,x=x<<1|1)),z=K}else p=f+1,x=(1<<(v=a+1))-1,z=null}return k!==n&&wn.log("Warning, gif stream shorter than expected."),i}function Rh(t){var e,i,n,a,l,f=Math.floor,p=new Array(64),v=new Array(64),x=new Array(64),S=new Array(64),M=new Array(65535),k=new Array(65535),A=new Array(64),$=new Array(64),z=[],K=0,U=7,Y=new Array(64),ge=new Array(64),xe=new Array(64),ce=new Array(256),Re=new Array(2048),ne=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],le=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Ge=[0,1,2,3,4,5,6,7,8,9,10,11],Ae=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],W=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],X=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],ae=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],be=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Be(B,ie){for(var J=0,me=0,ve=new Array,Me=1;Me<=16;Me++){for(var Pe=1;Pe<=B[Me];Pe++)ve[ie[me]]=[],ve[ie[me]][0]=J,ve[ie[me]][1]=Me,me++,J++;J*=2}return ve}function ze(B){for(var ie=B[0],J=B[1]-1;J>=0;)ie&1<<J&&(K|=1<<U),J--,--U<0&&(K==255?(Ie(255),Ie(0)):Ie(K),U=7,K=0)}function Ie(B){z.push(B)}function Ze(B){Ie(B>>8&255),Ie(255&B)}function je(B,ie,J,me,ve){for(var Me,Pe=ve[0],De=ve[240],st=function(Oe,ut){var bt,dt,Bt,Vt,si,ri,ei,Zi,Yt,vi,at=0;for(Yt=0;Yt<8;++Yt){bt=Oe[at],dt=Oe[at+1],Bt=Oe[at+2],Vt=Oe[at+3],si=Oe[at+4],ri=Oe[at+5],ei=Oe[at+6];var ot=bt+(Zi=Oe[at+7]),bi=bt-Zi,Ei=dt+ei,Kt=dt-ei,en=Bt+ri,Mo=Bt-ri,Vi=Vt+si,xi=Vt-si,vn=ot+Vi,Lo=ot-Vi,ra=Ei+en,Oi=Ei-en;Oe[at]=vn+ra,Oe[at+4]=vn-ra;var ii=.707106781*(Oi+Lo);Oe[at+2]=Lo+ii,Oe[at+6]=Lo-ii;var wi=.382683433*((vn=xi+Mo)-(Oi=Kt+bi)),Do=.5411961*vn+wi,Kn=1.306562965*Oi+wi,sr=.707106781*(ra=Mo+Kt),oa=bi+sr,Ft=bi-sr;Oe[at+5]=Ft+Do,Oe[at+3]=Ft-Do,Oe[at+1]=oa+Kn,Oe[at+7]=oa-Kn,at+=8}for(at=0,Yt=0;Yt<8;++Yt){bt=Oe[at],dt=Oe[at+8],Bt=Oe[at+16],Vt=Oe[at+24],si=Oe[at+32],ri=Oe[at+40],ei=Oe[at+48];var yo=bt+(Zi=Oe[at+56]),Jn=bt-Zi,$n=dt+ei,_n=dt-ei,lt=Bt+ri,gr=Bt-ri,Ua=Vt+si,lr=Vt-si,Ho=yo+Ua,Go=yo-Ua,ro=$n+lt,Wo=$n-lt;Oe[at]=Ho+ro,Oe[at+32]=Ho-ro;var Oo=.707106781*(Wo+Go);Oe[at+16]=Go+Oo,Oe[at+48]=Go-Oo;var aa=.382683433*((Ho=lr+gr)-(Wo=_n+Jn)),os=.5411961*Ho+aa,bs=1.306562965*Wo+aa,wo=.707106781*(ro=gr+_n),as=Jn+wo,_o=Jn-wo;Oe[at+40]=_o+os,Oe[at+24]=_o-os,Oe[at+8]=as+bs,Oe[at+56]=as-bs,at++}for(Yt=0;Yt<64;++Yt)vi=Oe[Yt]*ut[Yt],A[Yt]=vi>0?vi+.5|0:vi-.5|0;return A}(B,ie),Ke=0;Ke<64;++Ke)$[ne[Ke]]=st[Ke];var vt=$[0]-J;J=$[0],vt==0?ze(me[0]):(ze(me[k[Me=32767+vt]]),ze(M[Me]));for(var pt=63;pt>0&&$[pt]==0;)pt--;if(pt==0)return ze(Pe),J;for(var Ht,Ue=1;Ue<=pt;){for(var oe=Ue;$[Ue]==0&&Ue<=pt;)++Ue;var Et=Ue-oe;if(Et>=16){Ht=Et>>4;for(var Lt=1;Lt<=Ht;++Lt)ze(De);Et&=15}Me=32767+$[Ue],ze(ve[(Et<<4)+k[Me]]),ze(M[Me]),Ue++}return pt!=63&&ze(Pe),J}function ht(B){B=Math.min(Math.max(B,1),100),l!=B&&(function(ie){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],me=0;me<64;me++){var ve=f((J[me]*ie+50)/100);ve=Math.min(Math.max(ve,1),255),p[ne[me]]=ve}for(var Me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Pe=0;Pe<64;Pe++){var De=f((Me[Pe]*ie+50)/100);De=Math.min(Math.max(De,1),255),v[ne[Pe]]=De}for(var st=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ke=0,vt=0;vt<8;vt++)for(var pt=0;pt<8;pt++)x[Ke]=1/(p[ne[Ke]]*st[vt]*st[pt]*8),S[Ke]=1/(v[ne[Ke]]*st[vt]*st[pt]*8),Ke++}(B<50?Math.floor(5e3/B):Math.floor(200-2*B)),l=B)}this.encode=function(B,ie){ie&&ht(ie),z=new Array,K=0,U=7,Ze(65496),Ze(65504),Ze(16),Ie(74),Ie(70),Ie(73),Ie(70),Ie(0),Ie(1),Ie(1),Ie(0),Ze(1),Ze(1),Ie(0),Ie(0),function(){Ze(65499),Ze(132),Ie(0);for(var dt=0;dt<64;dt++)Ie(p[dt]);Ie(1);for(var Bt=0;Bt<64;Bt++)Ie(v[Bt])}(),function(dt,Bt){Ze(65472),Ze(17),Ie(8),Ze(Bt),Ze(dt),Ie(3),Ie(1),Ie(17),Ie(0),Ie(2),Ie(17),Ie(1),Ie(3),Ie(17),Ie(1)}(B.width,B.height),function(){Ze(65476),Ze(418),Ie(0);for(var dt=0;dt<16;dt++)Ie(le[dt+1]);for(var Bt=0;Bt<=11;Bt++)Ie(Ge[Bt]);Ie(16);for(var Vt=0;Vt<16;Vt++)Ie(Ae[Vt+1]);for(var si=0;si<=161;si++)Ie(W[si]);Ie(1);for(var ri=0;ri<16;ri++)Ie(X[ri+1]);for(var ei=0;ei<=11;ei++)Ie(G[ei]);Ie(17);for(var Zi=0;Zi<16;Zi++)Ie(ae[Zi+1]);for(var Yt=0;Yt<=161;Yt++)Ie(be[Yt])}(),Ze(65498),Ze(12),Ie(3),Ie(1),Ie(0),Ie(2),Ie(17),Ie(3),Ie(17),Ie(0),Ie(63),Ie(0);var J=0,me=0,ve=0;K=0,U=7,this.encode.displayName="_encode_";for(var Me,Pe,De,st,Ke,vt,pt,Ht,Ue,oe=B.data,Et=B.width,Lt=B.height,Oe=4*Et,ut=0;ut<Lt;){for(Me=0;Me<Oe;){for(Ke=Oe*ut+Me,pt=-1,Ht=0,Ue=0;Ue<64;Ue++)vt=Ke+(Ht=Ue>>3)*Oe+(pt=4*(7&Ue)),ut+Ht>=Lt&&(vt-=Oe*(ut+1+Ht-Lt)),Me+pt>=Oe&&(vt-=Me+pt-Oe+4),Pe=oe[vt++],De=oe[vt++],st=oe[vt++],Y[Ue]=(Re[Pe]+Re[De+256>>0]+Re[st+512>>0]>>16)-128,ge[Ue]=(Re[Pe+768>>0]+Re[De+1024>>0]+Re[st+1280>>0]>>16)-128,xe[Ue]=(Re[Pe+1280>>0]+Re[De+1536>>0]+Re[st+1792>>0]>>16)-128;J=je(Y,x,J,e,n),me=je(ge,S,me,i,a),ve=je(xe,S,ve,i,a),Me+=32}ut+=8}if(U>=0){var bt=[];bt[1]=U+1,bt[0]=(1<<U+1)-1,ze(bt)}return Ze(65497),new Uint8Array(z)},t=t||50,function(){for(var B=String.fromCharCode,ie=0;ie<256;ie++)ce[ie]=B(ie)}(),e=Be(le,Ge),i=Be(X,G),n=Be(Ae,W),a=Be(ae,be),function(){for(var B=1,ie=2,J=1;J<=15;J++){for(var me=B;me<ie;me++)k[32767+me]=J,M[32767+me]=[],M[32767+me][1]=J,M[32767+me][0]=me;for(var ve=-(ie-1);ve<=-B;ve++)k[32767+ve]=J,M[32767+ve]=[],M[32767+ve][1]=J,M[32767+ve][0]=ie-1+ve;B<<=1,ie<<=1}}(),function(){for(var B=0;B<256;B++)Re[B]=19595*B,Re[B+256>>0]=38470*B,Re[B+512>>0]=7471*B+32768,Re[B+768>>0]=-11059*B,Re[B+1024>>0]=-21709*B,Re[B+1280>>0]=32768*B+8421375,Re[B+1536>>0]=-27439*B,Re[B+1792>>0]=-5329*B}(),ht(t)}function ka(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function zg(t){function e(le){if(!le)throw Error("assert :P")}function i(le,Ge,Ae){for(var W=0;4>W;W++)if(le[Ge+W]!=Ae.charCodeAt(W))return!0;return!1}function n(le,Ge,Ae,W,X){for(var G=0;G<X;G++)le[Ge+G]=Ae[W+G]}function a(le,Ge,Ae,W){for(var X=0;X<W;X++)le[Ge+X]=Ae}function l(le){return new Int32Array(le)}function f(le,Ge){for(var Ae=[],W=0;W<le;W++)Ae.push(new Ge);return Ae}function p(le,Ge){var Ae=[];return function W(X,G,ae){for(var be=ae[G],Be=0;Be<be&&(X.push(ae.length>G+1?[]:new Ge),!(ae.length<G+1));Be++)W(X[Be],G+1,ae)}(Ae,0,le),Ae}var v=function(){var le=this;function Ge(d,g){for(var b=1<<g-1>>>0;d&b;)b>>>=1;return b?(d&b-1)+b:d}function Ae(d,g,b,T,O){e(!(T%b));do d[g+(T-=b)]=O;while(0<T)}function W(d,g,b,T,O){if(e(2328>=O),512>=O)var F=l(512);else if((F=l(O))==null)return 0;return function(j,q,H,ee,de,Ne){var Te,we,et=q,qe=1<<H,pe=l(16),Ee=l(16);for(e(de!=0),e(ee!=null),e(j!=null),e(0<H),we=0;we<de;++we){if(15<ee[we])return 0;++pe[ee[we]]}if(pe[0]==de)return 0;for(Ee[1]=0,Te=1;15>Te;++Te){if(pe[Te]>1<<Te)return 0;Ee[Te+1]=Ee[Te]+pe[Te]}for(we=0;we<de;++we)Te=ee[we],0<ee[we]&&(Ne[Ee[Te]++]=we);if(Ee[15]==1)return(ee=new X).g=0,ee.value=Ne[0],Ae(j,et,1,qe,ee),qe;var Je,it=-1,$e=qe-1,At=0,gt=1,Xt=1,xt=1<<H;for(we=0,Te=1,de=2;Te<=H;++Te,de<<=1){if(gt+=Xt<<=1,0>(Xt-=pe[Te]))return 0;for(;0<pe[Te];--pe[Te])(ee=new X).g=Te,ee.value=Ne[we++],Ae(j,et+At,de,xt,ee),At=Ge(At,Te)}for(Te=H+1,de=2;15>=Te;++Te,de<<=1){if(gt+=Xt<<=1,0>(Xt-=pe[Te]))return 0;for(;0<pe[Te];--pe[Te]){if(ee=new X,(At&$e)!=it){for(et+=xt,Je=1<<(it=Te)-H;15>it&&!(0>=(Je-=pe[it]));)++it,Je<<=1;qe+=xt=1<<(Je=it-H),j[q+(it=At&$e)].g=Je+H,j[q+it].value=et-q-it}ee.g=Te-H,ee.value=Ne[we++],Ae(j,et+(At>>H),de,xt,ee),At=Ge(At,Te)}}return gt!=2*Ee[15]-1?0:qe}(d,g,b,T,O,F)}function X(){this.value=this.g=0}function G(){this.value=this.g=0}function ae(){this.G=f(5,X),this.H=l(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=f(Dr,G)}function be(d,g,b,T){e(d!=null),e(g!=null),e(2147483648>T),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=g,d.pa=b,d.Jd=g,d.Yc=b+T,d.Zc=4<=T?b+T-4+1:b,Me(d)}function Be(d,g){for(var b=0;0<g--;)b|=De(d,128)<<g;return b}function ze(d,g){var b=Be(d,g);return Pe(d)?-b:b}function Ie(d,g,b,T){var O,F=0;for(e(d!=null),e(g!=null),e(4294967288>T),d.Sb=T,d.Ra=0,d.u=0,d.h=0,4<T&&(T=4),O=0;O<T;++O)F+=g[b+O]<<8*O;d.Ra=F,d.bb=T,d.oa=g,d.pa=b}function Ze(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<Ma-8>>>0,++d.bb,d.u-=8;J(d)&&(d.h=1,d.u=0)}function je(d,g){if(e(0<=g),!d.h&&g<=gi){var b=ie(d)&ca[g];return d.u+=g,Ze(d),b}return d.h=1,d.u=0}function ht(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function B(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ie(d){return d.Ra>>>(d.u&Ma-1)>>>0}function J(d){return e(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>Ma}function me(d,g){d.u=g,d.h=J(d)}function ve(d){d.u>=_&&(e(d.u>=_),Ze(d))}function Me(d){e(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(e(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function Pe(d){return Be(d,1)}function De(d,g){var b=d.Ca;0>d.b&&Me(d);var T=d.b,O=b*g>>>8,F=(d.I>>>T>O)+0;for(F?(b-=O,d.I-=O+1<<T>>>0):b=O+1,T=b,O=0;256<=T;)O+=8,T>>=8;return T=7^O+r[T],d.b-=T,d.Ca=(b<<T)-1,F}function st(d,g,b){d[g+0]=b>>24&255,d[g+1]=b>>16&255,d[g+2]=b>>8&255,d[g+3]=b>>0&255}function Ke(d,g){return d[g+0]<<0|d[g+1]<<8}function vt(d,g){return Ke(d,g)|d[g+2]<<16}function pt(d,g){return Ke(d,g)|Ke(d,g+2)<<16}function Ht(d,g){var b=1<<g;return e(d!=null),e(0<g),d.X=l(b),d.X==null?0:(d.Mb=32-g,d.Xa=g,1)}function Ue(d,g){e(d!=null),e(g!=null),e(d.Xa==g.Xa),n(g.X,0,d.X,0,1<<g.Xa)}function oe(){this.X=[],this.Xa=this.Mb=0}function Et(d,g,b,T){e(b!=null),e(T!=null);var O=b[0],F=T[0];return O==0&&(O=(d*F+g/2)/g),F==0&&(F=(g*O+d/2)/d),0>=O||0>=F?0:(b[0]=O,T[0]=F,1)}function Lt(d,g){return d+(1<<g)-1>>>g}function Oe(d,g){return((4278255360&d)+(4278255360&g)>>>0&4278255360)+((16711935&d)+(16711935&g)>>>0&16711935)>>>0}function ut(d,g){le[g]=function(b,T,O,F,j,q,H){var ee;for(ee=0;ee<j;++ee){var de=le[d](q[H+ee-1],O,F+ee);q[H+ee]=Oe(b[T+ee],de)}}}function bt(){this.ud=this.hd=this.jd=0}function dt(d,g){return((4278124286&(d^g))>>>1)+(d&g)>>>0}function Bt(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function Vt(d,g){return Bt(d+(d-g+.5>>1))}function si(d,g,b){return Math.abs(g-b)-Math.abs(d-b)}function ri(d,g,b,T,O,F,j){for(T=F[j-1],b=0;b<O;++b)F[j+b]=T=Oe(d[g+b],T)}function ei(d,g,b,T,O){var F;for(F=0;F<b;++F){var j=d[g+F],q=j>>8&255,H=16711935&(H=(H=16711935&j)+((q<<16)+q));T[O+F]=(4278255360&j)+H>>>0}}function Zi(d,g){g.jd=d>>0&255,g.hd=d>>8&255,g.ud=d>>16&255}function Yt(d,g,b,T,O,F){var j;for(j=0;j<T;++j){var q=g[b+j],H=q>>>8,ee=q,de=255&(de=(de=q>>>16)+((d.jd<<24>>24)*(H<<24>>24)>>>5));ee=255&(ee=(ee=ee+((d.hd<<24>>24)*(H<<24>>24)>>>5))+((d.ud<<24>>24)*(de<<24>>24)>>>5)),O[F+j]=(4278255360&q)+(de<<16)+ee}}function vi(d,g,b,T,O){le[g]=function(F,j,q,H,ee,de,Ne,Te,we){for(H=Ne;H<Te;++H)for(Ne=0;Ne<we;++Ne)ee[de++]=O(q[T(F[j++])])},le[d]=function(F,j,q,H,ee,de,Ne){var Te=8>>F.b,we=F.Ea,et=F.K[0],qe=F.w;if(8>Te)for(F=(1<<F.b)-1,qe=(1<<Te)-1;j<q;++j){var pe,Ee=0;for(pe=0;pe<we;++pe)pe&F||(Ee=T(H[ee++])),de[Ne++]=O(et[Ee&qe]),Ee>>=Te}else le["VP8LMapColor"+b](H,ee,et,qe,de,Ne,j,q,we)}}function at(d,g,b,T,O){for(b=g+b;g<b;){var F=d[g++];T[O++]=F>>16&255,T[O++]=F>>8&255,T[O++]=F>>0&255}}function ot(d,g,b,T,O){for(b=g+b;g<b;){var F=d[g++];T[O++]=F>>16&255,T[O++]=F>>8&255,T[O++]=F>>0&255,T[O++]=F>>24&255}}function bi(d,g,b,T,O){for(b=g+b;g<b;){var F=(j=d[g++])>>16&240|j>>12&15,j=j>>0&240|j>>28&15;T[O++]=F,T[O++]=j}}function Ei(d,g,b,T,O){for(b=g+b;g<b;){var F=(j=d[g++])>>16&248|j>>13&7,j=j>>5&224|j>>3&31;T[O++]=F,T[O++]=j}}function Kt(d,g,b,T,O){for(b=g+b;g<b;){var F=d[g++];T[O++]=F>>0&255,T[O++]=F>>8&255,T[O++]=F>>16&255}}function en(d,g,b,T,O,F){if(F==0)for(b=g+b;g<b;)st(T,((F=d[g++])[0]>>24|F[1]>>8&65280|F[2]<<8&16711680|F[3]<<24)>>>0),O+=32;else n(T,O,d,g,b)}function Mo(d,g){le[g][0]=le[d+"0"],le[g][1]=le[d+"1"],le[g][2]=le[d+"2"],le[g][3]=le[d+"3"],le[g][4]=le[d+"4"],le[g][5]=le[d+"5"],le[g][6]=le[d+"6"],le[g][7]=le[d+"7"],le[g][8]=le[d+"8"],le[g][9]=le[d+"9"],le[g][10]=le[d+"10"],le[g][11]=le[d+"11"],le[g][12]=le[d+"12"],le[g][13]=le[d+"13"],le[g][14]=le[d+"0"],le[g][15]=le[d+"0"]}function Vi(d){return d==wf||d==_f||d==du||d==bf}function xi(){this.eb=[],this.size=this.A=this.fb=0}function vn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Lo(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new xi,this.f.kb=new vn,this.sd=null}function ra(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Oi(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ii(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function wi(d,g){var b=d.T,T=g.ba.f.RGBA,O=T.eb,F=T.fb+d.ka*T.A,j=fa[g.ba.S],q=d.y,H=d.O,ee=d.f,de=d.N,Ne=d.ea,Te=d.W,we=g.cc,et=g.dc,qe=g.Mc,pe=g.Nc,Ee=d.ka,Je=d.ka+d.T,it=d.U,$e=it+1>>1;for(Ee==0?j(q,H,null,null,ee,de,Ne,Te,ee,de,Ne,Te,O,F,null,null,it):(j(g.ec,g.fc,q,H,we,et,qe,pe,ee,de,Ne,Te,O,F-T.A,O,F,it),++b);Ee+2<Je;Ee+=2)we=ee,et=de,qe=Ne,pe=Te,de+=d.Rc,Te+=d.Rc,F+=2*T.A,j(q,(H+=2*d.fa)-d.fa,q,H,we,et,qe,pe,ee,de,Ne,Te,O,F-T.A,O,F,it);return H+=d.fa,d.j+Je<d.o?(n(g.ec,g.fc,q,H,it),n(g.cc,g.dc,ee,de,$e),n(g.Mc,g.Nc,Ne,Te,$e),b--):1&Je||j(q,H,null,null,ee,de,Ne,Te,ee,de,Ne,Te,O,F+T.A,null,null,it),b}function Do(d,g,b){var T=d.F,O=[d.J];if(T!=null){var F=d.U,j=g.ba.S,q=j==hu||j==du;g=g.ba.f.RGBA;var H=[0],ee=d.ka;H[0]=d.T,d.Kb&&(ee==0?--H[0]:(--ee,O[0]-=d.width),d.j+d.ka+d.T==d.o&&(H[0]=d.o-d.j-ee));var de=g.eb;ee=g.fb+ee*g.A,d=su(T,O[0],d.width,F,H,de,ee+(q?0:3),g.A),e(b==H),d&&Vi(j)&&Ps(de,ee,q,F,H,g.A)}return 0}function Kn(d){var g=d.ma,b=g.ba.S,T=11>b,O=b==uu||b==fu||b==hu||b==yf||b==12||Vi(b);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!Os(g.Oa,d,O?11:12))return 0;if(O&&Vi(b)&&rt(),d.da)alert("todo:use_scaling");else{if(T){if(g.Ib=ii,d.Kb){if(b=d.U+1>>1,g.memory=l(d.U+2*b),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+d.U,g.Mc=g.cc,g.Nc=g.dc+b,g.Ib=wi,rt()}}else alert("todo:EmitYUV");O&&(g.Jb=Do,T&&Ce())}if(T&&!Lm){for(d=0;256>d;++d)Kv[d]=89858*(d-128)+pu>>mu,eE[d]=-22014*(d-128)+pu,$v[d]=-45773*(d-128),Jv[d]=113618*(d-128)+pu>>mu;for(d=v0;d<Af;++d)g=76283*(d-16)+pu>>mu,tE[d-v0]=Sn(g,255),iE[d-v0]=Sn(g+8>>4,15);Lm=1}return 1}function sr(d){var g=d.ma,b=d.U,T=d.T;return e(!(1&d.ka)),0>=b||0>=T?0:(b=g.Ib(d,g),g.Jb!=null&&g.Jb(d,g,b),g.Dc+=b,1)}function oa(d){d.ma.memory=null}function Ft(d,g,b,T){return je(d,8)!=47?0:(g[0]=je(d,14)+1,b[0]=je(d,14)+1,T[0]=je(d,1),je(d,3)!=0?0:!d.h)}function yo(d,g){if(4>d)return d+1;var b=d-2>>1;return(2+(1&d)<<b)+je(g,b)+1}function Jn(d,g){return 120<g?g-120:1<=(b=((b=Bv[g-1])>>4)*d+(8-(15&b)))?b:1;var b}function $n(d,g,b){var T=ie(b),O=d[g+=255&T].g-8;return 0<O&&(me(b,b.u+8),T=ie(b),g+=d[g].value,g+=T&(1<<O)-1),me(b,b.u+d[g].g),d[g].value}function _n(d,g,b){return b.g+=d.g,b.value+=d.value<<g>>>0,e(8>=b.g),d.g}function lt(d,g,b){var T=d.xc;return e((g=T==0?0:d.vc[d.md*(b>>T)+(g>>T)])<d.Wb),d.Ya[g]}function gr(d,g,b,T){var O=d.ab,F=d.c*g,j=d.C;g=j+g;var q=b,H=T;for(T=d.Ta,b=d.Ua;0<O--;){var ee=d.gc[O],de=j,Ne=g,Te=q,we=H,et=(H=T,q=b,ee.Ea);switch(e(de<Ne),e(Ne<=ee.nc),ee.hc){case 2:c(Te,we,(Ne-de)*et,H,q);break;case 0:var qe=de,pe=Ne,Ee=H,Je=q,it=(xt=ee).Ea;qe==0&&(o(Te,we,null,null,1,Ee,Je),ri(Te,we+1,0,0,it-1,Ee,Je+1),we+=it,Je+=it,++qe);for(var $e=1<<xt.b,At=$e-1,gt=Lt(it,xt.b),Xt=xt.K,xt=xt.w+(qe>>xt.b)*gt;qe<pe;){var Ji=Xt,un=xt,Wi=1;for(s(Te,we,Ee,Je-it,1,Ee,Je);Wi<it;){var Ai=(Wi&~At)+$e;Ai>it&&(Ai=it),(0,w[Ji[un++]>>8&15])(Te,we+ +Wi,Ee,Je+Wi-it,Ai-Wi,Ee,Je+Wi),Wi=Ai}we+=it,Je+=it,++qe&At||(xt+=gt)}Ne!=ee.nc&&n(H,q-et,H,q+(Ne-de-1)*et,et);break;case 1:for(et=Te,pe=we,it=(Te=ee.Ea)-(Je=Te&~(Ee=(we=1<<ee.b)-1)),qe=Lt(Te,ee.b),$e=ee.K,ee=ee.w+(de>>ee.b)*qe;de<Ne;){for(At=$e,gt=ee,Xt=new bt,xt=pe+Je,Ji=pe+Te;pe<xt;)Zi(At[gt++],Xt),C(Xt,et,pe,we,H,q),pe+=we,q+=we;pe<Ji&&(Zi(At[gt++],Xt),C(Xt,et,pe,it,H,q),pe+=it,q+=it),++de&Ee||(ee+=qe)}break;case 3:if(Te==H&&we==q&&0<ee.b){for(pe=H,Te=et=q+(Ne-de)*et-(Je=(Ne-de)*Lt(ee.Ea,ee.b)),we=H,Ee=q,qe=[],Je=(it=Je)-1;0<=Je;--Je)qe[Je]=we[Ee+Je];for(Je=it-1;0<=Je;--Je)pe[Te+Je]=qe[Je];u(ee,de,Ne,H,et,H,q)}else u(ee,de,Ne,Te,we,H,q)}q=T,H=b}H!=b&&n(T,b,q,H,F)}function Ua(d,g){var b=d.V,T=d.Ba+d.c*d.C,O=g-d.C;if(e(g<=d.l.o),e(16>=O),0<O){var F=d.l,j=d.Ta,q=d.Ua,H=F.width;if(gr(d,O,b,T),O=q=[q],e((b=d.C)<(T=g)),e(F.v<F.va),T>F.o&&(T=F.o),b<F.j){var ee=F.j-b;b=F.j,O[0]+=ee*H}if(b>=T?b=0:(O[0]+=4*F.v,F.ka=b-F.j,F.U=F.va-F.v,F.T=T-b,b=1),b){if(q=q[0],11>(b=d.ca).S){var de=b.f.RGBA,Ne=(T=b.S,O=F.U,F=F.T,ee=de.eb,de.A),Te=F;for(de=de.fb+d.Ma*de.A;0<Te--;){var we=j,et=q,qe=O,pe=ee,Ee=de;switch(T){case cu:L(we,et,qe,pe,Ee);break;case uu:V(we,et,qe,pe,Ee);break;case wf:V(we,et,qe,pe,Ee),Ps(pe,Ee,0,qe,1,0);break;case wm:fe(we,et,qe,pe,Ee);break;case fu:en(we,et,qe,pe,Ee,1);break;case _f:en(we,et,qe,pe,Ee,1),Ps(pe,Ee,0,qe,1,0);break;case hu:en(we,et,qe,pe,Ee,0);break;case du:en(we,et,qe,pe,Ee,0),Ps(pe,Ee,1,qe,1,0);break;case yf:Q(we,et,qe,pe,Ee);break;case bf:Q(we,et,qe,pe,Ee),gc(pe,Ee,qe,1,0);break;case _m:re(we,et,qe,pe,Ee);break;default:e(0)}q+=H,de+=Ne}d.Ma+=F}else alert("todo:EmitRescaledRowsYUVA");e(d.Ma<=b.height)}}d.C=g,e(d.C<=d.i)}function lr(d){var g;if(0<d.ua)return 0;for(g=0;g<d.Wb;++g){var b=d.Ya[g].G,T=d.Ya[g].H;if(0<b[1][T[1]+0].g||0<b[2][T[2]+0].g||0<b[3][T[3]+0].g)return 0}return 1}function Ho(d,g,b,T,O,F){if(d.Z!=0){var j=d.qd,q=d.rd;for(e(Bs[d.Z]!=null);g<b;++g)Bs[d.Z](j,q,T,O,T,O,F),j=T,q=O,O+=F;d.qd=j,d.rd=q}}function Go(d,g){var b=d.l.ma,T=b.Z==0||b.Z==1?d.l.j:d.C;if(T=d.C<T?T:d.C,e(g<=d.l.o),g>T){var O=d.l.width,F=b.ca,j=b.tb+O*T,q=d.V,H=d.Ba+d.c*T,ee=d.gc;e(d.ab==1),e(ee[0].hc==3),m(ee[0],T,g,q,H,F,j),Ho(b,T,g,F,j,O)}d.C=d.Ma=g}function ro(d,g,b,T,O,F,j){var q=d.$/T,H=d.$%T,ee=d.m,de=d.s,Ne=b+d.$,Te=Ne;O=b+T*O;var we=b+T*F,et=280+de.ua,qe=d.Pb?q:16777216,pe=0<de.ua?de.Wa:null,Ee=de.wc,Je=Ne<we?lt(de,H,q):null;e(d.C<F),e(we<=O);var it=!1;e:for(;;){for(;it||Ne<we;){var $e=0;if(q>=qe){var At=Ne-b;e((qe=d).Pb),qe.wd=qe.m,qe.xd=At,0<qe.s.ua&&Ue(qe.s.Wa,qe.s.vb),qe=q+Uv}if(H&Ee||(Je=lt(de,H,q)),e(Je!=null),Je.Qb&&(g[Ne]=Je.qb,it=!0),!it)if(ve(ee),Je.jc){$e=ee,At=g;var gt=Ne,Xt=Je.pd[ie($e)&Dr-1];e(Je.jc),256>Xt.g?(me($e,$e.u+Xt.g),At[gt]=Xt.value,$e=0):(me($e,$e.u+Xt.g-256),e(256<=Xt.value),$e=Xt.value),$e==0&&(it=!0)}else $e=$n(Je.G[0],Je.H[0],ee);if(ee.h)break;if(it||256>$e){if(!it)if(Je.nd)g[Ne]=(Je.qb|$e<<8)>>>0;else{if(ve(ee),it=$n(Je.G[1],Je.H[1],ee),ve(ee),At=$n(Je.G[2],Je.H[2],ee),gt=$n(Je.G[3],Je.H[3],ee),ee.h)break;g[Ne]=(gt<<24|it<<16|$e<<8|At)>>>0}if(it=!1,++Ne,++H>=T&&(H=0,++q,j!=null&&q<=F&&!(q%16)&&j(d,q),pe!=null))for(;Te<Ne;)$e=g[Te++],pe.X[(506832829*$e&4294967295)>>>pe.Mb]=$e}else if(280>$e){if($e=yo($e-256,ee),At=$n(Je.G[4],Je.H[4],ee),ve(ee),At=Jn(T,At=yo(At,ee)),ee.h)break;if(Ne-b<At||O-Ne<$e)break e;for(gt=0;gt<$e;++gt)g[Ne+gt]=g[Ne+gt-At];for(Ne+=$e,H+=$e;H>=T;)H-=T,++q,j!=null&&q<=F&&!(q%16)&&j(d,q);if(e(Ne<=O),H&Ee&&(Je=lt(de,H,q)),pe!=null)for(;Te<Ne;)$e=g[Te++],pe.X[(506832829*$e&4294967295)>>>pe.Mb]=$e}else{if(!($e<et))break e;for(it=$e-280,e(pe!=null);Te<Ne;)$e=g[Te++],pe.X[(506832829*$e&4294967295)>>>pe.Mb]=$e;$e=Ne,e(!(it>>>(At=pe).Xa)),g[$e]=At.X[it],it=!0}it||e(ee.h==J(ee))}if(d.Pb&&ee.h&&Ne<O)e(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&Ue(d.s.vb,d.s.Wa);else{if(ee.h)break e;j?.(d,q>F?F:q),d.a=0,d.$=Ne-b}return 1}return d.a=3,0}function Wo(d){e(d!=null),d.vc=null,d.yc=null,d.Ya=null;var g=d.Wa;g!=null&&(g.X=null),d.vb=null,e(d!=null)}function Oo(){var d=new Ga;return d==null?null:(d.a=0,d.xb=Sm,Mo("Predictor","VP8LPredictors"),Mo("Predictor","VP8LPredictors_C"),Mo("PredictorAdd","VP8LPredictorsAdd"),Mo("PredictorAdd","VP8LPredictorsAdd_C"),c=ei,C=Yt,L=at,V=ot,Q=bi,re=Ei,fe=Kt,le.VP8LMapColor32b=h,le.VP8LMapColor8b=E,d)}function aa(d,g,b,T,O){var F=1,j=[d],q=[g],H=T.m,ee=T.s,de=null,Ne=0;e:for(;;){if(b)for(;F&&je(H,1);){var Te=j,we=q,et=T,qe=1,pe=et.m,Ee=et.gc[et.ab],Je=je(pe,2);if(et.Oc&1<<Je)F=0;else{switch(et.Oc|=1<<Je,Ee.hc=Je,Ee.Ea=Te[0],Ee.nc=we[0],Ee.K=[null],++et.ab,e(4>=et.ab),Je){case 0:case 1:Ee.b=je(pe,3)+2,qe=aa(Lt(Ee.Ea,Ee.b),Lt(Ee.nc,Ee.b),0,et,Ee.K),Ee.K=Ee.K[0];break;case 3:var it,$e=je(pe,8)+1,At=16<$e?0:4<$e?1:2<$e?2:3;if(Te[0]=Lt(Ee.Ea,At),Ee.b=At,it=qe=aa($e,1,0,et,Ee.K)){var gt,Xt=$e,xt=Ee,Ji=1<<(8>>xt.b),un=l(Ji);if(un==null)it=0;else{var Wi=xt.K[0],Ai=xt.w;for(un[0]=xt.K[0][0],gt=1;gt<1*Xt;++gt)un[gt]=Oe(Wi[Ai+gt],un[gt-1]);for(;gt<4*Ji;++gt)un[gt]=0;xt.K[0]=null,xt.K[0]=un,it=1}}qe=it;break;case 2:break;default:e(0)}F=qe}}if(j=j[0],q=q[0],F&&je(H,1)&&!(F=1<=(Ne=je(H,4))&&11>=Ne)){T.a=3;break e}var yn;if(yn=F)t:{var dn,fi,xr,Ro=T,yr=j,Po=q,fn=Ne,Ko=b,Jo=Ro.m,Or=Ro.s,no=[null],Co=1,ha=0,Wa=Fv[fn];i:for(;;){if(Ko&&je(Jo,1)){var Rr=je(Jo,3)+2,ms=Lt(yr,Rr),zl=Lt(Po,Rr),vc=ms*zl;if(!aa(ms,zl,0,Ro,no))break i;for(no=no[0],Or.xc=Rr,dn=0;dn<vc;++dn){var Fs=no[dn]>>8&65535;no[dn]=Fs,Fs>=Co&&(Co=Fs+1)}}if(Jo.h)break i;for(fi=0;5>fi;++fi){var ir=bm[fi];!fi&&0<fn&&(ir+=1<<fn),ha<ir&&(ha=ir)}var If=f(Co*Wa,X),Rm=Co,Pm=f(Rm,ae);if(Pm==null)var vu=null;else e(65536>=Rm),vu=Pm;var E0=l(ha);if(vu==null||E0==null||If==null){Ro.a=1;break i}var Eu=If;for(dn=xr=0;dn<Co;++dn){var Da=vu[dn],Ec=Da.G,xc=Da.H,km=0,xu=1,Bm=0;for(fi=0;5>fi;++fi){ir=bm[fi],Ec[fi]=Eu,xc[fi]=xr,!fi&&0<fn&&(ir+=1<<fn);r:{var yu,Nf=ir,wu=Ro,x0=E0,oE=Eu,aE=xr,Tf=0,Us=wu.m,sE=je(Us,1);if(a(x0,0,0,Nf),sE){var lE=je(Us,1)+1,cE=je(Us,1),Fm=je(Us,cE==0?1:8);x0[Fm]=1,lE==2&&(x0[Fm=je(Us,8)]=1);var _u=1}else{var Um=l(19),jm=je(Us,4)+4;if(19<jm){wu.a=3;var bu=0;break r}for(yu=0;yu<jm;++yu)Um[kv[yu]]=je(Us,3);var Mf=void 0,y0=void 0,Vm=wu,uE=Um,Cu=Nf,qm=x0,Lf=0,js=Vm.m,zm=8,Hm=f(128,X);n:for(;W(Hm,0,7,uE,19);){if(je(js,1)){var fE=2+2*je(js,3);if((Mf=2+je(js,fE))>Cu)break n}else Mf=Cu;for(y0=0;y0<Cu&&Mf--;){ve(js);var Gm=Hm[0+(127&ie(js))];me(js,js.u+Gm.g);var yc=Gm.value;if(16>yc)qm[y0++]=yc,yc!=0&&(zm=yc);else{var hE=yc==16,Wm=yc-16,dE=Rv[Wm],Ym=je(js,Ov[Wm])+dE;if(y0+Ym>Cu)break n;for(var mE=hE?zm:0;0<Ym--;)qm[y0++]=mE}}Lf=1;break n}Lf||(Vm.a=3),_u=Lf}(_u=_u&&!Us.h)&&(Tf=W(oE,aE,8,x0,Nf)),_u&&Tf!=0?bu=Tf:(wu.a=3,bu=0)}if(bu==0)break i;if(xu&&Pv[fi]==1&&(xu=Eu[xr].g==0),km+=Eu[xr].g,xr+=bu,3>=fi){var w0,Df=E0[0];for(w0=1;w0<ir;++w0)E0[w0]>Df&&(Df=E0[w0]);Bm+=Df}}if(Da.nd=xu,Da.Qb=0,xu&&(Da.qb=(Ec[3][xc[3]+0].value<<24|Ec[1][xc[1]+0].value<<16|Ec[2][xc[2]+0].value)>>>0,km==0&&256>Ec[0][xc[0]+0].value&&(Da.Qb=1,Da.qb+=Ec[0][xc[0]+0].value<<8)),Da.jc=!Da.Qb&&6>Bm,Da.jc){var Su,ps=Da;for(Su=0;Su<Dr;++Su){var Vs=Su,qs=ps.pd[Vs],Au=ps.G[0][ps.H[0]+Vs];256<=Au.value?(qs.g=Au.g+256,qs.value=Au.value):(qs.g=0,qs.value=0,Vs>>=_n(Au,8,qs),Vs>>=_n(ps.G[1][ps.H[1]+Vs],16,qs),Vs>>=_n(ps.G[2][ps.H[2]+Vs],0,qs),_n(ps.G[3][ps.H[3]+Vs],24,qs))}}}Or.vc=no,Or.Wb=Co,Or.Ya=vu,Or.yc=If,yn=1;break t}yn=0}if(!(F=yn)){T.a=3;break e}if(0<Ne){if(ee.ua=1<<Ne,!Ht(ee.Wa,Ne)){T.a=1,F=0;break e}}else ee.ua=0;var Of=T,Xm=j,pE=q,Rf=Of.s,Pf=Rf.xc;if(Of.c=Xm,Of.i=pE,Rf.md=Lt(Xm,Pf),Rf.wc=Pf==0?-1:(1<<Pf)-1,b){T.xb=Wv;break e}if((de=l(j*q))==null){T.a=1,F=0;break e}F=(F=ro(T,de,0,j,q,q,null))&&!H.h;break e}return F?(O!=null?O[0]=de:(e(de==null),e(b)),T.$=0,b||Wo(ee)):Wo(ee),F}function os(d,g){var b=d.c*d.i,T=b+g+16*g;return e(d.c<=g),d.V=l(T),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+b+g,1)}function bs(d,g){var b=d.C,T=g-b,O=d.V,F=d.Ba+d.c*b;for(e(g<=d.l.o);0<T;){var j=16<T?16:T,q=d.l.ma,H=d.l.width,ee=H*j,de=q.ca,Ne=q.tb+H*b,Te=d.Ta,we=d.Ua;gr(d,j,O,F),pm(Te,we,de,Ne,ee),Ho(q,b,b+j,de,Ne,H),T-=j,O+=j*d.c,b+=j}e(b==g),d.C=d.Ma=g}function wo(){this.ub=this.yd=this.td=this.Rb=0}function as(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function _o(){this.Fb=this.Bb=this.Cb=0,this.Zb=l(4),this.Lb=l(4)}function Cs(){this.Yb=function(){var d=[];return function g(b,T,O){for(var F=O[T],j=0;j<F&&(b.push(O.length>T+1?[]:0),!(O.length<T+1));j++)g(b[j],T+1,O)}(d,0,[3,11]),d}()}function tt(){this.jb=l(3),this.Wc=p([4,8],Cs),this.Xc=p([4,17],Cs)}function u0(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new l(4),this.od=new l(4)}function cn(){this.ld=this.La=this.dd=this.tc=0}function ba(){this.Na=this.la=0}function f0(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ci(){this.ad=l(384),this.Za=0,this.Ob=l(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Li(){this.uc=this.M=this.Nb=0,this.wa=Array(new cn),this.Y=0,this.ya=Array(new Ci),this.aa=0,this.l=new ja}function mi(){this.y=l(16),this.f=l(8),this.ea=l(8)}function Rl(){this.cb=this.a=0,this.sc="",this.m=new ht,this.Od=new wo,this.Kc=new as,this.ed=new u0,this.Qa=new _o,this.Ic=this.$c=this.Aa=0,this.D=new Li,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=f(8,ht),this.ia=0,this.pb=f(4,f0),this.Pa=new tt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new mi),this.Hd=0,this.rb=Array(new ba),this.sb=0,this.wa=Array(new cn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ci),this.L=this.aa=0,this.gd=p([4,2],cn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ja(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Pl(){var d=new Rl;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,g0||(g0=bn)),d}function pi(d,g,b){return d.a==0&&(d.a=g,d.sc=b,d.cb=0),0}function Yo(d,g,b){return 3<=b&&d[g+0]==157&&d[g+1]==1&&d[g+2]==42}function ac(d,g){if(d==null)return 0;if(d.a=0,d.sc="OK",g==null)return pi(d,2,"null VP8Io passed to VP8GetHeaders()");var b=g.data,T=g.w,O=g.ha;if(4>O)return pi(d,7,"Truncated header.");var F=b[T+0]|b[T+1]<<8|b[T+2]<<16,j=d.Od;if(j.Rb=!(1&F),j.td=F>>1&7,j.yd=F>>4&1,j.ub=F>>5,3<j.td)return pi(d,3,"Incorrect keyframe parameters.");if(!j.yd)return pi(d,4,"Frame not displayable.");T+=3,O-=3;var q=d.Kc;if(j.Rb){if(7>O)return pi(d,7,"cannot parse picture header");if(!Yo(b,T,O))return pi(d,3,"Bad code word");q.c=16383&(b[T+4]<<8|b[T+3]),q.Td=b[T+4]>>6,q.i=16383&(b[T+6]<<8|b[T+5]),q.Ud=b[T+6]>>6,T+=7,O-=7,d.za=q.c+15>>4,d.Ub=q.i+15>>4,g.width=q.c,g.height=q.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,a((F=d.Pa).jb,0,255,F.jb.length),e((F=d.Qa)!=null),F.Cb=0,F.Bb=0,F.Fb=1,a(F.Zb,0,0,F.Zb.length),a(F.Lb,0,0,F.Lb)}if(j.ub>O)return pi(d,7,"bad partition length");be(F=d.m,b,T,j.ub),T+=j.ub,O-=j.ub,j.Rb&&(q.Ld=Pe(F),q.Kd=Pe(F)),q=d.Qa;var H,ee=d.Pa;if(e(F!=null),e(q!=null),q.Cb=Pe(F),q.Cb){if(q.Bb=Pe(F),Pe(F)){for(q.Fb=Pe(F),H=0;4>H;++H)q.Zb[H]=Pe(F)?ze(F,7):0;for(H=0;4>H;++H)q.Lb[H]=Pe(F)?ze(F,6):0}if(q.Bb)for(H=0;3>H;++H)ee.jb[H]=Pe(F)?Be(F,8):255}else q.Bb=0;if(F.Ka)return pi(d,3,"cannot parse segment header");if((q=d.ed).zd=Pe(F),q.Tb=Be(F,6),q.wb=Be(F,3),q.Pc=Pe(F),q.Pc&&Pe(F)){for(ee=0;4>ee;++ee)Pe(F)&&(q.vd[ee]=ze(F,6));for(ee=0;4>ee;++ee)Pe(F)&&(q.od[ee]=ze(F,6))}if(d.L=q.Tb==0?0:q.zd?1:2,F.Ka)return pi(d,3,"cannot parse filter header");var de=O;if(O=H=T,T=H+de,q=de,d.Xb=(1<<Be(d.m,2))-1,de<3*(ee=d.Xb))b=7;else{for(H+=3*ee,q-=3*ee,de=0;de<ee;++de){var Ne=b[O+0]|b[O+1]<<8|b[O+2]<<16;Ne>q&&(Ne=q),be(d.Jc[+de],b,H,Ne),H+=Ne,q-=Ne,O+=3}be(d.Jc[+ee],b,H,q),b=H<T?0:5}if(b!=0)return pi(d,b,"cannot parse partitions");for(b=Be(H=d.m,7),O=Pe(H)?ze(H,4):0,T=Pe(H)?ze(H,4):0,q=Pe(H)?ze(H,4):0,ee=Pe(H)?ze(H,4):0,H=Pe(H)?ze(H,4):0,de=d.Qa,Ne=0;4>Ne;++Ne){if(de.Cb){var Te=de.Zb[Ne];de.Fb||(Te+=b)}else{if(0<Ne){d.pb[Ne]=d.pb[0];continue}Te=b}var we=d.pb[Ne];we.Sc[0]=Cf[Sn(Te+O,127)],we.Sc[1]=Sf[Sn(Te+0,127)],we.Eb[0]=2*Cf[Sn(Te+T,127)],we.Eb[1]=101581*Sf[Sn(Te+q,127)]>>16,8>we.Eb[1]&&(we.Eb[1]=8),we.Qc[0]=Cf[Sn(Te+ee,117)],we.Qc[1]=Sf[Sn(Te+H,127)],we.lc=Te+H}if(!j.Rb)return pi(d,4,"Not a key frame.");for(Pe(F),j=d.Pa,b=0;4>b;++b){for(O=0;8>O;++O)for(T=0;3>T;++T)for(q=0;11>q;++q)ee=De(F,Hv[b][O][T][q])?Be(F,8):qv[b][O][T][q],j.Wc[b][O].Yb[T][q]=ee;for(O=0;17>O;++O)j.Xc[b][O]=j.Wc[b][Gv[O]]}return d.kc=Pe(F),d.kc&&(d.Bd=Be(F,8)),d.cb=1}function bn(d,g,b,T,O,F,j){var q=g[O].Yb[b];for(b=0;16>O;++O){if(!De(d,q[b+0]))return O;for(;!De(d,q[b+1]);)if(q=g[++O].Yb[0],b=0,O==16)return 16;var H=g[O+1].Yb;if(De(d,q[b+2])){var ee=d,de=0;if(De(ee,(Te=q)[(Ne=b)+3]))if(De(ee,Te[Ne+6])){for(q=0,Ne=2*(de=De(ee,Te[Ne+8]))+(Te=De(ee,Te[Ne+9+de])),de=0,Te=jv[Ne];Te[q];++q)de+=de+De(ee,Te[q]);de+=3+(8<<Ne)}else De(ee,Te[Ne+7])?(de=7+2*De(ee,165),de+=De(ee,145)):de=5+De(ee,159);else de=De(ee,Te[Ne+4])?3+De(ee,Te[Ne+5]):2;q=H[2]}else de=1,q=H[1];H=j+Vv[O],0>(ee=d).b&&Me(ee);var Ne,Te=ee.b,we=(Ne=ee.Ca>>1)-(ee.I>>Te)>>31;--ee.b,ee.Ca+=we,ee.Ca|=1,ee.I-=(Ne+1&we)<<Te,F[H]=((de^we)-we)*T[(0<O)+0]}return 16}function Va(d){var g=d.rb[d.sb-1];g.la=0,g.Na=0,a(d.zc,0,0,d.zc.length),d.ja=0}function h0(d,g){if(d==null)return 0;if(g==null)return pi(d,2,"NULL VP8Io parameter in VP8Decode().");if(!d.cb&&!ac(d,g))return 0;if(e(d.cb),g.ac==null||g.ac(g)){g.ob&&(d.L=0);var b=gu[d.L];if(d.L==2?(d.yb=0,d.zb=0):(d.yb=g.v-b>>4,d.zb=g.j-b>>4,0>d.yb&&(d.yb=0),0>d.zb&&(d.zb=0)),d.Va=g.o+15+b>>4,d.Hb=g.va+15+b>>4,d.Hb>d.za&&(d.Hb=d.za),d.Va>d.Ub&&(d.Va=d.Ub),0<d.L){var T=d.ed;for(b=0;4>b;++b){var O;if(d.Qa.Cb){var F=d.Qa.Lb[b];d.Qa.Fb||(F+=T.Tb)}else F=T.Tb;for(O=0;1>=O;++O){var j=d.gd[b][O],q=F;if(T.Pc&&(q+=T.vd[0],O&&(q+=T.od[0])),0<(q=0>q?0:63<q?63:q)){var H=q;0<T.wb&&(H=4<T.wb?H>>2:H>>1)>9-T.wb&&(H=9-T.wb),1>H&&(H=1),j.dd=H,j.tc=2*q+H,j.ld=40<=q?2:15<=q?1:0}else j.tc=0;j.La=O}}}b=0}else pi(d,6,"Frame setup failed"),b=d.a;if(b=b==0){if(b){d.$c=0,0<d.Aa||(d.Ic=rE);e:{b=d.Ic,T=4*(H=d.za);var ee=32*H,de=H+1,Ne=0<d.L?H*(0<d.Aa?2:1):0,Te=(d.Aa==2?2:1)*H;if((j=T+832+(O=3*(16*b+gu[d.L])/2*ee)+(F=d.Fa!=null&&0<d.Fa.length?d.Kc.c*d.Kc.i:0))!=j)b=0;else{if(j>d.Vb){if(d.Vb=0,d.Ec=l(j),d.Fc=0,d.Ec==null){b=pi(d,1,"no memory during frame initialization.");break e}d.Vb=j}j=d.Ec,q=d.Fc,d.Ac=j,d.Bc=q,q+=T,d.Gd=f(ee,mi),d.Hd=0,d.rb=f(de+1,ba),d.sb=1,d.wa=Ne?f(Ne,cn):null,d.Y=0,d.D.Nb=0,d.D.wa=d.wa,d.D.Y=d.Y,0<d.Aa&&(d.D.Y+=H),e(!0),d.oc=j,d.pc=q,q+=832,d.ya=f(Te,Ci),d.aa=0,d.D.ya=d.ya,d.D.aa=d.aa,d.Aa==2&&(d.D.aa+=H),d.R=16*H,d.B=8*H,H=(ee=gu[d.L])*d.R,ee=ee/2*d.B,d.sa=j,d.ta=q+H,d.qa=d.sa,d.ra=d.ta+16*b*d.R+ee,d.Ha=d.qa,d.Ia=d.ra+8*b*d.B+ee,d.$c=0,q+=O,d.mb=F?j:null,d.nb=F?q:null,e(q+F<=d.Fc+d.Vb),Va(d),a(d.Ac,d.Bc,0,T),b=1}}if(b){if(g.ka=0,g.y=d.sa,g.O=d.ta,g.f=d.qa,g.N=d.ra,g.ea=d.Ha,g.Vd=d.Ia,g.fa=d.R,g.Rc=d.B,g.F=null,g.J=0,!ym){for(b=-255;255>=b;++b)gm[255+b]=0>b?-b:b;for(b=-1020;1020>=b;++b)vm[1020+b]=-128>b?-128:127<b?127:b;for(b=-112;112>=b;++b)Em[112+b]=-16>b?-16:15<b?15:b;for(b=-255;510>=b;++b)xm[255+b]=0>b?0:255<b?255:b;ym=1}ye=kl,Le=Ot,ct=er,Ve=oo,ni=sc,nt=Z,Jt=Fl,cr=ke,Ir=Ul,Wn=Ns,zi=ci,tn=kn,Yn=jl,Hi=pc,Gi=dc,Xn=Na,ur=Si,hs=mc,La[0]=Zt,La[1]=Ut,La[2]=Wt,La[3]=m0,La[4]=tr,La[5]=Ha,La[6]=uc,La[7]=As,La[8]=p0,La[9]=Aa,ks[0]=Ss,ks[1]=cc,ks[2]=Ca,ks[3]=qa,ks[4]=Mr,ks[5]=d0,ks[6]=za,ds[0]=Ia,ds[1]=lc,ds[2]=ss,ds[3]=Is,ds[4]=cs,ds[5]=ls,ds[6]=vr,b=1}else b=0}b&&(b=function(we,et){for(we.M=0;we.M<we.Va;++we.M){var qe,pe=we.Jc[we.M&we.Xb],Ee=we.m,Je=we;for(qe=0;qe<Je.za;++qe){var it=Ee,$e=Je,At=$e.Ac,gt=$e.Bc+4*qe,Xt=$e.zc,xt=$e.ya[$e.aa+qe];if($e.Qa.Bb?xt.$b=De(it,$e.Pa.jb[0])?2+De(it,$e.Pa.jb[2]):De(it,$e.Pa.jb[1]):xt.$b=0,$e.kc&&(xt.Ad=De(it,$e.Bd)),xt.Za=!De(it,145)+0,xt.Za){var Ji=xt.Ob,un=0;for($e=0;4>$e;++$e){var Wi,Ai=Xt[0+$e];for(Wi=0;4>Wi;++Wi){Ai=zv[At[gt+Wi]][Ai];for(var yn=Cm[De(it,Ai[0])];0<yn;)yn=Cm[2*yn+De(it,Ai[yn])];Ai=-yn,At[gt+Wi]=Ai}n(Ji,un,At,gt,4),un+=4,Xt[0+$e]=Ai}}else Ai=De(it,156)?De(it,128)?1:3:De(it,163)?2:0,xt.Ob[0]=Ai,a(At,gt,Ai,4),a(Xt,0,Ai,4);xt.Dd=De(it,142)?De(it,114)?De(it,183)?1:3:2:0}if(Je.m.Ka)return pi(we,7,"Premature end-of-partition0 encountered.");for(;we.ja<we.za;++we.ja){if(Je=pe,it=(Ee=we).rb[Ee.sb-1],At=Ee.rb[Ee.sb+Ee.ja],qe=Ee.ya[Ee.aa+Ee.ja],gt=Ee.kc?qe.Ad:0)it.la=At.la=0,qe.Za||(it.Na=At.Na=0),qe.Hc=0,qe.Gc=0,qe.ia=0;else{var dn,fi;if(it=At,At=Je,gt=Ee.Pa.Xc,Xt=Ee.ya[Ee.aa+Ee.ja],xt=Ee.pb[Xt.$b],$e=Xt.ad,Ji=0,un=Ee.rb[Ee.sb-1],Ai=Wi=0,a($e,Ji,0,384),Xt.Za)var xr=0,Ro=gt[3];else{yn=l(16);var yr=it.Na+un.Na;if(yr=g0(At,gt[1],yr,xt.Eb,0,yn,0),it.Na=un.Na=(0<yr)+0,1<yr)ye(yn,0,$e,Ji);else{var Po=yn[0]+3>>3;for(yn=0;256>yn;yn+=16)$e[Ji+yn]=Po}xr=1,Ro=gt[0]}var fn=15&it.la,Ko=15&un.la;for(yn=0;4>yn;++yn){var Jo=1&Ko;for(Po=fi=0;4>Po;++Po)fn=fn>>1|(Jo=(yr=g0(At,Ro,yr=Jo+(1&fn),xt.Sc,xr,$e,Ji))>xr)<<7,fi=fi<<2|(3<yr?3:1<yr?2:$e[Ji+0]!=0),Ji+=16;fn>>=4,Ko=Ko>>1|Jo<<7,Wi=(Wi<<8|fi)>>>0}for(Ro=fn,xr=Ko>>4,dn=0;4>dn;dn+=2){for(fi=0,fn=it.la>>4+dn,Ko=un.la>>4+dn,yn=0;2>yn;++yn){for(Jo=1&Ko,Po=0;2>Po;++Po)yr=Jo+(1&fn),fn=fn>>1|(Jo=0<(yr=g0(At,gt[2],yr,xt.Qc,0,$e,Ji)))<<3,fi=fi<<2|(3<yr?3:1<yr?2:$e[Ji+0]!=0),Ji+=16;fn>>=2,Ko=Ko>>1|Jo<<5}Ai|=fi<<4*dn,Ro|=fn<<4<<dn,xr|=(240&Ko)<<dn}it.la=Ro,un.la=xr,Xt.Hc=Wi,Xt.Gc=Ai,Xt.ia=43690&Ai?0:xt.ia,gt=!(Wi|Ai)}if(0<Ee.L&&(Ee.wa[Ee.Y+Ee.ja]=Ee.gd[qe.$b][qe.Za],Ee.wa[Ee.Y+Ee.ja].La|=!gt),Je.Ka)return pi(we,7,"Premature end-of-file encountered.")}if(Va(we),Ee=et,Je=1,qe=(pe=we).D,it=0<pe.L&&pe.M>=pe.zb&&pe.M<=pe.Va,pe.Aa==0)e:{if(qe.M=pe.M,qe.uc=it,fs(pe,qe),Je=1,qe=(fi=pe.D).Nb,it=(Ai=gu[pe.L])*pe.R,At=Ai/2*pe.B,yn=16*qe*pe.R,Po=8*qe*pe.B,gt=pe.sa,Xt=pe.ta-it+yn,xt=pe.qa,$e=pe.ra-At+Po,Ji=pe.Ha,un=pe.Ia-At+Po,Ko=(fn=fi.M)==0,Wi=fn>=pe.Va-1,pe.Aa==2&&fs(pe,fi),fi.uc)for(Jo=(yr=pe).D.M,e(yr.D.uc),fi=yr.yb;fi<yr.Hb;++fi){xr=fi,Ro=Jo;var Or=(no=(ir=yr).D).Nb;dn=ir.R;var no=no.wa[no.Y+xr],Co=ir.sa,ha=ir.ta+16*Or*dn+16*xr,Wa=no.dd,Rr=no.tc;if(Rr!=0)if(e(3<=Rr),ir.L==1)0<xr&&Xn(Co,ha,dn,Rr+4),no.La&&hs(Co,ha,dn,Rr),0<Ro&&Gi(Co,ha,dn,Rr+4),no.La&&ur(Co,ha,dn,Rr);else{var ms=ir.B,zl=ir.qa,vc=ir.ra+8*Or*ms+8*xr,Fs=ir.Ha,ir=ir.Ia+8*Or*ms+8*xr;Or=no.ld,0<xr&&(cr(Co,ha,dn,Rr+4,Wa,Or),Wn(zl,vc,Fs,ir,ms,Rr+4,Wa,Or)),no.La&&(tn(Co,ha,dn,Rr,Wa,Or),Hi(zl,vc,Fs,ir,ms,Rr,Wa,Or)),0<Ro&&(Jt(Co,ha,dn,Rr+4,Wa,Or),Ir(zl,vc,Fs,ir,ms,Rr+4,Wa,Or)),no.La&&(zi(Co,ha,dn,Rr,Wa,Or),Yn(zl,vc,Fs,ir,ms,Rr,Wa,Or))}}if(pe.ia&&alert("todo:DitherRow"),Ee.put!=null){if(fi=16*fn,fn=16*(fn+1),Ko?(Ee.y=pe.sa,Ee.O=pe.ta+yn,Ee.f=pe.qa,Ee.N=pe.ra+Po,Ee.ea=pe.Ha,Ee.W=pe.Ia+Po):(fi-=Ai,Ee.y=gt,Ee.O=Xt,Ee.f=xt,Ee.N=$e,Ee.ea=Ji,Ee.W=un),Wi||(fn-=Ai),fn>Ee.o&&(fn=Ee.o),Ee.F=null,Ee.J=null,pe.Fa!=null&&0<pe.Fa.length&&fi<fn&&(Ee.J=Vl(pe,Ee,fi,fn-fi),Ee.F=pe.mb,Ee.F==null&&Ee.F.length==0)){Je=pi(pe,3,"Could not decode alpha data.");break e}fi<Ee.j&&(Ai=Ee.j-fi,fi=Ee.j,e(!(1&Ai)),Ee.O+=pe.R*Ai,Ee.N+=pe.B*(Ai>>1),Ee.W+=pe.B*(Ai>>1),Ee.F!=null&&(Ee.J+=Ee.width*Ai)),fi<fn&&(Ee.O+=Ee.v,Ee.N+=Ee.v>>1,Ee.W+=Ee.v>>1,Ee.F!=null&&(Ee.J+=Ee.v),Ee.ka=fi-Ee.j,Ee.U=Ee.va-Ee.v,Ee.T=fn-fi,Je=Ee.put(Ee))}qe+1!=pe.Ic||Wi||(n(pe.sa,pe.ta-it,gt,Xt+16*pe.R,it),n(pe.qa,pe.ra-At,xt,$e+8*pe.B,At),n(pe.Ha,pe.Ia-At,Ji,un+8*pe.B,At))}if(!Je)return pi(we,6,"Output aborted.")}return 1}(d,g)),g.bc!=null&&g.bc(g),b&=1}return b?(d.cb=0,b):0}function to(d,g,b,T,O){O=d[g+b+32*T]+(O>>3),d[g+b+32*T]=-256&O?0>O?0:255:O}function qi(d,g,b,T,O,F){to(d,g,0,b,T+O),to(d,g,1,b,T+F),to(d,g,2,b,T-F),to(d,g,3,b,T-O)}function Ki(d){return(20091*d>>16)+d}function Se(d,g,b,T){var O,F=0,j=l(16);for(O=0;4>O;++O){var q=d[g+0]+d[g+8],H=d[g+0]-d[g+8],ee=(35468*d[g+4]>>16)-Ki(d[g+12]),de=Ki(d[g+4])+(35468*d[g+12]>>16);j[F+0]=q+de,j[F+1]=H+ee,j[F+2]=H-ee,j[F+3]=q-de,F+=4,g++}for(O=F=0;4>O;++O)q=(d=j[F+0]+4)+j[F+8],H=d-j[F+8],ee=(35468*j[F+4]>>16)-Ki(j[F+12]),to(b,T,0,0,q+(de=Ki(j[F+4])+(35468*j[F+12]>>16))),to(b,T,1,0,H+ee),to(b,T,2,0,H-ee),to(b,T,3,0,q-de),F++,T+=32}function Z(d,g,b,T){var O=d[g+0]+4,F=35468*d[g+4]>>16,j=Ki(d[g+4]),q=35468*d[g+1]>>16;qi(b,T,0,O+j,d=Ki(d[g+1]),q),qi(b,T,1,O+F,d,q),qi(b,T,2,O-F,d,q),qi(b,T,3,O-j,d,q)}function Ot(d,g,b,T,O){Se(d,g,b,T),O&&Se(d,g+16,b,T+4)}function er(d,g,b,T){Le(d,g+0,b,T,1),Le(d,g+32,b,T+128,1)}function oo(d,g,b,T){var O;for(d=d[g+0]+4,O=0;4>O;++O)for(g=0;4>g;++g)to(b,T,g,O,d)}function sc(d,g,b,T){d[g+0]&&Ve(d,g+0,b,T),d[g+16]&&Ve(d,g+16,b,T+4),d[g+32]&&Ve(d,g+32,b,T+128),d[g+48]&&Ve(d,g+48,b,T+128+4)}function kl(d,g,b,T){var O,F=l(16);for(O=0;4>O;++O){var j=d[g+0+O]+d[g+12+O],q=d[g+4+O]+d[g+8+O],H=d[g+4+O]-d[g+8+O],ee=d[g+0+O]-d[g+12+O];F[0+O]=j+q,F[8+O]=j-q,F[4+O]=ee+H,F[12+O]=ee-H}for(O=0;4>O;++O)j=(d=F[0+4*O]+3)+F[3+4*O],q=F[1+4*O]+F[2+4*O],H=F[1+4*O]-F[2+4*O],ee=d-F[3+4*O],b[T+0]=j+q>>3,b[T+16]=ee+H>>3,b[T+32]=j-q>>3,b[T+48]=ee-H>>3,T+=64}function io(d,g,b){var T,O=g-32,F=Zo,j=255-d[O-1];for(T=0;T<b;++T){var q,H=F,ee=j+d[g-1];for(q=0;q<b;++q)d[g+q]=H[ee+d[O+q]];g+=32}}function Ut(d,g){io(d,g,4)}function lc(d,g){io(d,g,8)}function cc(d,g){io(d,g,16)}function Ca(d,g){var b;for(b=0;16>b;++b)n(d,g+32*b,d,g-32,16)}function qa(d,g){var b;for(b=16;0<b;--b)a(d,g,d[g-1],16),g+=32}function Sa(d,g,b){var T;for(T=0;16>T;++T)a(g,b+32*T,d,16)}function Ss(d,g){var b,T=16;for(b=0;16>b;++b)T+=d[g-1+32*b]+d[g+b-32];Sa(T>>5,d,g)}function Mr(d,g){var b,T=8;for(b=0;16>b;++b)T+=d[g-1+32*b];Sa(T>>4,d,g)}function d0(d,g){var b,T=8;for(b=0;16>b;++b)T+=d[g+b-32];Sa(T>>4,d,g)}function za(d,g){Sa(128,d,g)}function Gt(d,g,b){return d+2*g+b+2>>2}function Wt(d,g){var b,T=g-32;for(T=new Uint8Array([Gt(d[T-1],d[T+0],d[T+1]),Gt(d[T+0],d[T+1],d[T+2]),Gt(d[T+1],d[T+2],d[T+3]),Gt(d[T+2],d[T+3],d[T+4])]),b=0;4>b;++b)n(d,g+32*b,T,0,T.length)}function m0(d,g){var b=d[g-1],T=d[g-1+32],O=d[g-1+64],F=d[g-1+96];st(d,g+0,16843009*Gt(d[g-1-32],b,T)),st(d,g+32,16843009*Gt(b,T,O)),st(d,g+64,16843009*Gt(T,O,F)),st(d,g+96,16843009*Gt(O,F,F))}function Zt(d,g){var b,T=4;for(b=0;4>b;++b)T+=d[g+b-32]+d[g-1+32*b];for(T>>=3,b=0;4>b;++b)a(d,g+32*b,T,4)}function tr(d,g){var b=d[g-1+0],T=d[g-1+32],O=d[g-1+64],F=d[g-1-32],j=d[g+0-32],q=d[g+1-32],H=d[g+2-32],ee=d[g+3-32];d[g+0+96]=Gt(T,O,d[g-1+96]),d[g+1+96]=d[g+0+64]=Gt(b,T,O),d[g+2+96]=d[g+1+64]=d[g+0+32]=Gt(F,b,T),d[g+3+96]=d[g+2+64]=d[g+1+32]=d[g+0+0]=Gt(j,F,b),d[g+3+64]=d[g+2+32]=d[g+1+0]=Gt(q,j,F),d[g+3+32]=d[g+2+0]=Gt(H,q,j),d[g+3+0]=Gt(ee,H,q)}function uc(d,g){var b=d[g+1-32],T=d[g+2-32],O=d[g+3-32],F=d[g+4-32],j=d[g+5-32],q=d[g+6-32],H=d[g+7-32];d[g+0+0]=Gt(d[g+0-32],b,T),d[g+1+0]=d[g+0+32]=Gt(b,T,O),d[g+2+0]=d[g+1+32]=d[g+0+64]=Gt(T,O,F),d[g+3+0]=d[g+2+32]=d[g+1+64]=d[g+0+96]=Gt(O,F,j),d[g+3+32]=d[g+2+64]=d[g+1+96]=Gt(F,j,q),d[g+3+64]=d[g+2+96]=Gt(j,q,H),d[g+3+96]=Gt(q,H,H)}function Ha(d,g){var b=d[g-1+0],T=d[g-1+32],O=d[g-1+64],F=d[g-1-32],j=d[g+0-32],q=d[g+1-32],H=d[g+2-32],ee=d[g+3-32];d[g+0+0]=d[g+1+64]=F+j+1>>1,d[g+1+0]=d[g+2+64]=j+q+1>>1,d[g+2+0]=d[g+3+64]=q+H+1>>1,d[g+3+0]=H+ee+1>>1,d[g+0+96]=Gt(O,T,b),d[g+0+64]=Gt(T,b,F),d[g+0+32]=d[g+1+96]=Gt(b,F,j),d[g+1+32]=d[g+2+96]=Gt(F,j,q),d[g+2+32]=d[g+3+96]=Gt(j,q,H),d[g+3+32]=Gt(q,H,ee)}function As(d,g){var b=d[g+0-32],T=d[g+1-32],O=d[g+2-32],F=d[g+3-32],j=d[g+4-32],q=d[g+5-32],H=d[g+6-32],ee=d[g+7-32];d[g+0+0]=b+T+1>>1,d[g+1+0]=d[g+0+64]=T+O+1>>1,d[g+2+0]=d[g+1+64]=O+F+1>>1,d[g+3+0]=d[g+2+64]=F+j+1>>1,d[g+0+32]=Gt(b,T,O),d[g+1+32]=d[g+0+96]=Gt(T,O,F),d[g+2+32]=d[g+1+96]=Gt(O,F,j),d[g+3+32]=d[g+2+96]=Gt(F,j,q),d[g+3+64]=Gt(j,q,H),d[g+3+96]=Gt(q,H,ee)}function Aa(d,g){var b=d[g-1+0],T=d[g-1+32],O=d[g-1+64],F=d[g-1+96];d[g+0+0]=b+T+1>>1,d[g+2+0]=d[g+0+32]=T+O+1>>1,d[g+2+32]=d[g+0+64]=O+F+1>>1,d[g+1+0]=Gt(b,T,O),d[g+3+0]=d[g+1+32]=Gt(T,O,F),d[g+3+32]=d[g+1+64]=Gt(O,F,F),d[g+3+64]=d[g+2+64]=d[g+0+96]=d[g+1+96]=d[g+2+96]=d[g+3+96]=F}function p0(d,g){var b=d[g-1+0],T=d[g-1+32],O=d[g-1+64],F=d[g-1+96],j=d[g-1-32],q=d[g+0-32],H=d[g+1-32],ee=d[g+2-32];d[g+0+0]=d[g+2+32]=b+j+1>>1,d[g+0+32]=d[g+2+64]=T+b+1>>1,d[g+0+64]=d[g+2+96]=O+T+1>>1,d[g+0+96]=F+O+1>>1,d[g+3+0]=Gt(q,H,ee),d[g+2+0]=Gt(j,q,H),d[g+1+0]=d[g+3+32]=Gt(b,j,q),d[g+1+32]=d[g+3+64]=Gt(T,b,j),d[g+1+64]=d[g+3+96]=Gt(O,T,b),d[g+1+96]=Gt(F,O,T)}function ss(d,g){var b;for(b=0;8>b;++b)n(d,g+32*b,d,g-32,8)}function Is(d,g){var b;for(b=0;8>b;++b)a(d,g,d[g-1],8),g+=32}function Xo(d,g,b){var T;for(T=0;8>T;++T)a(g,b+32*T,d,8)}function Ia(d,g){var b,T=8;for(b=0;8>b;++b)T+=d[g+b-32]+d[g-1+32*b];Xo(T>>4,d,g)}function ls(d,g){var b,T=4;for(b=0;8>b;++b)T+=d[g+b-32];Xo(T>>3,d,g)}function cs(d,g){var b,T=4;for(b=0;8>b;++b)T+=d[g-1+32*b];Xo(T>>3,d,g)}function vr(d,g){Xo(128,d,g)}function us(d,g,b){var T=d[g-b],O=d[g+0],F=3*(O-T)+xf[1020+d[g-2*b]-d[g+b]],j=lu[112+(F+4>>3)];d[g-b]=Zo[255+T+lu[112+(F+3>>3)]],d[g+0]=Zo[255+O-j]}function Bl(d,g,b,T){var O=d[g+0],F=d[g+b];return ua[255+d[g-2*b]-d[g-b]]>T||ua[255+F-O]>T}function fc(d,g,b,T){return 4*ua[255+d[g-b]-d[g+0]]+ua[255+d[g-2*b]-d[g+b]]<=T}function hc(d,g,b,T,O){var F=d[g-3*b],j=d[g-2*b],q=d[g-b],H=d[g+0],ee=d[g+b],de=d[g+2*b],Ne=d[g+3*b];return 4*ua[255+q-H]+ua[255+j-ee]>T?0:ua[255+d[g-4*b]-F]<=O&&ua[255+F-j]<=O&&ua[255+j-q]<=O&&ua[255+Ne-de]<=O&&ua[255+de-ee]<=O&&ua[255+ee-H]<=O}function dc(d,g,b,T){var O=2*T+1;for(T=0;16>T;++T)fc(d,g+T,b,O)&&us(d,g+T,b)}function Na(d,g,b,T){var O=2*T+1;for(T=0;16>T;++T)fc(d,g+T*b,1,O)&&us(d,g+T*b,1)}function Si(d,g,b,T){var O;for(O=3;0<O;--O)dc(d,g+=4*b,b,T)}function mc(d,g,b,T){var O;for(O=3;0<O;--O)Na(d,g+=4,b,T)}function Qo(d,g,b,T,O,F,j,q){for(F=2*F+1;0<O--;){if(hc(d,g,b,F,j))if(Bl(d,g,b,q))us(d,g,b);else{var H=d,ee=g,de=b,Ne=H[ee-2*de],Te=H[ee-de],we=H[ee+0],et=H[ee+de],qe=H[ee+2*de],pe=27*(Je=xf[1020+3*(we-Te)+xf[1020+Ne-et]])+63>>7,Ee=18*Je+63>>7,Je=9*Je+63>>7;H[ee-3*de]=Zo[255+H[ee-3*de]+Je],H[ee-2*de]=Zo[255+Ne+Ee],H[ee-de]=Zo[255+Te+pe],H[ee+0]=Zo[255+we-pe],H[ee+de]=Zo[255+et-Ee],H[ee+2*de]=Zo[255+qe-Je]}g+=T}}function Er(d,g,b,T,O,F,j,q){for(F=2*F+1;0<O--;){if(hc(d,g,b,F,j))if(Bl(d,g,b,q))us(d,g,b);else{var H=d,ee=g,de=b,Ne=H[ee-de],Te=H[ee+0],we=H[ee+de],et=lu[112+((qe=3*(Te-Ne))+4>>3)],qe=lu[112+(qe+3>>3)],pe=et+1>>1;H[ee-2*de]=Zo[255+H[ee-2*de]+pe],H[ee-de]=Zo[255+Ne+qe],H[ee+0]=Zo[255+Te-et],H[ee+de]=Zo[255+we-pe]}g+=T}}function Fl(d,g,b,T,O,F){Qo(d,g,b,1,16,T,O,F)}function ke(d,g,b,T,O,F){Qo(d,g,1,b,16,T,O,F)}function ci(d,g,b,T,O,F){var j;for(j=3;0<j;--j)Er(d,g+=4*b,b,1,16,T,O,F)}function kn(d,g,b,T,O,F){var j;for(j=3;0<j;--j)Er(d,g+=4,1,b,16,T,O,F)}function Ul(d,g,b,T,O,F,j,q){Qo(d,g,O,1,8,F,j,q),Qo(b,T,O,1,8,F,j,q)}function Ns(d,g,b,T,O,F,j,q){Qo(d,g,1,O,8,F,j,q),Qo(b,T,1,O,8,F,j,q)}function jl(d,g,b,T,O,F,j,q){Er(d,g+4*O,O,1,8,F,j,q),Er(b,T+4*O,O,1,8,F,j,q)}function pc(d,g,b,T,O,F,j,q){Er(d,g+4,1,O,8,F,j,q),Er(b,T+4,1,O,8,F,j,q)}function Ts(){this.ba=new Lo,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Oi,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ms(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Dn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ls(){this.ua=0,this.Wa=new oe,this.vb=new oe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ae,this.yc=new X}function Ga(){this.xb=this.a=0,this.l=new ja,this.ca=new Lo,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new B,this.Pb=0,this.wd=new B,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ls,this.ab=0,this.gc=f(4,Dn),this.Oc=0}function Ta(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ja,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function sa(d,g,b,T,O,F,j){for(d=d==null?0:d[g+0],g=0;g<j;++g)O[F+g]=d+b[T+g]&255,d=O[F+g]}function Yi(d,g,b,T,O,F,j){var q;if(d==null)sa(null,null,b,T,O,F,j);else for(q=0;q<j;++q)O[F+q]=d[g+q]+b[T+q]&255}function Rt(d,g,b,T,O,F,j){if(d==null)sa(null,null,b,T,O,F,j);else{var q,H=d[g+0],ee=H,de=H;for(q=0;q<j;++q)ee=de+(H=d[g+q])-ee,de=b[T+q]+(-256&ee?0>ee?0:255:ee)&255,ee=H,O[F+q]=de}}function Vl(d,g,b,T){var O=g.width,F=g.o;if(e(d!=null&&g!=null),0>b||0>=T||b+T>F)return null;if(!d.Cc){if(d.ga==null){var j;if(d.ga=new Ta,(j=d.ga==null)||(j=g.width*g.o,e(d.Gb.length==0),d.Gb=l(j),d.Uc=0,d.Gb==null?j=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,j=1),j=!j),!j){j=d.ga;var q=d.Fa,H=d.P,ee=d.qc,de=d.mb,Ne=d.nb,Te=H+1,we=ee-1,et=j.l;if(e(q!=null&&de!=null&&g!=null),Bs[0]=null,Bs[1]=sa,Bs[2]=Yi,Bs[3]=Rt,j.ca=de,j.tb=Ne,j.c=g.width,j.i=g.height,e(0<j.c&&0<j.i),1>=ee)g=0;else if(j.$a=q[H+0]>>0&3,j.Z=q[H+0]>>2&3,j.Lc=q[H+0]>>4&3,H=q[H+0]>>6&3,0>j.$a||1<j.$a||4<=j.Z||1<j.Lc||H)g=0;else if(et.put=sr,et.ac=Kn,et.bc=oa,et.ma=j,et.width=g.width,et.height=g.height,et.Da=g.Da,et.v=g.v,et.va=g.va,et.j=g.j,et.o=g.o,j.$a)e:{e(j.$a==1),g=Oo();t:for(;;){if(g==null){g=0;break e}if(e(j!=null),j.mc=g,g.c=j.c,g.i=j.i,g.l=j.l,g.l.ma=j,g.l.width=j.c,g.l.height=j.i,g.a=0,Ie(g.m,q,Te,we),!aa(j.c,j.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&lr(g.s)?(j.ic=1,q=g.c*g.i,g.Ta=null,g.Ua=0,g.V=l(q),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(j.ic=0,g=os(g,j.c)),!g))break t;g=1;break e}j.mc=null,g=0}else g=we>=j.c*j.i;j=!g}if(j)return null;d.ga.Lc!=1?d.Ga=0:T=F-b}e(d.ga!=null),e(b+T<=F);e:{if(g=(q=d.ga).c,F=q.l.o,q.$a==0){if(Te=d.rc,we=d.Vc,et=d.Fa,H=d.P+1+b*g,ee=d.mb,de=d.nb+b*g,e(H<=d.P+d.qc),q.Z!=0)for(e(Bs[q.Z]!=null),j=0;j<T;++j)Bs[q.Z](Te,we,et,H,ee,de,g),Te=ee,we=de,de+=g,H+=g;else for(j=0;j<T;++j)n(ee,de,et,H,g),Te=ee,we=de,de+=g,H+=g;d.rc=Te,d.Vc=we}else{if(e(q.mc!=null),g=b+T,e((j=q.mc)!=null),e(g<=j.i),j.C>=g)g=1;else if(q.ic||Ce(),q.ic){q=j.V,Te=j.Ba,we=j.c;var qe=j.i,pe=(et=1,H=j.$/we,ee=j.$%we,de=j.m,Ne=j.s,j.$),Ee=we*qe,Je=we*g,it=Ne.wc,$e=pe<Je?lt(Ne,ee,H):null;e(pe<=Ee),e(g<=qe),e(lr(Ne));t:for(;;){for(;!de.h&&pe<Je;){if(ee&it||($e=lt(Ne,ee,H)),e($e!=null),ve(de),256>(qe=$n($e.G[0],$e.H[0],de)))q[Te+pe]=qe,++pe,++ee>=we&&(ee=0,++H<=g&&!(H%16)&&Go(j,H));else{if(!(280>qe)){et=0;break t}qe=yo(qe-256,de);var At,gt=$n($e.G[4],$e.H[4],de);if(ve(de),!(pe>=(gt=Jn(we,gt=yo(gt,de)))&&Ee-pe>=qe)){et=0;break t}for(At=0;At<qe;++At)q[Te+pe+At]=q[Te+pe+At-gt];for(pe+=qe,ee+=qe;ee>=we;)ee-=we,++H<=g&&!(H%16)&&Go(j,H);pe<Je&&ee&it&&($e=lt(Ne,ee,H))}e(de.h==J(de))}Go(j,H>g?g:H);break t}!et||de.h&&pe<Ee?(et=0,j.a=de.h?5:3):j.$=pe,g=et}else g=ro(j,j.V,j.Ba,j.c,j.i,g,bs);if(!g){T=0;break e}}b+T>=F&&(d.Cc=1),T=1}if(!T)return null;if(d.Cc&&((T=d.ga)!=null&&(T.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+b*O}function y(d,g,b,T,O,F){for(;0<O--;){var j,q=d,H=g+(b?1:0),ee=d,de=g+(b?0:3);for(j=0;j<T;++j){var Ne=ee[de+4*j];Ne!=255&&(Ne*=32897,q[H+4*j+0]=q[H+4*j+0]*Ne>>23,q[H+4*j+1]=q[H+4*j+1]*Ne>>23,q[H+4*j+2]=q[H+4*j+2]*Ne>>23)}g+=F}}function R(d,g,b,T,O){for(;0<T--;){var F;for(F=0;F<b;++F){var j=d[g+2*F+0],q=15&(ee=d[g+2*F+1]),H=4369*q,ee=(240&ee|ee>>4)*H>>16;d[g+2*F+0]=(240&j|j>>4)*H>>16&240|(15&j|j<<4)*H>>16>>4&15,d[g+2*F+1]=240&ee|q}g+=O}}function te(d,g,b,T,O,F,j,q){var H,ee,de=255;for(ee=0;ee<O;++ee){for(H=0;H<T;++H){var Ne=d[g+H];F[j+4*H]=Ne,de&=Ne}g+=b,j+=q}return de!=255}function ue(d,g,b,T,O){var F;for(F=0;F<O;++F)b[T+F]=d[g+F]>>8}function Ce(){Ps=y,gc=R,su=te,pm=ue}function He(d,g,b){le[d]=function(T,O,F,j,q,H,ee,de,Ne,Te,we,et,qe,pe,Ee,Je,it){var $e,At=it-1>>1,gt=q[H+0]|ee[de+0]<<16,Xt=Ne[Te+0]|we[et+0]<<16;e(T!=null);var xt=3*gt+Xt+131074>>2;for(g(T[O+0],255&xt,xt>>16,qe,pe),F!=null&&(xt=3*Xt+gt+131074>>2,g(F[j+0],255&xt,xt>>16,Ee,Je)),$e=1;$e<=At;++$e){var Ji=q[H+$e]|ee[de+$e]<<16,un=Ne[Te+$e]|we[et+$e]<<16,Wi=gt+Ji+Xt+un+524296,Ai=Wi+2*(Ji+Xt)>>3;xt=Ai+gt>>1,gt=(Wi=Wi+2*(gt+un)>>3)+Ji>>1,g(T[O+2*$e-1],255&xt,xt>>16,qe,pe+(2*$e-1)*b),g(T[O+2*$e-0],255&gt,gt>>16,qe,pe+(2*$e-0)*b),F!=null&&(xt=Wi+Xt>>1,gt=Ai+un>>1,g(F[j+2*$e-1],255&xt,xt>>16,Ee,Je+(2*$e-1)*b),g(F[j+2*$e+0],255&gt,gt>>16,Ee,Je+(2*$e+0)*b)),gt=Ji,Xt=un}1&it||(xt=3*gt+Xt+131074>>2,g(T[O+it-1],255&xt,xt>>16,qe,pe+(it-1)*b),F!=null&&(xt=3*Xt+gt+131074>>2,g(F[j+it-1],255&xt,xt>>16,Ee,Je+(it-1)*b)))}}function rt(){fa[cu]=Yv,fa[uu]=Am,fa[wm]=Xv,fa[fu]=Im,fa[hu]=Nm,fa[yf]=Tm,fa[_m]=Qv,fa[wf]=Am,fa[_f]=Im,fa[du]=Nm,fa[bf]=Tm}function Ct(d){return d&~Zv?0>d?0:255:d>>Mm}function jt(d,g){return Ct((19077*d>>8)+(26149*g>>8)-14234)}function ai(d,g,b){return Ct((19077*d>>8)-(6419*g>>8)-(13320*b>>8)+8708)}function ui(d,g){return Ct((19077*d>>8)+(33050*g>>8)-17685)}function di(d,g,b,T,O){T[O+0]=jt(d,b),T[O+1]=ai(d,g,b),T[O+2]=ui(d,g)}function En(d,g,b,T,O){T[O+0]=ui(d,g),T[O+1]=ai(d,g,b),T[O+2]=jt(d,b)}function Bn(d,g,b,T,O){var F=ai(d,g,b);g=F<<3&224|ui(d,g)>>3,T[O+0]=248&jt(d,b)|F>>5,T[O+1]=g}function Cn(d,g,b,T,O){var F=240&ui(d,g)|15;T[O+0]=240&jt(d,b)|ai(d,g,b)>>4,T[O+1]=F}function Lr(d,g,b,T,O){T[O+0]=255,di(d,g,b,T,O+1)}function xn(d,g,b,T,O){En(d,g,b,T,O),T[O+3]=255}function ao(d,g,b,T,O){di(d,g,b,T,O),T[O+3]=255}function Sn(d,g){return 0>d?0:d>g?g:d}function la(d,g,b){le[d]=function(T,O,F,j,q,H,ee,de,Ne){for(var Te=de+(-2&Ne)*b;de!=Te;)g(T[O+0],F[j+0],q[H+0],ee,de),g(T[O+1],F[j+0],q[H+0],ee,de+b),O+=2,++j,++H,de+=2*b;1&Ne&&g(T[O+0],F[j+0],q[H+0],ee,de)}}function bo(d,g,b){return b==0?d==0?g==0?6:5:g==0?4:0:b}function ql(d,g,b,T,O){switch(d>>>30){case 3:Le(g,b,T,O,0);break;case 2:nt(g,b,T,O);break;case 1:Ve(g,b,T,O)}}function fs(d,g){var b,T,O=g.M,F=g.Nb,j=d.oc,q=d.pc+40,H=d.oc,ee=d.pc+584,de=d.oc,Ne=d.pc+600;for(b=0;16>b;++b)j[q+32*b-1]=129;for(b=0;8>b;++b)H[ee+32*b-1]=129,de[Ne+32*b-1]=129;for(0<O?j[q-1-32]=H[ee-1-32]=de[Ne-1-32]=129:(a(j,q-32-1,127,21),a(H,ee-32-1,127,9),a(de,Ne-32-1,127,9)),T=0;T<d.za;++T){var Te=g.ya[g.aa+T];if(0<T){for(b=-1;16>b;++b)n(j,q+32*b-4,j,q+32*b+12,4);for(b=-1;8>b;++b)n(H,ee+32*b-4,H,ee+32*b+4,4),n(de,Ne+32*b-4,de,Ne+32*b+4,4)}var we=d.Gd,et=d.Hd+T,qe=Te.ad,pe=Te.Hc;if(0<O&&(n(j,q-32,we[et].y,0,16),n(H,ee-32,we[et].f,0,8),n(de,Ne-32,we[et].ea,0,8)),Te.Za){var Ee=j,Je=q-32+16;for(0<O&&(T>=d.za-1?a(Ee,Je,we[et].y[15],4):n(Ee,Je,we[et+1].y,0,4)),b=0;4>b;b++)Ee[Je+128+b]=Ee[Je+256+b]=Ee[Je+384+b]=Ee[Je+0+b];for(b=0;16>b;++b,pe<<=2)Ee=j,Je=q+Dm[b],La[Te.Ob[b]](Ee,Je),ql(pe,qe,16*+b,Ee,Je)}else if(Ee=bo(T,O,Te.Ob[0]),ks[Ee](j,q),pe!=0)for(b=0;16>b;++b,pe<<=2)ql(pe,qe,16*+b,j,q+Dm[b]);for(b=Te.Gc,Ee=bo(T,O,Te.Dd),ds[Ee](H,ee),ds[Ee](de,Ne),pe=qe,Ee=H,Je=ee,255&(Te=b>>0)&&(170&Te?ct(pe,256,Ee,Je):ni(pe,256,Ee,Je)),Te=de,pe=Ne,255&(b>>=8)&&(170&b?ct(qe,320,Te,pe):ni(qe,320,Te,pe)),O<d.Ub-1&&(n(we[et].y,0,j,q+480,16),n(we[et].f,0,H,ee+224,8),n(we[et].ea,0,de,Ne+224,8)),b=8*F*d.B,we=d.sa,et=d.ta+16*T+16*F*d.R,qe=d.qa,Te=d.ra+8*T+b,pe=d.Ha,Ee=d.Ia+8*T+b,b=0;16>b;++b)n(we,et+b*d.R,j,q+32*b,16);for(b=0;8>b;++b)n(qe,Te+b*d.B,H,ee+32*b,8),n(pe,Ee+b*d.B,de,Ne+32*b,8)}}function Ds(d,g,b,T,O,F,j,q,H){var ee=[0],de=[0],Ne=0,Te=H!=null?H.kd:0,we=H??new Ms;if(d==null||12>b)return 7;we.data=d,we.w=g,we.ha=b,g=[g],b=[b],we.gb=[we.gb];e:{var et=g,qe=b,pe=we.gb;if(e(d!=null),e(qe!=null),e(pe!=null),pe[0]=0,12<=qe[0]&&!i(d,et[0],"RIFF")){if(i(d,et[0]+8,"WEBP")){pe=3;break e}var Ee=pt(d,et[0]+4);if(12>Ee||4294967286<Ee){pe=3;break e}if(Te&&Ee>qe[0]-8){pe=7;break e}pe[0]=Ee,et[0]+=12,qe[0]-=12}pe=0}if(pe!=0)return pe;for(Ee=0<we.gb[0],b=b[0];;){e:{var Je=d;qe=g,pe=b;var it=ee,$e=de,At=et=[0];if((xt=Ne=[Ne])[0]=0,8>pe[0])pe=7;else{if(!i(Je,qe[0],"VP8X")){if(pt(Je,qe[0]+4)!=10){pe=3;break e}if(18>pe[0]){pe=7;break e}var gt=pt(Je,qe[0]+8),Xt=1+vt(Je,qe[0]+12);if(2147483648<=Xt*(Je=1+vt(Je,qe[0]+15))){pe=3;break e}At!=null&&(At[0]=gt),it!=null&&(it[0]=Xt),$e!=null&&($e[0]=Je),qe[0]+=18,pe[0]-=18,xt[0]=1}pe=0}}if(Ne=Ne[0],et=et[0],pe!=0)return pe;if(qe=!!(2&et),!Ee&&Ne)return 3;if(F!=null&&(F[0]=!!(16&et)),j!=null&&(j[0]=qe),q!=null&&(q[0]=0),j=ee[0],et=de[0],Ne&&qe&&H==null){pe=0;break}if(4>b){pe=7;break}if(Ee&&Ne||!Ee&&!Ne&&!i(d,g[0],"ALPH")){b=[b],we.na=[we.na],we.P=[we.P],we.Sa=[we.Sa];e:{gt=d,pe=g,Ee=b;var xt=we.gb;it=we.na,$e=we.P,At=we.Sa,Xt=22,e(gt!=null),e(Ee!=null),Je=pe[0];var Ji=Ee[0];for(e(it!=null),e(At!=null),it[0]=null,$e[0]=null,At[0]=0;;){if(pe[0]=Je,Ee[0]=Ji,8>Ji){pe=7;break e}var un=pt(gt,Je+4);if(4294967286<un){pe=3;break e}var Wi=8+un+1&-2;if(Xt+=Wi,0<xt&&Xt>xt){pe=3;break e}if(!i(gt,Je,"VP8 ")||!i(gt,Je,"VP8L")){pe=0;break e}if(Ji[0]<Wi){pe=7;break e}i(gt,Je,"ALPH")||(it[0]=gt,$e[0]=Je+8,At[0]=un),Je+=Wi,Ji-=Wi}}if(b=b[0],we.na=we.na[0],we.P=we.P[0],we.Sa=we.Sa[0],pe!=0)break}b=[b],we.Ja=[we.Ja],we.xa=[we.xa];e:if(xt=d,pe=g,Ee=b,it=we.gb[0],$e=we.Ja,At=we.xa,gt=pe[0],Je=!i(xt,gt,"VP8 "),Xt=!i(xt,gt,"VP8L"),e(xt!=null),e(Ee!=null),e($e!=null),e(At!=null),8>Ee[0])pe=7;else{if(Je||Xt){if(xt=pt(xt,gt+4),12<=it&&xt>it-12){pe=3;break e}if(Te&&xt>Ee[0]-8){pe=7;break e}$e[0]=xt,pe[0]+=8,Ee[0]-=8,At[0]=Xt}else At[0]=5<=Ee[0]&&xt[gt+0]==47&&!(xt[gt+4]>>5),$e[0]=Ee[0];pe=0}if(b=b[0],we.Ja=we.Ja[0],we.xa=we.xa[0],g=g[0],pe!=0)break;if(4294967286<we.Ja)return 3;if(q==null||qe||(q[0]=we.xa?2:1),j=[j],et=[et],we.xa){if(5>b){pe=7;break}q=j,Te=et,qe=F,d==null||5>b?d=0:5<=b&&d[g+0]==47&&!(d[g+4]>>5)?(Ee=[0],xt=[0],it=[0],Ie($e=new B,d,g,b),Ft($e,Ee,xt,it)?(q!=null&&(q[0]=Ee[0]),Te!=null&&(Te[0]=xt[0]),qe!=null&&(qe[0]=it[0]),d=1):d=0):d=0}else{if(10>b){pe=7;break}q=et,d==null||10>b||!Yo(d,g+3,b-3)?d=0:(Te=d[g+0]|d[g+1]<<8|d[g+2]<<16,qe=16383&(d[g+7]<<8|d[g+6]),d=16383&(d[g+9]<<8|d[g+8]),1&Te||3<(Te>>1&7)||!(Te>>4&1)||Te>>5>=we.Ja||!qe||!d?d=0:(j&&(j[0]=qe),q&&(q[0]=d),d=1))}if(!d||(j=j[0],et=et[0],Ne&&(ee[0]!=j||de[0]!=et)))return 3;H!=null&&(H[0]=we,H.offset=g-H.w,e(4294967286>g-H.w),e(H.offset==H.ha-b));break}return pe==0||pe==7&&Ne&&H==null?(F!=null&&(F[0]|=we.na!=null&&0<we.na.length),T!=null&&(T[0]=j),O!=null&&(O[0]=et),0):pe}function Os(d,g,b){var T=g.width,O=g.height,F=0,j=0,q=T,H=O;if(g.Da=d!=null&&0<d.Da,g.Da&&(q=d.cd,H=d.bd,F=d.v,j=d.j,11>b||(F&=-2,j&=-2),0>F||0>j||0>=q||0>=H||F+q>T||j+H>O))return 0;if(g.v=F,g.j=j,g.va=F+q,g.o=j+H,g.U=q,g.T=H,g.da=d!=null&&0<d.da,g.da){if(!Et(q,H,b=[d.ib],F=[d.hb]))return 0;g.ib=b[0],g.hb=F[0]}return g.ob=d!=null&&d.ob,g.Kb=d==null||!d.Sd,g.da&&(g.ob=g.ib<3*T/4&&g.hb<3*O/4,g.Kb=0),1}function so(d){if(d==null)return 2;if(11>d.S){var g=d.f.RGBA;g.fb+=(d.height-1)*g.A,g.A=-g.A}else g=d.f.kb,d=d.height,g.O+=(d-1)*g.fa,g.fa=-g.fa,g.N+=(d-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(d-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(d-1)*g.lb,g.lb=-g.lb);return 0}function Rs(d,g,b,T){if(T==null||0>=d||0>=g)return 2;if(b!=null){if(b.Da){var O=b.cd,F=b.bd,j=-2&b.v,q=-2&b.j;if(0>j||0>q||0>=O||0>=F||j+O>d||q+F>g)return 2;d=O,g=F}if(b.da){if(!Et(d,g,O=[b.ib],F=[b.hb]))return 2;d=O[0],g=F[0]}}T.width=d,T.height=g;e:{var H=T.width,ee=T.height;if(d=T.S,0>=H||0>=ee||!(d>=cu&&13>d))d=2;else{if(0>=T.Rd&&T.sd==null){j=F=O=g=0;var de=(q=H*Om[d])*ee;if(11>d||(F=(ee+1)/2*(g=(H+1)/2),d==12&&(j=(O=H)*ee)),(ee=l(de+2*F+j))==null){d=1;break e}T.sd=ee,11>d?((H=T.f.RGBA).eb=ee,H.fb=0,H.A=q,H.size=de):((H=T.f.kb).y=ee,H.O=0,H.fa=q,H.Fd=de,H.f=ee,H.N=0+de,H.Ab=g,H.Cd=F,H.ea=ee,H.W=0+de+F,H.Db=g,H.Ed=F,d==12&&(H.F=ee,H.J=0+de+2*F),H.Tc=j,H.lb=O)}if(g=1,O=T.S,F=T.width,j=T.height,O>=cu&&13>O)if(11>O)d=T.f.RGBA,g&=(q=Math.abs(d.A))*(j-1)+F<=d.size,g&=q>=F*Om[O],g&=d.eb!=null;else{d=T.f.kb,q=(F+1)/2,de=(j+1)/2,H=Math.abs(d.fa),ee=Math.abs(d.Ab);var Ne=Math.abs(d.Db),Te=Math.abs(d.lb),we=Te*(j-1)+F;g&=H*(j-1)+F<=d.Fd,g&=ee*(de-1)+q<=d.Cd,g=(g&=Ne*(de-1)+q<=d.Ed)&H>=F&ee>=q&Ne>=q,g&=d.y!=null,g&=d.f!=null,g&=d.ea!=null,O==12&&(g&=Te>=F,g&=we<=d.Tc,g&=d.F!=null)}else g=0;d=g?0:2}}return d!=0||b!=null&&b.fd&&(d=so(T)),d}var Dr=64,ca=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],gi=24,Ma=32,_=8,r=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ut("Predictor0","PredictorAdd0"),le.Predictor0=function(){return 4278190080},le.Predictor1=function(d){return d},le.Predictor2=function(d,g,b){return g[b+0]},le.Predictor3=function(d,g,b){return g[b+1]},le.Predictor4=function(d,g,b){return g[b-1]},le.Predictor5=function(d,g,b){return dt(dt(d,g[b+1]),g[b+0])},le.Predictor6=function(d,g,b){return dt(d,g[b-1])},le.Predictor7=function(d,g,b){return dt(d,g[b+0])},le.Predictor8=function(d,g,b){return dt(g[b-1],g[b+0])},le.Predictor9=function(d,g,b){return dt(g[b+0],g[b+1])},le.Predictor10=function(d,g,b){return dt(dt(d,g[b-1]),dt(g[b+0],g[b+1]))},le.Predictor11=function(d,g,b){var T=g[b+0];return 0>=si(T>>24&255,d>>24&255,(g=g[b-1])>>24&255)+si(T>>16&255,d>>16&255,g>>16&255)+si(T>>8&255,d>>8&255,g>>8&255)+si(255&T,255&d,255&g)?T:d},le.Predictor12=function(d,g,b){var T=g[b+0];return(Bt((d>>24&255)+(T>>24&255)-((g=g[b-1])>>24&255))<<24|Bt((d>>16&255)+(T>>16&255)-(g>>16&255))<<16|Bt((d>>8&255)+(T>>8&255)-(g>>8&255))<<8|Bt((255&d)+(255&T)-(255&g)))>>>0},le.Predictor13=function(d,g,b){var T=g[b-1];return(Vt((d=dt(d,g[b+0]))>>24&255,T>>24&255)<<24|Vt(d>>16&255,T>>16&255)<<16|Vt(d>>8&255,T>>8&255)<<8|Vt(d>>0&255,T>>0&255))>>>0};var o=le.PredictorAdd0;le.PredictorAdd1=ri,ut("Predictor2","PredictorAdd2"),ut("Predictor3","PredictorAdd3"),ut("Predictor4","PredictorAdd4"),ut("Predictor5","PredictorAdd5"),ut("Predictor6","PredictorAdd6"),ut("Predictor7","PredictorAdd7"),ut("Predictor8","PredictorAdd8"),ut("Predictor9","PredictorAdd9"),ut("Predictor10","PredictorAdd10"),ut("Predictor11","PredictorAdd11"),ut("Predictor12","PredictorAdd12"),ut("Predictor13","PredictorAdd13");var s=le.PredictorAdd2;vi("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),vi("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var c,u=le.ColorIndexInverseTransform,h=le.MapARGB,m=le.VP8LColorIndexInverseTransformAlpha,E=le.MapAlpha,w=le.VP8LPredictorsAdd=[];w.length=16,(le.VP8LPredictors=[]).length=16,(le.VP8LPredictorsAdd_C=[]).length=16,(le.VP8LPredictors_C=[]).length=16;var C,L,V,Q,re,fe,ye,Le,nt,ct,Ve,ni,Jt,cr,Ir,Wn,zi,tn,Yn,Hi,Gi,Xn,ur,hs,Ps,gc,su,pm,gm=l(511),vm=l(2041),Em=l(225),xm=l(767),ym=0,xf=vm,lu=Em,Zo=xm,ua=gm,cu=0,uu=1,wm=2,fu=3,hu=4,yf=5,_m=6,wf=7,_f=8,du=9,bf=10,Ov=[2,3,7],Rv=[3,3,11],bm=[280,256,256,256,40],Pv=[0,1,1,1,0],kv=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Bv=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Fv=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Uv=8,Cf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Sf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],g0=null,jv=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Vv=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Cm=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],qv=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],zv=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Hv=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Gv=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ks=[],La=[],ds=[],Wv=1,Sm=2,Bs=[],fa=[];He("UpsampleRgbLinePair",di,3),He("UpsampleBgrLinePair",En,3),He("UpsampleRgbaLinePair",ao,4),He("UpsampleBgraLinePair",xn,4),He("UpsampleArgbLinePair",Lr,4),He("UpsampleRgba4444LinePair",Cn,2),He("UpsampleRgb565LinePair",Bn,2);var Yv=le.UpsampleRgbLinePair,Xv=le.UpsampleBgrLinePair,Am=le.UpsampleRgbaLinePair,Im=le.UpsampleBgraLinePair,Nm=le.UpsampleArgbLinePair,Tm=le.UpsampleRgba4444LinePair,Qv=le.UpsampleRgb565LinePair,mu=16,pu=1<<mu-1,v0=-227,Af=482,Mm=6,Zv=(256<<Mm)-1,Lm=0,Kv=l(256),Jv=l(256),$v=l(256),eE=l(256),tE=l(Af-v0),iE=l(Af-v0);la("YuvToRgbRow",di,3),la("YuvToBgrRow",En,3),la("YuvToRgbaRow",ao,4),la("YuvToBgraRow",xn,4),la("YuvToArgbRow",Lr,4),la("YuvToRgba4444Row",Cn,2),la("YuvToRgb565Row",Bn,2);var Dm=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],gu=[0,2,8],nE=[8,7,6,4,4,2,2,2,1,1,1,1],rE=1;this.WebPDecodeRGBA=function(d,g,b,T,O){var F=uu,j=new Ts,q=new Lo;j.ba=q,q.S=F,q.width=[q.width],q.height=[q.height];var H=q.width,ee=q.height,de=new ra;if(de==null||d==null)var Ne=2;else e(de!=null),Ne=Ds(d,g,b,de.width,de.height,de.Pd,de.Qd,de.format,null);if(Ne!=0?H=0:(H!=null&&(H[0]=de.width[0]),ee!=null&&(ee[0]=de.height[0]),H=1),H){q.width=q.width[0],q.height=q.height[0],T!=null&&(T[0]=q.width),O!=null&&(O[0]=q.height);e:{if(T=new ja,(O=new Ms).data=d,O.w=g,O.ha=b,O.kd=1,g=[0],e(O!=null),((d=Ds(O.data,O.w,O.ha,null,null,null,g,null,O))==0||d==7)&&g[0]&&(d=4),(g=d)==0){if(e(j!=null),T.data=O.data,T.w=O.w+O.offset,T.ha=O.ha-O.offset,T.put=sr,T.ac=Kn,T.bc=oa,T.ma=j,O.xa){if((d=Oo())==null){j=1;break e}if(function(Te,we){var et=[0],qe=[0],pe=[0];t:for(;;){if(Te==null)return 0;if(we==null)return Te.a=2,0;if(Te.l=we,Te.a=0,Ie(Te.m,we.data,we.w,we.ha),!Ft(Te.m,et,qe,pe)){Te.a=3;break t}if(Te.xb=Sm,we.width=et[0],we.height=qe[0],!aa(et[0],qe[0],1,Te,null))break t;return 1}return e(Te.a!=0),0}(d,T)){if(T=(g=Rs(T.width,T.height,j.Oa,j.ba))==0){t:{T=d;i:for(;;){if(T==null){T=0;break t}if(e(T.s.yc!=null),e(T.s.Ya!=null),e(0<T.s.Wb),e((b=T.l)!=null),e((O=b.ma)!=null),T.xb!=0){if(T.ca=O.ba,T.tb=O.tb,e(T.ca!=null),!Os(O.Oa,b,fu)){T.a=2;break i}if(!os(T,b.width)||b.da)break i;if((b.da||Vi(T.ca.S))&&Ce(),11>T.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),T.ca.f.kb.F!=null&&Ce()),T.Pb&&0<T.s.ua&&T.s.vb.X==null&&!Ht(T.s.vb,T.s.Wa.Xa)){T.a=1;break i}T.xb=0}if(!ro(T,T.V,T.Ba,T.c,T.i,b.o,Ua))break i;O.Dc=T.Ma,T=1;break t}e(T.a!=0),T=0}T=!T}T&&(g=d.a)}else g=d.a}else{if((d=new Pl)==null){j=1;break e}if(d.Fa=O.na,d.P=O.P,d.qc=O.Sa,ac(d,T)){if((g=Rs(T.width,T.height,j.Oa,j.ba))==0){if(d.Aa=0,b=j.Oa,e((O=d)!=null),b!=null){if(0<(H=0>(H=b.Md)?0:100<H?255:255*H/100)){for(ee=de=0;4>ee;++ee)12>(Ne=O.pb[ee]).lc&&(Ne.ia=H*nE[0>Ne.lc?0:Ne.lc]>>3),de|=Ne.ia;de&&(alert("todo:VP8InitRandom"),O.ia=1)}O.Ga=b.Id,100<O.Ga?O.Ga=100:0>O.Ga&&(O.Ga=0)}h0(d,T)||(g=d.a)}}else g=d.a}g==0&&j.Oa!=null&&j.Oa.fd&&(g=so(j.ba))}j=g}F=j!=0?null:11>F?q.f.RGBA.eb:q.f.kb.y}else F=null;return F};var Om=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function x(le,Ge){for(var Ae="",W=0;W<4;W++)Ae+=String.fromCharCode(le[Ge++]);return Ae}function S(le,Ge){return(le[Ge+0]<<0|le[Ge+1]<<8|le[Ge+2]<<16)>>>0}function M(le,Ge){return(le[Ge+0]<<0|le[Ge+1]<<8|le[Ge+2]<<16|le[Ge+3]<<24)>>>0}new v;var k=[0],A=[0],$=[],z=new v,K=t,U=function(le,Ge){var Ae={},W=0,X=!1,G=0,ae=0;if(Ae.frames=[],!function(ie,J,me,ve){for(var Me=0;Me<ve;Me++)if(ie[J+Me]!=me.charCodeAt(Me))return!0;return!1}(le,Ge,"RIFF",4)){var be,Be;for(M(le,Ge+=4),Ge+=8;Ge<le.length;){var ze=x(le,Ge),Ie=M(le,Ge+=4);Ge+=4;var Ze=Ie+(1&Ie);switch(ze){case"VP8 ":case"VP8L":Ae.frames[W]===void 0&&(Ae.frames[W]={}),(B=Ae.frames[W]).src_off=X?ae:Ge-8,B.src_size=G+Ie+8,W++,X&&(X=!1,G=0,ae=0);break;case"VP8X":(B=Ae.header={}).feature_flags=le[Ge];var je=Ge+4;B.canvas_width=1+S(le,je),je+=3,B.canvas_height=1+S(le,je),je+=3;break;case"ALPH":X=!0,G=Ze+8,ae=Ge-8;break;case"ANIM":(B=Ae.header).bgcolor=M(le,Ge),je=Ge+4,B.loop_count=(be=le)[(Be=je)+0]<<0|be[Be+1]<<8,je+=2;break;case"ANMF":var ht,B;(B=Ae.frames[W]={}).offset_x=2*S(le,Ge),Ge+=3,B.offset_y=2*S(le,Ge),Ge+=3,B.width=1+S(le,Ge),Ge+=3,B.height=1+S(le,Ge),Ge+=3,B.duration=S(le,Ge),Ge+=3,ht=le[Ge++],B.dispose=1&ht,B.blend=ht>>1&1}ze!="ANMF"&&(Ge+=Ze)}return Ae}}(K,0);U.response=K,U.rgbaoutput=!0,U.dataurl=!1;var Y=U.header?U.header:null,ge=U.frames?U.frames:null;if(Y){Y.loop_counter=Y.loop_count,k=[Y.canvas_height],A=[Y.canvas_width];for(var xe=0;xe<ge.length&&ge[xe].blend!=0;xe++);}var ce=ge[0],Re=z.WebPDecodeRGBA(K,ce.src_off,ce.src_size,A,k);ce.rgba=Re,ce.imgwidth=A[0],ce.imgheight=k[0];for(var ne=0;ne<A[0]*k[0]*4;ne++)$[ne]=Re[ne];return this.width=A,this.height=k,this.data=$,this}(function(t){var e=function(){return typeof B1=="function"},i=function(k,A,$,z){var K=4,U=f;switch(z){case t.image_compression.FAST:K=1,U=l;break;case t.image_compression.MEDIUM:K=6,U=p;break;case t.image_compression.SLOW:K=9,U=v}k=n(k,A,$,U);var Y=B1(k,{level:K});return t.__addimage__.arrayBufferToBinaryString(Y)},n=function(k,A,$,z){for(var K,U,Y,ge=k.length/A,xe=new Uint8Array(k.length+ge),ce=S(),Re=0;Re<ge;Re+=1){if(Y=Re*A,K=k.subarray(Y,Y+A),z)xe.set(z(K,$,U),Y+Re);else{for(var ne,le=ce.length,Ge=[];ne<le;ne+=1)Ge[ne]=ce[ne](K,$,U);var Ae=M(Ge.concat());xe.set(Ge[Ae],Y+Re)}U=K}return xe},a=function(k){var A=Array.apply([],k);return A.unshift(0),A},l=function(k,A){var $,z=[],K=k.length;z[0]=1;for(var U=0;U<K;U+=1)$=k[U-A]||0,z[U+1]=k[U]-$+256&255;return z},f=function(k,A,$){var z,K=[],U=k.length;K[0]=2;for(var Y=0;Y<U;Y+=1)z=$&&$[Y]||0,K[Y+1]=k[Y]-z+256&255;return K},p=function(k,A,$){var z,K,U=[],Y=k.length;U[0]=3;for(var ge=0;ge<Y;ge+=1)z=k[ge-A]||0,K=$&&$[ge]||0,U[ge+1]=k[ge]+256-(z+K>>>1)&255;return U},v=function(k,A,$){var z,K,U,Y,ge=[],xe=k.length;ge[0]=4;for(var ce=0;ce<xe;ce+=1)z=k[ce-A]||0,K=$&&$[ce]||0,U=$&&$[ce-A]||0,Y=x(z,K,U),ge[ce+1]=k[ce]-Y+256&255;return ge},x=function(k,A,$){if(k===A&&A===$)return k;var z=Math.abs(A-$),K=Math.abs(k-$),U=Math.abs(k+A-$-$);return z<=K&&z<=U?k:K<=U?A:$},S=function(){return[a,l,f,p,v]},M=function(k){var A=k.map(function($){return $.reduce(function(z,K){return z+Math.abs(K)},0)});return A.indexOf(Math.min.apply(null,A))};t.processPNG=function(k,A,$,z){var K,U,Y,ge,xe,ce,Re,ne,le,Ge,Ae,W,X,G,ae,be=this.decode.FLATE_DECODE,Be="";if(this.__addimage__.isArrayBuffer(k)&&(k=new Uint8Array(k)),this.__addimage__.isArrayBufferView(k)){if(k=(Y=new Pb(k)).imgData,U=Y.bits,K=Y.colorSpace,xe=Y.colors,[4,6].indexOf(Y.colorType)!==-1){if(Y.bits===8){le=(ne=Y.pixelBitlength==32?new Uint32Array(Y.decodePixels().buffer):Y.pixelBitlength==16?new Uint16Array(Y.decodePixels().buffer):new Uint8Array(Y.decodePixels().buffer)).length,Ae=new Uint8Array(le*Y.colors),Ge=new Uint8Array(le);var ze,Ie=Y.pixelBitlength-Y.bits;for(G=0,ae=0;G<le;G++){for(X=ne[G],ze=0;ze<Ie;)Ae[ae++]=X>>>ze&255,ze+=Y.bits;Ge[G]=X>>>ze&255}}if(Y.bits===16){le=(ne=new Uint32Array(Y.decodePixels().buffer)).length,Ae=new Uint8Array(le*(32/Y.pixelBitlength)*Y.colors),Ge=new Uint8Array(le*(32/Y.pixelBitlength)),W=Y.colors>1,G=0,ae=0;for(var Ze=0;G<le;)X=ne[G++],Ae[ae++]=X>>>0&255,W&&(Ae[ae++]=X>>>16&255,X=ne[G++],Ae[ae++]=X>>>0&255),Ge[Ze++]=X>>>16&255;U=8}z!==t.image_compression.NONE&&e()?(k=i(Ae,Y.width*Y.colors,Y.colors,z),Re=i(Ge,Y.width,1,z)):(k=Ae,Re=Ge,be=void 0)}if(Y.colorType===3&&(K=this.color_spaces.INDEXED,ce=Y.palette,Y.transparency.indexed)){var je=Y.transparency.indexed,ht=0;for(G=0,le=je.length;G<le;++G)ht+=je[G];if((ht/=255)===le-1&&je.indexOf(0)!==-1)ge=[je.indexOf(0)];else if(ht!==le){for(ne=Y.decodePixels(),Ge=new Uint8Array(ne.length),G=0,le=ne.length;G<le;G++)Ge[G]=je[ne[G]];Re=i(Ge,Y.width,1)}}var B=function(ie){var J;switch(ie){case t.image_compression.FAST:J=11;break;case t.image_compression.MEDIUM:J=13;break;case t.image_compression.SLOW:J=14;break;default:J=12}return J}(z);return be===this.decode.FLATE_DECODE&&(Be="/Predictor "+B+" "),Be+="/Colors "+xe+" /BitsPerComponent "+U+" /Columns "+Y.width,(this.__addimage__.isArrayBuffer(k)||this.__addimage__.isArrayBufferView(k))&&(k=this.__addimage__.arrayBufferToBinaryString(k)),(Re&&this.__addimage__.isArrayBuffer(Re)||this.__addimage__.isArrayBufferView(Re))&&(Re=this.__addimage__.arrayBufferToBinaryString(Re)),{alias:$,data:k,index:A,filter:be,decodeParameters:Be,transparency:ge,palette:ce,sMask:Re,predictor:B,width:Y.width,height:Y.height,bitsPerComponent:U,colorSpace:K}}}})($t.API),function(t){t.processGIF89A=function(e,i,n,a){var l=new kb(e),f=l.width,p=l.height,v=[];l.decodeAndBlitFrameRGBA(0,v);var x={data:v,width:f,height:p},S=new Rh(100).encode(x,100);return t.processJPEG.call(this,S,i,n,a)},t.processGIF87A=t.processGIF89A}($t.API),ka.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:i,quad:l}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ka.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(i){wn.log("bit decode error:"+i)}},ka.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),i=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var l=this.datav.getUint8(this.pos++,!0),f=n*this.width*4+8*a*4,p=0;p<8&&8*a+p<this.width;p++){var v=this.palette[l>>7-p&1];this.data[f+4*p]=v.blue,this.data[f+4*p+1]=v.green,this.data[f+4*p+2]=v.red,this.data[f+4*p+3]=255}i!==0&&(this.pos+=4-i)}},ka.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,a=0;a<t;a++){var l=this.datav.getUint8(this.pos++,!0),f=n*this.width*4+2*a*4,p=l>>4,v=15&l,x=this.palette[p];if(this.data[f]=x.blue,this.data[f+1]=x.green,this.data[f+2]=x.red,this.data[f+3]=255,2*a+1>=this.width)break;x=this.palette[v],this.data[f+4]=x.blue,this.data[f+4+1]=x.green,this.data[f+4+2]=x.red,this.data[f+4+3]=255}e!==0&&(this.pos+=4-e)}},ka.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),l=i*this.width*4+4*n;if(a<this.palette.length){var f=this.palette[a];this.data[l]=f.red,this.data[l+1]=f.green,this.data[l+2]=f.blue,this.data[l+3]=255}else this.data[l]=255,this.data[l+1]=255,this.data[l+2]=255,this.data[l+3]=255}t!==0&&(this.pos+=4-t)}},ka.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,a=0;a<this.width;a++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var f=(l&e)/e*255|0,p=(l>>5&e)/e*255|0,v=(l>>10&e)/e*255|0,x=l>>15?255:0,S=n*this.width*4+4*a;this.data[S]=v,this.data[S+1]=p,this.data[S+2]=f,this.data[S+3]=x}this.pos+=t}},ka.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),i=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,l=0;l<this.width;l++){var f=this.datav.getUint16(this.pos,!0);this.pos+=2;var p=(f&e)/e*255|0,v=(f>>5&i)/i*255|0,x=(f>>11)/e*255|0,S=a*this.width*4+4*l;this.data[S]=x,this.data[S+1]=v,this.data[S+2]=p,this.data[S+3]=255}this.pos+=t}},ka.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),f=e*this.width*4+4*i;this.data[f]=l,this.data[f+1]=a,this.data[f+2]=n,this.data[f+3]=255}this.pos+=this.width%4}},ka.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),f=this.datav.getUint8(this.pos++,!0),p=e*this.width*4+4*i;this.data[p]=l,this.data[p+1]=a,this.data[p+2]=n,this.data[p+3]=f}},ka.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,i,n,a){var l=new ka(e,!1),f=l.width,p=l.height,v={data:l.getData(),width:f,height:p},x=new Rh(100).encode(v,100);return t.processJPEG.call(this,x,i,n,a)}}($t.API),zg.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,i,n,a){var l=new zg(e,!1),f=l.width,p=l.height,v={data:l.getData(),width:f,height:p},x=new Rh(100).encode(v,100);return t.processJPEG.call(this,x,i,n,a)}}($t.API),$t.API.processRGBA=function(t,e,i){for(var n=t.data,a=n.length,l=new Uint8Array(a/4*3),f=new Uint8Array(a/4),p=0,v=0,x=0;x<a;x+=4){var S=n[x],M=n[x+1],k=n[x+2],A=n[x+3];l[p++]=S,l[p++]=M,l[p++]=k,f[v++]=A}var $=this.__addimage__.arrayBufferToBinaryString(l);return{alpha:this.__addimage__.arrayBufferToBinaryString(f),data:$,index:e,alias:i,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},$t.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vc=$t.API,V1=Vc.getCharWidthsArray=function(t,e){var i,n,a=(e=e||{}).font||this.internal.getFont(),l=e.fontSize||this.internal.getFontSize(),f=e.charSpace||this.internal.getCharSpace(),p=e.widths?e.widths:a.metadata.Unicode.widths,v=p.fof?p.fof:1,x=e.kerning?e.kerning:a.metadata.Unicode.kerning,S=x.fof?x.fof:1,M=e.doKerning!==!1,k=0,A=t.length,$=0,z=p[0]||v,K=[];for(i=0;i<A;i++)n=t.charCodeAt(i),typeof a.metadata.widthOfString=="function"?K.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+f*(1e3/l)||0)/1e3):(k=M&&gn(x[n])==="object"&&!isNaN(parseInt(x[n][$],10))?x[n][$]/S:0,K.push((p[n]||z)/v+k)),$=n;return K},Ug=Vc.getStringUnitWidth=function(t,e){var i=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return Vc.processArabic&&(t=Vc.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,i,a)/i:V1.apply(this,arguments).reduce(function(l,f){return l+f},0)},jg=function(t,e,i,n){for(var a=[],l=0,f=t.length,p=0;l!==f&&p+e[l]<i;)p+=e[l],l++;a.push(t.slice(0,l));var v=l;for(p=0;l!==f;)p+e[l]>n&&(a.push(t.slice(v,l)),p=0,v=l),p+=e[l],l++;return v!==l&&a.push(t.slice(v,l)),a},Vg=function(t,e,i){i||(i={});var n,a,l,f,p,v,x,S=[],M=[S],k=i.textIndent||0,A=0,$=0,z=t.split(" "),K=V1.apply(this,[" ",i])[0];if(v=i.lineIndent===-1?z[0].length+2:i.lineIndent||0){var U=Array(v).join(" "),Y=[];z.map(function(xe){(xe=xe.split(/\s*\n/)).length>1?Y=Y.concat(xe.map(function(ce,Re){return(Re&&ce.length?`
`:"")+ce})):Y.push(xe[0])}),z=Y,v=Ug.apply(this,[U,i])}for(l=0,f=z.length;l<f;l++){var ge=0;if(n=z[l],v&&n[0]==`
`&&(n=n.substr(1),ge=1),k+A+($=(a=V1.apply(this,[n,i])).reduce(function(xe,ce){return xe+ce},0))>e||ge){if($>e){for(p=jg.apply(this,[n,a,e-(k+A),e]),S.push(p.shift()),S=[p.pop()];p.length;)M.push([p.shift()]);$=a.slice(n.length-(S[0]?S[0].length:0)).reduce(function(xe,ce){return xe+ce},0)}else S=[n];M.push(S),k=$+v,A=K}else S.push(n),k+=A+$,A=K}return x=v?function(xe,ce){return(ce?U:"")+xe.join(" ")}:function(xe){return xe.join(" ")},M.map(x)},Vc.splitTextToSize=function(t,e,i){var n,a=(i=i||{}).fontSize||this.internal.getFontSize(),l=(function(S){if(S.widths&&S.kerning)return{widths:S.widths,kerning:S.kerning};var M=this.internal.getFont(S.fontName,S.fontStyle);return M.metadata.Unicode?{widths:M.metadata.Unicode.widths||{0:1},kerning:M.metadata.Unicode.kerning||{}}:{font:M.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,i);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var f=1*this.internal.scaleFactor*e/a;l.textIndent=i.textIndent?1*i.textIndent*this.internal.scaleFactor/a:0,l.lineIndent=i.lineIndent;var p,v,x=[];for(p=0,v=n.length;p<v;p++)x=x.concat(Vg.apply(this,[n[p],f,l]));return x},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",i={},n={},a=0;a<e.length;a++)i[e[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=e[a];var l=function(M){return"0x"+parseInt(M,10).toString(16)},f=t.__fontmetrics__.compress=function(M){var k,A,$,z,K=["{"];for(var U in M){if(k=M[U],isNaN(parseInt(U,10))?A="'"+U+"'":(U=parseInt(U,10),A=(A=l(U).slice(2)).slice(0,-1)+n[A.slice(-1)]),typeof k=="number")k<0?($=l(k).slice(3),z="-"):($=l(k).slice(2),z=""),$=z+$.slice(0,-1)+n[$.slice(-1)];else{if(gn(k)!=="object")throw new Error("Don't know what to do with value type "+gn(k)+".");$=f(k)}K.push(A+$)}return K.push("}"),K.join("")},p=t.__fontmetrics__.uncompress=function(M){if(typeof M!="string")throw new Error("Invalid argument passed to uncompress.");for(var k,A,$,z,K={},U=1,Y=K,ge=[],xe="",ce="",Re=M.length-1,ne=1;ne<Re;ne+=1)(z=M[ne])=="'"?k?($=k.join(""),k=void 0):k=[]:k?k.push(z):z=="{"?(ge.push([Y,$]),Y={},$=void 0):z=="}"?((A=ge.pop())[0][A[1]]=Y,$=void 0,Y=A[0]):z=="-"?U=-1:$===void 0?i.hasOwnProperty(z)?(xe+=i[z],$=parseInt(xe,16)*U,U=1,xe=""):xe+=z:i.hasOwnProperty(z)?(ce+=i[z],Y[$]=parseInt(ce,16)*U,U=1,$=void 0,ce=""):ce+=z;return K},v={codePages:["WinAnsiEncoding"],WinAnsiEncoding:p("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},x={Unicode:{Courier:v,"Courier-Bold":v,"Courier-BoldOblique":v,"Courier-Oblique":v,Helvetica:v,"Helvetica-Bold":v,"Helvetica-BoldOblique":v,"Helvetica-Oblique":v,"Times-Roman":v,"Times-Bold":v,"Times-BoldItalic":v,"Times-Italic":v}},S={Unicode:{"Courier-Oblique":p("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":p("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":p("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:p("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":p("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":p("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:p("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:p("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":p("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:p("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":p("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":p("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":p("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":p("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(M){var k=M.font,A=S.Unicode[k.postScriptName];A&&(k.metadata.Unicode={},k.metadata.Unicode.widths=A.widths,k.metadata.Unicode.kerning=A.kerning);var $=x.Unicode[k.postScriptName];$&&(k.metadata.Unicode.encoding=$,k.encoding=$.codePages[0])}])}($t.API),function(t){var e=function(i){for(var n=i.length,a=new Uint8Array(n),l=0;l<n;l++)a[l]=i.charCodeAt(l);return a};t.API.events.push(["addFont",function(i){var n=void 0,a=i.font,l=i.instance;if(!a.isStandardFont){if(l===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=l.existsFileInVFS(a.postScriptName)===!1?l.loadFile(a.postScriptName):l.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(f,p){p=/^\x00\x01\x00\x00/.test(p)?e(p):e(j0(p)),f.metadata=t.API.TTFFont.open(p),f.metadata.Unicode=f.metadata.Unicode||{encoding:{},kerning:{},widths:[]},f.metadata.glyIdsUsed=[0]})(a,n)}}])}($t),function(t){function e(){return(ti.canvg?Promise.resolve(ti.canvg):import("./chunk-JLTSR6XK.js")).catch(function(i){return Promise.reject(new Error("Could not load canvg: "+i))}).then(function(i){return i.default?i.default:i})}$t.API.addSvgAsImage=function(i,n,a,l,f,p,v,x){if(isNaN(n)||isNaN(a))throw wn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(l)||isNaN(f))throw wn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var S=document.createElement("canvas");S.width=l,S.height=f;var M=S.getContext("2d");M.fillStyle="#fff",M.fillRect(0,0,S.width,S.height);var k={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return e().then(function($){return $.fromString(M,i,k)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function($){return $.render(k)}).then(function(){A.addImage(S.toDataURL("image/jpeg",1),n,a,l,f,v,x)})}}(),$t.API.putTotalPages=function(t){var e,i=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),i=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),i=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,i);return this},$t.API.viewerPreferences=function(t,e){var i;t=t||{},e=e||!1;var n,a,l,f={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},p=Object.keys(f),v=[],x=0,S=0,M=0;function k($,z){var K,U=!1;for(K=0;K<$.length;K+=1)$[K]===z&&(U=!0);return U}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(f)),this.internal.viewerpreferences.isSubscribed=!1),i=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var A=p.length;for(M=0;M<A;M+=1)i[p[M]].value=i[p[M]].defaultValue,i[p[M]].explicitSet=!1}if(gn(t)==="object"){for(a in t)if(l=t[a],k(p,a)&&l!==void 0){if(i[a].type==="boolean"&&typeof l=="boolean")i[a].value=l;else if(i[a].type==="name"&&k(i[a].valueSet,l))i[a].value=l;else if(i[a].type==="integer"&&Number.isInteger(l))i[a].value=l;else if(i[a].type==="array"){for(x=0;x<l.length;x+=1)if(n=!0,l[x].length===1&&typeof l[x][0]=="number")v.push(String(l[x]-1));else if(l[x].length>1){for(S=0;S<l[x].length;S+=1)typeof l[x][S]!="number"&&(n=!1);n===!0&&v.push([l[x][0]-1,l[x][1]-1].join(" "))}i[a].value="["+v.join(" ")+"]"}else i[a].value=i[a].defaultValue;i[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var $,z=[];for($ in i)i[$].explicitSet===!0&&(i[$].type==="name"?z.push("/"+$+" /"+i[$].value):z.push("/"+$+" "+i[$].value));z.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+z.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=i,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),l=unescape(encodeURIComponent(n)),f=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),p=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),v=unescape(encodeURIComponent("</x:xmpmeta>")),x=l.length+f.length+p.length+a.length+v.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+x+" >>"),this.internal.write("stream"),this.internal.write(a+l+f+p+v),this.internal.write("endstream"),this.internal.write("endobj")},i=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",i),this.internal.events.subscribe("postPutResources",e)),this}}($t.API),function(t){var e=t.API,i=e.pdfEscape16=function(l,f){for(var p,v=f.metadata.Unicode.widths,x=["","0","00","000","0000"],S=[""],M=0,k=l.length;M<k;++M){if(p=f.metadata.characterToGlyph(l.charCodeAt(M)),f.metadata.glyIdsUsed.push(p),f.metadata.toUnicode[p]=l.charCodeAt(M),v.indexOf(p)==-1&&(v.push(p),v.push([parseInt(f.metadata.widthOfGlyph(p),10)])),p=="0")return S.join("");p=p.toString(16),S.push(x[4-p.length],p)}return S.join("")},n=function(l){var f,p,v,x,S,M,k;for(S=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,v=[],M=0,k=(p=Object.keys(l).sort(function(A,$){return A-$})).length;M<k;M++)f=p[M],v.length>=100&&(S+=`
`+v.length+` beginbfchar
`+v.join(`
`)+`
endbfchar`,v=[]),l[f]!==void 0&&l[f]!==null&&typeof l[f].toString=="function"&&(x=("0000"+l[f].toString(16)).slice(-4),f=("0000"+(+f).toString(16)).slice(-4),v.push("<"+f+"><"+x+">"));return v.length&&(S+=`
`+v.length+` beginbfchar
`+v.join(`
`)+`
endbfchar
`),S+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(l){(function(f){var p=f.font,v=f.out,x=f.newObject,S=f.putStream;if(p.metadata instanceof t.API.TTFFont&&p.encoding==="Identity-H"){for(var M=p.metadata.Unicode.widths,k=p.metadata.subset.encode(p.metadata.glyIdsUsed,1),A="",$=0;$<k.length;$++)A+=String.fromCharCode(k[$]);var z=x();S({data:A,addLength1:!0,objectId:z}),v("endobj");var K=x();S({data:n(p.metadata.toUnicode),addLength1:!0,objectId:K}),v("endobj");var U=x();v("<<"),v("/Type /FontDescriptor"),v("/FontName /"+zc(p.fontName)),v("/FontFile2 "+z+" 0 R"),v("/FontBBox "+t.API.PDFObject.convert(p.metadata.bbox)),v("/Flags "+p.metadata.flags),v("/StemV "+p.metadata.stemV),v("/ItalicAngle "+p.metadata.italicAngle),v("/Ascent "+p.metadata.ascender),v("/Descent "+p.metadata.decender),v("/CapHeight "+p.metadata.capHeight),v(">>"),v("endobj");var Y=x();v("<<"),v("/Type /Font"),v("/BaseFont /"+zc(p.fontName)),v("/FontDescriptor "+U+" 0 R"),v("/W "+t.API.PDFObject.convert(M)),v("/CIDToGIDMap /Identity"),v("/DW 1000"),v("/Subtype /CIDFontType2"),v("/CIDSystemInfo"),v("<<"),v("/Supplement 0"),v("/Registry (Adobe)"),v("/Ordering ("+p.encoding+")"),v(">>"),v(">>"),v("endobj"),p.objectNumber=x(),v("<<"),v("/Type /Font"),v("/Subtype /Type0"),v("/ToUnicode "+K+" 0 R"),v("/BaseFont /"+zc(p.fontName)),v("/Encoding /"+p.encoding),v("/DescendantFonts ["+Y+" 0 R]"),v(">>"),v("endobj"),p.isAlreadyPutted=!0}})(l)}]),e.events.push(["putFont",function(l){(function(f){var p=f.font,v=f.out,x=f.newObject,S=f.putStream;if(p.metadata instanceof t.API.TTFFont&&p.encoding==="WinAnsiEncoding"){for(var M=p.metadata.rawData,k="",A=0;A<M.length;A++)k+=String.fromCharCode(M[A]);var $=x();S({data:k,addLength1:!0,objectId:$}),v("endobj");var z=x();S({data:n(p.metadata.toUnicode),addLength1:!0,objectId:z}),v("endobj");var K=x();v("<<"),v("/Descent "+p.metadata.decender),v("/CapHeight "+p.metadata.capHeight),v("/StemV "+p.metadata.stemV),v("/Type /FontDescriptor"),v("/FontFile2 "+$+" 0 R"),v("/Flags 96"),v("/FontBBox "+t.API.PDFObject.convert(p.metadata.bbox)),v("/FontName /"+zc(p.fontName)),v("/ItalicAngle "+p.metadata.italicAngle),v("/Ascent "+p.metadata.ascender),v(">>"),v("endobj"),p.objectNumber=x();for(var U=0;U<p.metadata.hmtx.widths.length;U++)p.metadata.hmtx.widths[U]=parseInt(p.metadata.hmtx.widths[U]*(1e3/p.metadata.head.unitsPerEm));v("<</Subtype/TrueType/Type/Font/ToUnicode "+z+" 0 R/BaseFont/"+zc(p.fontName)+"/FontDescriptor "+K+" 0 R/Encoding/"+p.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(p.metadata.hmtx.widths)+">>"),v("endobj"),p.isAlreadyPutted=!0}})(l)}]);var a=function(l){var f,p=l.text||"",v=l.x,x=l.y,S=l.options||{},M=l.mutex||{},k=M.pdfEscape,A=M.activeFontKey,$=M.fonts,z=A,K="",U=0,Y="",ge=$[z].encoding;if($[z].encoding!=="Identity-H")return{text:p,x:v,y:x,options:S,mutex:M};for(Y=p,z=A,Array.isArray(p)&&(Y=p[0]),U=0;U<Y.length;U+=1)$[z].metadata.hasOwnProperty("cmap")&&(f=$[z].metadata.cmap.unicode.codeMap[Y[U].charCodeAt(0)]),f||Y[U].charCodeAt(0)<256&&$[z].metadata.hasOwnProperty("Unicode")?K+=Y[U]:K+="";var xe="";return parseInt(z.slice(1))<14||ge==="WinAnsiEncoding"?xe=k(K,z).split("").map(function(ce){return ce.charCodeAt(0).toString(16)}).join(""):ge==="Identity-H"&&(xe=i(K,$[z])),M.isHex=!0,{text:xe,x:v,y:x,options:S,mutex:M}};e.events.push(["postProcessText",function(l){var f=l.text||"",p=[],v={text:f,x:l.x,y:l.y,options:l.options,mutex:l.mutex};if(Array.isArray(f)){var x=0;for(x=0;x<f.length;x+=1)Array.isArray(f[x])&&f[x].length===3?p.push([a(Object.assign({},v,{text:f[x][0]})).text,f[x][1],f[x][2]]):p.push(a(Object.assign({},v,{text:f[x]})).text);l.text=p}else l.text=a(Object.assign({},v,{text:f})).text}])}($t),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(i){return e.call(this),this.internal.vFS[i]!==void 0},t.addFileToVFS=function(i,n){return e.call(this),this.internal.vFS[i]=n,this},t.getFileFromVFS=function(i){return e.call(this),this.internal.vFS[i]!==void 0?this.internal.vFS[i]:null}}($t.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,l,f,p,v,x,S,M=e,k=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],A=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],$={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},z={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},K=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],U=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Y=!1,ge=0;this.__bidiEngine__={};var xe=function(W){var X=W.charCodeAt(),G=X>>8,ae=z[G];return ae!==void 0?M[256*ae+(255&X)]:G===252||G===253?"AL":U.test(G)?"L":G===8?"R":"N"},ce=function(W){for(var X,G=0;G<W.length;G++){if((X=xe(W.charAt(G)))==="L")return!1;if(X==="R")return!0}return!1},Re=function(W,X,G,ae){var be,Be,ze,Ie,Ze=X[ae];switch(Ze){case"L":case"R":Y=!1;break;case"N":case"AN":break;case"EN":Y&&(Ze="AN");break;case"AL":Y=!0,Ze="R";break;case"WS":Ze="N";break;case"CS":ae<1||ae+1>=X.length||(be=G[ae-1])!=="EN"&&be!=="AN"||(Be=X[ae+1])!=="EN"&&Be!=="AN"?Ze="N":Y&&(Be="AN"),Ze=Be===be?Be:"N";break;case"ES":Ze=(be=ae>0?G[ae-1]:"B")==="EN"&&ae+1<X.length&&X[ae+1]==="EN"?"EN":"N";break;case"ET":if(ae>0&&G[ae-1]==="EN"){Ze="EN";break}if(Y){Ze="N";break}for(ze=ae+1,Ie=X.length;ze<Ie&&X[ze]==="ET";)ze++;Ze=ze<Ie&&X[ze]==="EN"?"EN":"N";break;case"NSM":if(f&&!p){for(Ie=X.length,ze=ae+1;ze<Ie&&X[ze]==="NSM";)ze++;if(ze<Ie){var je=W[ae],ht=je>=1425&&je<=2303||je===64286;if(be=X[ze],ht&&(be==="R"||be==="AL")){Ze="R";break}}}Ze=ae<1||(be=X[ae-1])==="B"?"N":G[ae-1];break;case"B":Y=!1,a=!0,Ze=ge;break;case"S":l=!0,Ze="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Y=!1;break;case"BN":Ze="N"}return Ze},ne=function(W,X,G){var ae=W.split("");return G&&le(ae,G,{hiLevel:ge}),ae.reverse(),X&&X.reverse(),ae.join("")},le=function(W,X,G){var ae,be,Be,ze,Ie,Ze=-1,je=W.length,ht=0,B=[],ie=ge?A:k,J=[];for(Y=!1,a=!1,l=!1,be=0;be<je;be++)J[be]=xe(W[be]);for(Be=0;Be<je;Be++){if(Ie=ht,B[Be]=Re(W,J,B,Be),ae=240&(ht=ie[Ie][$[B[Be]]]),ht&=15,X[Be]=ze=ie[ht][5],ae>0)if(ae===16){for(be=Ze;be<Be;be++)X[be]=1;Ze=-1}else Ze=-1;if(ie[ht][6])Ze===-1&&(Ze=Be);else if(Ze>-1){for(be=Ze;be<Be;be++)X[be]=ze;Ze=-1}J[Be]==="B"&&(X[Be]=0),G.hiLevel|=ze}l&&function(me,ve,Me){for(var Pe=0;Pe<Me;Pe++)if(me[Pe]==="S"){ve[Pe]=ge;for(var De=Pe-1;De>=0&&me[De]==="WS";De--)ve[De]=ge}}(J,X,je)},Ge=function(W,X,G,ae,be){if(!(be.hiLevel<W)){if(W===1&&ge===1&&!a)return X.reverse(),void(G&&G.reverse());for(var Be,ze,Ie,Ze,je=X.length,ht=0;ht<je;){if(ae[ht]>=W){for(Ie=ht+1;Ie<je&&ae[Ie]>=W;)Ie++;for(Ze=ht,ze=Ie-1;Ze<ze;Ze++,ze--)Be=X[Ze],X[Ze]=X[ze],X[ze]=Be,G&&(Be=G[Ze],G[Ze]=G[ze],G[ze]=Be);ht=Ie}ht++}}},Ae=function(W,X,G){var ae=W.split(""),be={hiLevel:ge};return G||(G=[]),le(ae,G,be),function(Be,ze,Ie){if(Ie.hiLevel!==0&&S)for(var Ze,je=0;je<Be.length;je++)ze[je]===1&&(Ze=K.indexOf(Be[je]))>=0&&(Be[je]=K[Ze+1])}(ae,G,be),Ge(2,ae,X,G,be),Ge(1,ae,X,G,be),ae.join("")};return this.__bidiEngine__.doBidiReorder=function(W,X,G){if(function(be,Be){if(Be)for(var ze=0;ze<be.length;ze++)Be[ze]=ze;p===void 0&&(p=ce(be)),x===void 0&&(x=ce(be))}(W,X),f||!v||x)if(f&&v&&p^x)ge=p?1:0,W=ne(W,X,G);else if(!f&&v&&x)ge=p?1:0,W=Ae(W,X,G),W=ne(W,X);else if(!f||p||v||x){if(f&&!v&&p^x)W=ne(W,X),p?(ge=0,W=Ae(W,X,G)):(ge=1,W=Ae(W,X,G),W=ne(W,X));else if(f&&p&&!v&&x)ge=1,W=Ae(W,X,G),W=ne(W,X);else if(!f&&!v&&p^x){var ae=S;p?(ge=1,W=Ae(W,X,G),ge=0,S=!1,W=Ae(W,X,G),S=ae):(ge=0,W=Ae(W,X,G),W=ne(W,X),ge=1,S=!1,W=Ae(W,X,G),S=ae,W=ne(W,X))}}else ge=0,W=Ae(W,X,G);else ge=p?1:0,W=Ae(W,X,G);return W},this.__bidiEngine__.setOptions=function(W){W&&(f=W.isInputVisual,v=W.isOutputVisual,p=W.isInputRtl,x=W.isOutputRtl,S=W.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],i=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text,l=(n.x,n.y,n.options||{}),f=(n.mutex,l.lang,[]);if(l.isInputVisual=typeof l.isInputVisual!="boolean"||l.isInputVisual,i.setOptions(l),Object.prototype.toString.call(a)==="[object Array]"){var p=0;for(f=[],p=0;p<a.length;p+=1)Object.prototype.toString.call(a[p])==="[object Array]"?f.push([i.doBidiReorder(a[p][0]),a[p][1],a[p][2]]):f.push([i.doBidiReorder(a[p])]);n.text=f}else n.text=i.doBidiReorder(a);i.setOptions({isInputVisual:!0})}])}($t),$t.API.TTFFont=function(){function t(e){var i;if(this.rawData=e,i=this.contents=new Al(e),this.contents.pos=4,i.readString(4)==="ttcf")throw new Error("TTCF not supported.");i.pos=0,this.parse(),this.subset=new Kb(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Bb(this.contents),this.head=new Ub(this),this.name=new Hb(this),this.cmap=new t3(this),this.toUnicode={},this.hhea=new jb(this),this.maxp=new Gb(this),this.hmtx=new Wb(this),this.post=new qb(this),this.os2=new Vb(this),this.loca=new Zb(this),this.glyf=new Yb(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,i,n,a,l;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var f,p,v,x;for(x=[],f=0,p=(v=this.bbox).length;f<p;f++)e=v[f],x.push(Math.round(e*this.scaleFactor));return x}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(i=a>>16)&&(i=-(1+(65535^i))),this.italicAngle=+(i+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(l=this.familyClass)===1||l===2||l===3||l===4||l===5||l===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var i;return((i=this.cmap.unicode)!=null?i.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var i;return i=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*i},t.prototype.widthOfString=function(e,i,n){var a,l,f,p;for(f=0,l=0,p=(e=""+e).length;0<=p?l<p:l>p;l=0<=p?++l:--l)a=e.charCodeAt(l),f+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/i)||0;return f*(i/1e3)},t.prototype.lineHeight=function(e,i){var n;return i==null&&(i=!1),n=i?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Fa,Al=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var i,n;for(n=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)n[i]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var i,n,a;for(a=[],i=0,n=e.length;0<=n?i<n:i>n;i=0<=n?++i:--i)a.push(this.writeByte(e.charCodeAt(i)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,i,n,a,l,f,p,v;return e=this.readByte(),i=this.readByte(),n=this.readByte(),a=this.readByte(),l=this.readByte(),f=this.readByte(),p=this.readByte(),v=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^i)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^l)+65536*(255^f)+256*(255^p)+(255^v)+1):72057594037927940*e+281474976710656*i+1099511627776*n+4294967296*a+16777216*l+65536*f+256*p+v},t.prototype.writeLongLong=function(e){var i,n;return i=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var i,n;for(i=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)i.push(this.readByte());return i},t.prototype.write=function(e){var i,n,a,l;for(l=[],n=0,a=e.length;n<a;n++)i=e[n],l.push(this.writeByte(i));return l},t}(),Bb=function(){var t;function e(i){var n,a,l;for(this.scalarType=i.readInt(),this.tableCount=i.readShort(),this.searchRange=i.readShort(),this.entrySelector=i.readShort(),this.rangeShift=i.readShort(),this.tables={},a=0,l=this.tableCount;0<=l?a<l:a>l;a=0<=l?++a:--a)n={tag:i.readString(4),checksum:i.readInt(),offset:i.readInt(),length:i.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(i){var n,a,l,f,p,v,x,S,M,k,A,$,z;for(z in A=Object.keys(i).length,v=Math.log(2),M=16*Math.floor(Math.log(A)/v),f=Math.floor(M/v),S=16*A-M,(a=new Al).writeInt(this.scalarType),a.writeShort(A),a.writeShort(M),a.writeShort(f),a.writeShort(S),l=16*A,x=a.pos+l,p=null,$=[],i)for(k=i[z],a.writeString(z),a.writeInt(t(k)),a.writeInt(x),a.writeInt(k.length),$=$.concat(k),z==="head"&&(p=x),x+=k.length;x%4;)$.push(0),x++;return a.write($),n=2981146554-t(a.data),a.pos=p+8,a.writeUInt32(n),a.data},t=function(i){var n,a,l,f;for(i=i3.call(i);i.length%4;)i.push(0);for(l=new Al(i),a=0,n=0,f=i.length;n<f;n=n+=4)a+=l.readUInt32();return 4294967295&a},e}(),Fb={}.hasOwnProperty,ns=function(t,e){for(var i in e)Fb.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Fa=function(){function t(e){var i;this.file=e,i=this.file.directory.tables[this.tag],this.exists=!!i,i&&(this.offset=i.offset,this.length=i.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Ub=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Fa),e.prototype.tag="head",e.prototype.parse=function(i){return i.pos=this.offset,this.version=i.readInt(),this.revision=i.readInt(),this.checkSumAdjustment=i.readInt(),this.magicNumber=i.readInt(),this.flags=i.readShort(),this.unitsPerEm=i.readShort(),this.created=i.readLongLong(),this.modified=i.readLongLong(),this.xMin=i.readShort(),this.yMin=i.readShort(),this.xMax=i.readShort(),this.yMax=i.readShort(),this.macStyle=i.readShort(),this.lowestRecPPEM=i.readShort(),this.fontDirectionHint=i.readShort(),this.indexToLocFormat=i.readShort(),this.glyphDataFormat=i.readShort()},e.prototype.encode=function(i){var n;return(n=new Al).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(i),n.writeShort(this.glyphDataFormat),n.data},e}(),Hg=function(){function t(e,i){var n,a,l,f,p,v,x,S,M,k,A,$,z,K,U,Y,ge;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=i+e.readInt(),M=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(v=0;v<256;++v)this.codeMap[v]=e.readByte();break;case 4:for(A=e.readUInt16(),k=A/2,e.pos+=6,l=function(){var xe,ce;for(ce=[],v=xe=0;0<=k?xe<k:xe>k;v=0<=k?++xe:--xe)ce.push(e.readUInt16());return ce}(),e.pos+=2,z=function(){var xe,ce;for(ce=[],v=xe=0;0<=k?xe<k:xe>k;v=0<=k?++xe:--xe)ce.push(e.readUInt16());return ce}(),x=function(){var xe,ce;for(ce=[],v=xe=0;0<=k?xe<k:xe>k;v=0<=k?++xe:--xe)ce.push(e.readUInt16());return ce}(),S=function(){var xe,ce;for(ce=[],v=xe=0;0<=k?xe<k:xe>k;v=0<=k?++xe:--xe)ce.push(e.readUInt16());return ce}(),a=(this.length-e.pos+this.offset)/2,p=function(){var xe,ce;for(ce=[],v=xe=0;0<=a?xe<a:xe>a;v=0<=a?++xe:--xe)ce.push(e.readUInt16());return ce}(),v=U=0,ge=l.length;U<ge;v=++U)for(K=l[v],n=Y=$=z[v];$<=K?Y<=K:Y>=K;n=$<=K?++Y:--Y)S[v]===0?f=n+x[v]:(f=p[S[v]/2+(n-$)-(k-v)]||0)!==0&&(f+=x[v]),this.codeMap[n]=65535&f}e.pos=M}return t.encode=function(e,i){var n,a,l,f,p,v,x,S,M,k,A,$,z,K,U,Y,ge,xe,ce,Re,ne,le,Ge,Ae,W,X,G,ae,be,Be,ze,Ie,Ze,je,ht,B,ie,J,me,ve,Me,Pe,De,st,Ke,vt;switch(ae=new Al,f=Object.keys(e).sort(function(pt,Ht){return pt-Ht}),i){case"macroman":for(z=0,K=function(){var pt=[];for($=0;$<256;++$)pt.push(0);return pt}(),Y={0:0},l={},be=0,Ze=f.length;be<Ze;be++)Y[De=e[a=f[be]]]==null&&(Y[De]=++z),l[a]={old:e[a],new:Y[e[a]]},K[a]=Y[e[a]];return ae.writeUInt16(1),ae.writeUInt16(0),ae.writeUInt32(12),ae.writeUInt16(0),ae.writeUInt16(262),ae.writeUInt16(0),ae.write(K),{charMap:l,subtable:ae.data,maxGlyphID:z+1};case"unicode":for(X=[],M=[],ge=0,Y={},n={},U=x=null,Be=0,je=f.length;Be<je;Be++)Y[ce=e[a=f[Be]]]==null&&(Y[ce]=++ge),n[a]={old:ce,new:Y[ce]},p=Y[ce]-a,U!=null&&p===x||(U&&M.push(U),X.push(a),x=p),U=a;for(U&&M.push(U),M.push(65535),X.push(65535),Ae=2*(Ge=X.length),le=2*Math.pow(Math.log(Ge)/Math.LN2,2),k=Math.log(le/2)/Math.LN2,ne=2*Ge-le,v=[],Re=[],A=[],$=ze=0,ht=X.length;ze<ht;$=++ze){if(W=X[$],S=M[$],W===65535){v.push(0),Re.push(0);break}if(W-(G=n[W].new)>=32768)for(v.push(0),Re.push(2*(A.length+Ge-$)),a=Ie=W;W<=S?Ie<=S:Ie>=S;a=W<=S?++Ie:--Ie)A.push(n[a].new);else v.push(G-W),Re.push(0)}for(ae.writeUInt16(3),ae.writeUInt16(1),ae.writeUInt32(12),ae.writeUInt16(4),ae.writeUInt16(16+8*Ge+2*A.length),ae.writeUInt16(0),ae.writeUInt16(Ae),ae.writeUInt16(le),ae.writeUInt16(k),ae.writeUInt16(ne),Me=0,B=M.length;Me<B;Me++)a=M[Me],ae.writeUInt16(a);for(ae.writeUInt16(0),Pe=0,ie=X.length;Pe<ie;Pe++)a=X[Pe],ae.writeUInt16(a);for(st=0,J=v.length;st<J;st++)p=v[st],ae.writeUInt16(p);for(Ke=0,me=Re.length;Ke<me;Ke++)xe=Re[Ke],ae.writeUInt16(xe);for(vt=0,ve=A.length;vt<ve;vt++)z=A[vt],ae.writeUInt16(z);return{charMap:n,subtable:ae.data,maxGlyphID:ge+1}}},t}(),t3=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Fa),e.prototype.tag="cmap",e.prototype.parse=function(i){var n,a,l;for(i.pos=this.offset,this.version=i.readUInt16(),l=i.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=l?a<l:a>l;a=0<=l?++a:--a)n=new Hg(i,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(i,n){var a,l;return n==null&&(n="macroman"),a=Hg.encode(i,n),(l=new Al).writeUInt16(0),l.writeUInt16(1),a.table=l.data.concat(a.subtable),a},e}(),jb=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Fa),e.prototype.tag="hhea",e.prototype.parse=function(i){return i.pos=this.offset,this.version=i.readInt(),this.ascender=i.readShort(),this.decender=i.readShort(),this.lineGap=i.readShort(),this.advanceWidthMax=i.readShort(),this.minLeftSideBearing=i.readShort(),this.minRightSideBearing=i.readShort(),this.xMaxExtent=i.readShort(),this.caretSlopeRise=i.readShort(),this.caretSlopeRun=i.readShort(),this.caretOffset=i.readShort(),i.pos+=8,this.metricDataFormat=i.readShort(),this.numberOfMetrics=i.readUInt16()},e}(),Vb=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Fa),e.prototype.tag="OS/2",e.prototype.parse=function(i){if(i.pos=this.offset,this.version=i.readUInt16(),this.averageCharWidth=i.readShort(),this.weightClass=i.readUInt16(),this.widthClass=i.readUInt16(),this.type=i.readShort(),this.ySubscriptXSize=i.readShort(),this.ySubscriptYSize=i.readShort(),this.ySubscriptXOffset=i.readShort(),this.ySubscriptYOffset=i.readShort(),this.ySuperscriptXSize=i.readShort(),this.ySuperscriptYSize=i.readShort(),this.ySuperscriptXOffset=i.readShort(),this.ySuperscriptYOffset=i.readShort(),this.yStrikeoutSize=i.readShort(),this.yStrikeoutPosition=i.readShort(),this.familyClass=i.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(i.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(i.readInt());return a}(),this.vendorID=i.readString(4),this.selection=i.readShort(),this.firstCharIndex=i.readShort(),this.lastCharIndex=i.readShort(),this.version>0&&(this.ascent=i.readShort(),this.descent=i.readShort(),this.lineGap=i.readShort(),this.winAscent=i.readShort(),this.winDescent=i.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(i.readInt());return a}(),this.version>1))return this.xHeight=i.readShort(),this.capHeight=i.readShort(),this.defaultChar=i.readShort(),this.breakChar=i.readShort(),this.maxContext=i.readShort()},e}(),qb=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Fa),e.prototype.tag="post",e.prototype.parse=function(i){var n,a,l;switch(i.pos=this.offset,this.format=i.readInt(),this.italicAngle=i.readInt(),this.underlinePosition=i.readShort(),this.underlineThickness=i.readShort(),this.isFixedPitch=i.readInt(),this.minMemType42=i.readInt(),this.maxMemType42=i.readInt(),this.minMemType1=i.readInt(),this.maxMemType1=i.readInt(),this.format){case 65536:break;case 131072:var f;for(a=i.readUInt16(),this.glyphNameIndex=[],f=0;0<=a?f<a:f>a;f=0<=a?++f:--f)this.glyphNameIndex.push(i.readUInt16());for(this.names=[],l=[];i.pos<this.offset+this.length;)n=i.readByte(),l.push(this.names.push(i.readString(n)));return l;case 151552:return a=i.readUInt16(),this.offsets=i.read(a);case 196608:break;case 262144:return this.map=(function(){var p,v,x;for(x=[],f=p=0,v=this.file.maxp.numGlyphs;0<=v?p<v:p>v;f=0<=v?++p:--p)x.push(i.readUInt32());return x}).call(this)}},e}(),zb=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Hb=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Fa),e.prototype.tag="name",e.prototype.parse=function(i){var n,a,l,f,p,v,x,S,M,k,A;for(i.pos=this.offset,i.readShort(),n=i.readShort(),v=i.readShort(),a=[],f=0;0<=n?f<n:f>n;f=0<=n?++f:--f)a.push({platformID:i.readShort(),encodingID:i.readShort(),languageID:i.readShort(),nameID:i.readShort(),length:i.readShort(),offset:this.offset+v+i.readShort()});for(x={},f=M=0,k=a.length;M<k;f=++M)l=a[f],i.pos=l.offset,S=i.readString(l.length),p=new zb(S,l),x[A=l.nameID]==null&&(x[A]=[]),x[l.nameID].push(p);this.strings=x,this.copyright=x[0],this.fontFamily=x[1],this.fontSubfamily=x[2],this.uniqueSubfamily=x[3],this.fontName=x[4],this.version=x[5];try{this.postscriptName=x[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=x[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=x[7],this.manufacturer=x[8],this.designer=x[9],this.description=x[10],this.vendorUrl=x[11],this.designerUrl=x[12],this.license=x[13],this.licenseUrl=x[14],this.preferredFamily=x[15],this.preferredSubfamily=x[17],this.compatibleFull=x[18],this.sampleText=x[19]},e}(),Gb=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Fa),e.prototype.tag="maxp",e.prototype.parse=function(i){return i.pos=this.offset,this.version=i.readInt(),this.numGlyphs=i.readUInt16(),this.maxPoints=i.readUInt16(),this.maxContours=i.readUInt16(),this.maxCompositePoints=i.readUInt16(),this.maxComponentContours=i.readUInt16(),this.maxZones=i.readUInt16(),this.maxTwilightPoints=i.readUInt16(),this.maxStorage=i.readUInt16(),this.maxFunctionDefs=i.readUInt16(),this.maxInstructionDefs=i.readUInt16(),this.maxStackElements=i.readUInt16(),this.maxSizeOfInstructions=i.readUInt16(),this.maxComponentElements=i.readUInt16(),this.maxComponentDepth=i.readUInt16()},e}(),Wb=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Fa),e.prototype.tag="hmtx",e.prototype.parse=function(i){var n,a,l,f,p,v,x;for(i.pos=this.offset,this.metrics=[],n=0,v=this.file.hhea.numberOfMetrics;0<=v?n<v:n>v;n=0<=v?++n:--n)this.metrics.push({advance:i.readUInt16(),lsb:i.readInt16()});for(l=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var S,M;for(M=[],n=S=0;0<=l?S<l:S>l;n=0<=l?++S:--S)M.push(i.readInt16());return M}(),this.widths=(function(){var S,M,k,A;for(A=[],S=0,M=(k=this.metrics).length;S<M;S++)f=k[S],A.push(f.advance);return A}).call(this),a=this.widths[this.widths.length-1],x=[],n=p=0;0<=l?p<l:p>l;n=0<=l?++p:--p)x.push(this.widths.push(a));return x},e.prototype.forGlyph=function(i){return i in this.metrics?this.metrics[i]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[i-this.metrics.length]}},e}(),i3=[].slice,Yb=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Fa),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(i){var n,a,l,f,p,v,x,S,M,k;return i in this.cache?this.cache[i]:(f=this.file.loca,n=this.file.contents,a=f.indexOf(i),(l=f.lengthOf(i))===0?this.cache[i]=null:(n.pos=this.offset+a,p=(v=new Al(n.read(l))).readShort(),S=v.readShort(),k=v.readShort(),x=v.readShort(),M=v.readShort(),this.cache[i]=p===-1?new Qb(v,S,k,x,M):new Xb(v,p,S,k,x,M),this.cache[i]))},e.prototype.encode=function(i,n,a){var l,f,p,v,x;for(p=[],f=[],v=0,x=n.length;v<x;v++)l=i[n[v]],f.push(p.length),l&&(p=p.concat(l.encode(a)));return f.push(p.length),{table:p,offsets:f}},e}(),Xb=function(){function t(e,i,n,a,l,f){this.raw=e,this.numberOfContours=i,this.xMin=n,this.yMin=a,this.xMax=l,this.yMax=f,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Qb=function(){function t(e,i,n,a,l){var f,p;for(this.raw=e,this.xMin=i,this.yMin=n,this.xMax=a,this.yMax=l,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],f=this.raw;p=f.readShort(),this.glyphOffsets.push(f.pos),this.glyphIDs.push(f.readUInt16()),32&p;)f.pos+=1&p?4:2,128&p?f.pos+=8:64&p?f.pos+=4:8&p&&(f.pos+=2)}return t.prototype.encode=function(){var e,i,n;for(i=new Al(i3.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)i.pos=this.glyphOffsets[e];return i.data},t}(),Zb=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Fa),e.prototype.tag="loca",e.prototype.parse=function(i){var n,a;return i.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var l,f;for(f=[],a=0,l=this.length;a<l;a+=2)f.push(2*i.readUInt16());return f}).call(this):(function(){var l,f;for(f=[],a=0,l=this.length;a<l;a+=4)f.push(i.readUInt32());return f}).call(this)},e.prototype.indexOf=function(i){return this.offsets[i]},e.prototype.lengthOf=function(i){return this.offsets[i+1]-this.offsets[i]},e.prototype.encode=function(i,n){for(var a=new Uint32Array(this.offsets.length),l=0,f=0,p=0;p<a.length;++p)if(a[p]=l,f<n.length&&n[f]==p){++f,a[p]=l;var v=this.offsets[p],x=this.offsets[p+1]-v;x>0&&(l+=x)}for(var S=new Array(4*a.length),M=0;M<a.length;++M)S[4*M+3]=255&a[M],S[4*M+2]=(65280&a[M])>>8,S[4*M+1]=(16711680&a[M])>>16,S[4*M]=(4278190080&a[M])>>24;return S},e}(),Kb=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,i,n,a,l;for(i in a=this.font.cmap.tables[0].codeMap,e={},l=this.subset)n=l[i],e[i]=a[n];return e},t.prototype.glyphsFor=function(e){var i,n,a,l,f,p,v;for(a={},f=0,p=e.length;f<p;f++)a[l=e[f]]=this.font.glyf.glyphFor(l);for(l in i=[],a)(n=a[l])!=null&&n.compound&&i.push.apply(i,n.glyphIDs);if(i.length>0)for(l in v=this.glyphsFor(i))n=v[l],a[l]=n;return a},t.prototype.encode=function(e,i){var n,a,l,f,p,v,x,S,M,k,A,$,z,K,U;for(a in n=t3.encode(this.generateCmap(),"unicode"),f=this.glyphsFor(e),A={0:0},U=n.charMap)A[(v=U[a]).old]=v.new;for($ in k=n.maxGlyphID,f)$ in A||(A[$]=k++);return S=function(Y){var ge,xe;for(ge in xe={},Y)xe[Y[ge]]=ge;return xe}(A),M=Object.keys(S).sort(function(Y,ge){return Y-ge}),z=function(){var Y,ge,xe;for(xe=[],Y=0,ge=M.length;Y<ge;Y++)p=M[Y],xe.push(S[p]);return xe}(),l=this.font.glyf.encode(f,z,A),x=this.font.loca.encode(l.offsets,z),K={cmap:this.font.cmap.raw(),glyf:l.table,loca:x,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(i)},this.font.os2.exists&&(K["OS/2"]=this.font.os2.raw()),this.font.directory.encode(K)},t}();$t.API.PDFObject=function(){var t;function e(){}return t=function(i,n){return(Array(n+1).join("0")+i).slice(-n)},e.convert=function(i){var n,a,l,f;if(Array.isArray(i))return"["+function(){var p,v,x;for(x=[],p=0,v=i.length;p<v;p++)n=i[p],x.push(e.convert(n));return x}().join(" ")+"]";if(typeof i=="string")return"/"+i;if(i?.isString)return"("+i+")";if(i instanceof Date)return"(D:"+t(i.getUTCFullYear(),4)+t(i.getUTCMonth(),2)+t(i.getUTCDate(),2)+t(i.getUTCHours(),2)+t(i.getUTCMinutes(),2)+t(i.getUTCSeconds(),2)+"Z)";if({}.toString.call(i)==="[object Object]"){for(a in l=["<<"],i)f=i[a],l.push("/"+a+" "+e.convert(f));return l.push(">>"),l.join(`
`)}return""+i},e}();var qh=$t;var b5=kf(_5(),1),LI=["bcElement"],C5=(()=>{let e=class e{get options(){return{format:this.format,lineColor:this.lineColor,width:this.width,height:this.height,displayValue:this.displayValue,fontOptions:this.fontOptions,font:this.font,textAlign:this.textAlign,textPosition:this.textPosition,textMargin:this.textMargin,fontSize:this.fontSize,background:this.background,margin:this.margin,marginTop:this.marginTop,marginBottom:this.marginBottom,marginLeft:this.marginLeft,marginRight:this.marginRight,valid:this.valid}}constructor(n){this.renderer=n,this.elementType="svg",this.cssClass="barcode",this.format="CODE128",this.lineColor="#000000",this.width=2,this.height=100,this.displayValue=!1,this.fontOptions="",this.font="monospace",this.textAlign="center",this.textPosition="bottom",this.textMargin=2,this.fontSize=20,this.background="#ffffff",this.margin=10,this.marginTop=10,this.marginBottom=10,this.marginLeft=10,this.marginRight=10,this.value="",this.valid=()=>!0}ngAfterViewInit(){this.createBarcode()}ngOnChanges(){this.bcElement&&this.createBarcode()}createBarcode(){if(!this.value)return;let n;switch(this.elementType){case"img":n=this.renderer.createElement("img");break;case"canvas":n=this.renderer.createElement("canvas");break;case"svg":default:n=this.renderer.createElement("svg","svg")}(0,b5.default)(n,this.value,this.options);for(let a of this.bcElement.nativeElement.childNodes)this.renderer.removeChild(this.bcElement.nativeElement,a);this.renderer.appendChild(this.bcElement.nativeElement,n)}};e.\u0275fac=function(a){return new(a||e)(_0(Lu))},e.\u0275cmp=zt({type:e,selectors:[["ngx-barcode6"]],viewQuery:function(a,l){if(a&1&&Nt(LI,5),a&2){let f;Tt(f=Mt())&&(l.bcElement=f.first)}},inputs:{elementType:[rr.None,"bc-element-type","elementType"],cssClass:[rr.None,"bc-class","cssClass"],format:[rr.None,"bc-format","format"],lineColor:[rr.None,"bc-line-color","lineColor"],width:[rr.None,"bc-width","width"],height:[rr.None,"bc-height","height"],displayValue:[rr.None,"bc-display-value","displayValue"],fontOptions:[rr.None,"bc-font-options","fontOptions"],font:[rr.None,"bc-font","font"],textAlign:[rr.None,"bc-text-align","textAlign"],textPosition:[rr.None,"bc-text-position","textPosition"],textMargin:[rr.None,"bc-text-margin","textMargin"],fontSize:[rr.None,"bc-font-size","fontSize"],background:[rr.None,"bc-background","background"],margin:[rr.None,"bc-margin","margin"],marginTop:[rr.None,"bc-margin-top","marginTop"],marginBottom:[rr.None,"bc-margin-bottom","marginBottom"],marginLeft:[rr.None,"bc-margin-left","marginLeft"],marginRight:[rr.None,"bc-margin-right","marginRight"],value:[rr.None,"bc-value","value"],valid:[rr.None,"bc-valid","valid"]},features:[Tu],decls:2,vars:2,consts:[["bcElement",""]],template:function(a,l){a&1&&he(0,"div",null,0),a&2&&Du(l.cssClass)},encapsulation:2});let t=e;return t})(),S5=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=Ws({type:e}),e.\u0275inj=Gs({});let t=e;return t})();var c0=kf(Iv(),1);var I7=["qrcElement"],Nv=(()=>{let e=class e{constructor(n,a){this.renderer=n,this.sanitizer=a,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new Mu,this.context=null}ngOnChanges(){return wc(this,null,function*(){yield this.createQRCode()})}isValidQrCodeText(n){return this.allowEmptyString===!1?!(typeof n>"u"||n===""||n==="null"||n===null):!(typeof n>"u")}toDataURL(n){return new Promise((a,l)=>{(0,c0.toDataURL)(this.qrdata,n,(f,p)=>{f?l(f):a(p)})})}toCanvas(n,a){return new Promise((l,f)=>{(0,c0.toCanvas)(n,this.qrdata,a,p=>{p?f(p):l("success")})})}toSVG(n){return new Promise((a,l)=>{(0,c0.toString)(this.qrdata,n,(f,p)=>{f?l(f):a(p)})})}renderElement(n){for(let a of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,a);this.renderer.appendChild(this.qrcElement.nativeElement,n)}createQRCode(){return wc(this,null,function*(){this.version&&this.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),this.version=40):this.version&&this.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),this.version=1):this.version!==void 0&&isNaN(this.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),this.version=void 0);try{if(!this.isValidQrCodeText(this.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");this.isValidQrCodeText(this.qrdata)&&this.qrdata===""&&(this.qrdata=" ");let n={color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,version:this.version,width:this.width},a=this.imageSrc,l=this.imageHeight||40,f=this.imageWidth||40;switch(this.elementType){case"canvas":{let p=this.renderer.createElement("canvas");this.context=p.getContext("2d"),this.toCanvas(p,n).then(()=>{if(this.ariaLabel&&this.renderer.setAttribute(p,"aria-label",`${this.ariaLabel}`),this.title&&this.renderer.setAttribute(p,"title",`${this.title}`),a&&this.context){this.centerImage=new Image(f,l),a!==this.centerImage.src&&(this.centerImage.src=a),l!==this.centerImage.height&&(this.centerImage.height=l),f!==this.centerImage.width&&(this.centerImage.width=f);let v=this.centerImage;v&&(v.onload=()=>{this.context?.drawImage(v,p.width/2-f/2,p.height/2-l/2,f,l)})}this.renderElement(p),this.emitQRCodeURL(p)}).catch(v=>{console.error("[angularx-qrcode] canvas error:",v)});break}case"svg":{let p=this.renderer.createElement("div");this.toSVG(n).then(v=>{this.renderer.setProperty(p,"innerHTML",v);let x=p.firstChild;this.renderer.setAttribute(x,"height",`${this.width}`),this.renderer.setAttribute(x,"width",`${this.width}`),this.renderElement(x),this.emitQRCodeURL(x)}).catch(v=>{console.error("[angularx-qrcode] svg error:",v)});break}case"url":case"img":default:{let p=this.renderer.createElement("img");this.toDataURL(n).then(v=>{this.alt&&p.setAttribute("alt",this.alt),this.ariaLabel&&p.setAttribute("aria-label",this.ariaLabel),p.setAttribute("src",v),this.title&&p.setAttribute("title",this.title),this.renderElement(p),this.emitQRCodeURL(p)}).catch(v=>{console.error("[angularx-qrcode] img/url error:",v)})}}}catch(n){console.error("[angularx-qrcode] Error generating QR Code:",n.message)}})}emitQRCodeURL(n){let a=n.constructor.name;if(a===SVGSVGElement.name){let f=n.outerHTML,p=new Blob([f],{type:"image/svg+xml"}),v=URL.createObjectURL(p),x=this.sanitizer.bypassSecurityTrustUrl(v);this.qrCodeURL.emit(x);return}let l="";a===HTMLCanvasElement.name&&(l=n.toDataURL("image/png")),a===HTMLImageElement.name&&(l=n.src),fetch(l).then(f=>f.blob()).then(f=>URL.createObjectURL(f)).then(f=>this.sanitizer.bypassSecurityTrustUrl(f)).then(f=>{this.qrCodeURL.emit(f)}).catch(f=>{console.error("[angularx-qrcode] Error when fetching image/png URL: "+f)})}};e.\u0275fac=function(a){return new(a||e)(_0(Lu),_0(tp))},e.\u0275cmp=zt({type:e,selectors:[["qrcode"]],viewQuery:function(a,l){if(a&1&&Nt(I7,7),a&2){let f;Tt(f=Mt())&&(l.qrcElement=f.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[Tu],decls:2,vars:2,consts:[["qrcElement",""]],template:function(a,l){a&1&&he(0,"div",null,0),a&2&&Du(l.cssClass)},encapsulation:2,changeDetection:0});let t=e;return t})(),Tv=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=Ws({type:e}),e.\u0275inj=Gs({});let t=e;return t})();var T7=["canvasElement"],M7=["downloadElement"];function L7(t,e){t&1&&(I(0,"button",3),D(1,` \u0E44\u0E21\u0E48\u0E1E\u0E1A\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A\u0E1E\u0E34\u0E21\u0E1E\u0E4C
`),N())}function D7(t,e){if(t&1&&(I(0,"h3"),D(1),N()),t&2){let i=We(2);P(),_t("\u0E1B\u0E23\u0E30\u0E21\u0E27\u0E25\u0E1C\u0E25 ",i.percentComplete.toFixed(2),"%")}}function O7(t,e){if(t&1&&he(0,"mat-progress-bar",7),t&2){let i=We(2);se("value",i.percentComplete)}}function R7(t,e){if(t&1){let i=St();I(0,"mat-card")(1,"mat-card-content",5)(2,"button",6),Ye("click",function(){Xe(i);let a=We();return Qe(a.onClickDownload())}),D(3," \u0E14\u0E32\u0E27\u0E19\u0E4C\u0E42\u0E2B\u0E25\u0E14\u0E44\u0E1F\u0E25\u0E4C "),N(),Fe(4,D7,2,1,"h3"),N(),I(5,"mat-card-footer"),Fe(6,O7,1,1,"mat-progress-bar",7),N()()}if(t&2){let i=We();P(2),se("disabled",i.isLoading),P(2),Pt(4,i.isLoading?4:-1),P(2),Pt(6,i.isLoading?6:-1)}}function P7(t,e){if(t&1&&he(0,"qrcode",9,1),t&2){let i=e.$implicit;se("qrdata",i.code)("width",128)}}function k7(t,e){if(t&1&&(yt(0),I(1,"div",8),On(2,P7,2,2,"qrcode",9,Uf),he(4,"a",10,0),N(),wt()),t&2){let i=We();P(2),Rn(i.inventories),P(2),se("download",i.fileName)}}function B7(t,e){if(t&1&&he(0,"ngx-barcode6",11,2),t&2){let i=e.$implicit;se("bc-format","CODE39")("bc-value",i.track)}}function F7(t,e){if(t&1&&(yt(0),I(1,"div",8),On(2,B7,2,2,"ngx-barcode6",11,Uf),he(4,"canvas",null,1)(6,"a",10,0),N(),wt()),t&2){let i=We();P(2),Rn(i.inventories),P(4),se("download",i.fileName)}}var au=function(t){return t[t.QRCode=1]="QRCode",t[t.BarCode=2]="BarCode",t}(au||{}),Mv=(()=>{let e=class e{constructor(){this.route=_e(Xa),this.subscription=new Ri,this.printService=_e(Ka),this.validationService=_e(an),this.print=+this.route.snapshot.params.print,this.percentComplete=0,this.isMissing=!1,this.isLoading=!1,this.isProcess=!1,this.inventories=[]}ngOnInit(){if(this.print!==au.QRCode&&this.print!==au.BarCode){this.isMissing=!0;return}if(this.inventories=this.printService.getInventories(),this.validationService.isEmpty(this.inventories)){this.isMissing=!0;return}this.isLoading=!0,this.isProcess=!0,wr(()=>this.canvasElement?Qn(null):_r(300).pipe(nr(()=>!!this.canvasElement),br(1))).subscribe(()=>{this.print===au.QRCode&&(this.fileName="qrcode.pdf",this.processPrintQRCode()),this.print===au.BarCode&&(this.fileName="barcode.pdf",this.processPrintBarCode())})}ngOnDestroy(){this.isProcess=!1,this.subscription.unsubscribe()}onClickDownload(){this.fileUrl&&(this.downloadElement.nativeElement.href=this.fileUrl,this.downloadElement.nativeElement.click())}processPrintQRCode(){let n=document.querySelectorAll("canvas");for(let ne=0;ne<n.length;ne++)this.inventories[ne].fileUrl=n[ne].toDataURL();let a=new qh("p","px","a4"),l=15,f=10,p=71.292,v=71.292,x=15,S=5,M=15,k=20,A=6,$=3,z=12,K=10,U=this.inventories.reduce((ne,le)=>ne+le.printCount,0),Y=l,ge=f,xe=0,ce=0,Re=0;a.setFontSize(9),this.subscription=Gl(this.inventories).pipe(Wl(ne=>Gl(Array(ne.printCount)).pipe(Wl(()=>Qn(ne).pipe(Bf(K))))),oi(()=>fr(500).pipe(Ff(()=>this.isProcess)).subscribe(()=>{a.save(this.fileName),this.fileUrl=a.output("datauristring"),this.isLoading=!1,this.percentComplete=0,this.printService.resetInventory()}))).subscribe(ne=>{if(Re++,this.percentComplete=Re/U*100,!ne.fileUrl)return;let le=ne.code.substring(0,13),Ge=ne.code.substring(13,ne.code.length);if(a.addImage(ne.fileUrl,Y,ge,p,v),a.text(le,Y+x-5,ge+v+$),a.text(Ge,Y+x-5,ge+v+z),Y+=p+x,Y+p<=a.internal.pageSize.getWidth()&&(a.setLineDashPattern([3,3],0),a.line(Y-x/2,ge+M-S,Y-x/2,ge+v+M),ce++,ce===1)){let Ae=l,W=ge+M+v+k/2;a.setLineDashPattern([3,3],0),a.line(Ae,W,a.internal.pageSize.getWidth()-l,W)}Y+p>a.internal.pageSize.getWidth()&&(Y=l,ge+=v+x+M,xe++,ce=0),xe>=A&&(a.addPage(),Y=l,ge=f,xe=0)})}processPrintBarCode(){return wc(this,null,function*(){let n=document.querySelectorAll("svg");for(let xe=1;xe<n.length;xe++)this.inventories[xe-1].fileUrl=yield this.convertSvgToJpg(n[xe]);let a=new qh("p","px","a4"),l=15,f=15,p=128.82,v=40,x=15,S=20,M=25,k=10,A=10,$=this.inventories.reduce((xe,ce)=>xe+ce.printCount,0),z=l,K=f,U=0,Y=0,ge=0;a.setFontSize(9),this.subscription=Gl(this.inventories).pipe(Wl(xe=>Gl(Array(xe.printCount)).pipe(Wl(()=>Qn(xe).pipe(Bf(A))))),oi(()=>fr(500).pipe(Ff(()=>this.isProcess)).subscribe(()=>{a.save(this.fileName),this.fileUrl=a.output("datauristring"),this.isLoading=!1,this.percentComplete=0,this.printService.resetInventory()}))).subscribe(xe=>{if(ge++,this.percentComplete=ge/$*100,!!xe.fileUrl){if(a.addImage(xe.fileUrl,z,K,p,v),a.text(xe.code,z+x+2,K+v+4),z+=p+x,z+p<=a.internal.pageSize.getWidth()&&(a.setLineDashPattern([3,3],0),a.line(z-x/2,K-S,z-x/2,K+v+x-3),Y++,Y===1)){let ce=l,Re=K+v+M/2;a.setLineDashPattern([3,3],0),a.line(ce,Re,a.internal.pageSize.getWidth()-l,Re)}z+p>a.internal.pageSize.getWidth()&&(z=l,K+=v+S,U++,Y=0),U>=k&&(a.addPage(),z=l,K=f,U=0)}})})}convertSvgToJpg(n){return wc(this,null,function*(){let a=this.canvasElement.nativeElement,l=a.getContext("2d"),f=n.getBoundingClientRect();a.width=f.width,a.height=f.height;try{let p=this.convertSvgToBase64(n),v=yield this.loadImage(p);return l.drawImage(v,0,0),a.toDataURL("image/jpeg")}catch{return null}})}convertSvgToBase64(n){let a=new XMLSerializer().serializeToString(n);return"data:image/svg+xml;base64,"+btoa(a)}loadImage(n){return new Promise((a,l)=>{let f=new Image;f.src=n,f.addEventListener("load",p=>a(f)),f.addEventListener("error",()=>{l(new Error(`Failed to load image's URL: ${n}`))})})}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=zt({type:e,selectors:[["app-print-process"]],viewQuery:function(a,l){if(a&1&&(Nt(T7,5),Nt(M7,5)),a&2){let f;Tt(f=Mt())&&(l.canvasElement=f.first),Tt(f=Mt())&&(l.downloadElement=f.first)}},decls:4,vars:3,consts:[["downloadElement",""],["canvasElement",""],["svgElement",""],["mat-flat-button","","color","warn",1,"w-100"],[4,"ngIf"],[1,"mb-16"],["mat-flat-button","","color","primary",1,"mb-20",3,"click","disabled"],["mode","buffer","color","accent",3,"value"],[1,"d-flex","flex-wrap","gap-10","visibility-hidden"],[3,"qrdata","width"],[3,"download"],[3,"bc-format","bc-value"]],template:function(a,l){a&1&&Fe(0,L7,2,0,"button",3)(1,R7,7,3)(2,k7,6,1,"ng-container",4)(3,F7,8,1,"ng-container",4),a&2&&(Pt(0,l.isMissing?0:1),P(2),se("ngIf",l.print===1),P(),se("ngIf",l.print===2))},dependencies:[da,Pi,ki,Bi,co,Hn,C5,Nv]});let t=e;return t})();var U7=["filterInput"],j7=()=>[10,25,50,100],V7=t=>["/inventory/view",t];function q7(t,e){if(t&1&&(I(0,"mat-option",7),D(1),N()),t&2){let i=e.$implicit;se("value",i),P(),ft(i)}}function z7(t,e){if(t&1){let i=St();I(0,"button",24),Ye("click",function(){Xe(i);let a=We();return Qe(a.selectYear.setValue(""))}),I(1,"mat-icon"),D(2,"close"),N()()}}function H7(t,e){t&1&&he(0,"mat-progress-bar",12)}function G7(t,e){if(t&1&&(I(0,"span",18),D(1),N()),t&2){let i=We();P(),_t(" (+",((i.category.value==null?null:i.category.value.length)||0)-1," \u0E2D\u0E37\u0E48\u0E19 \u0E46 ) ")}}function W7(t,e){if(t&1){let i=St();I(0,"mat-option",25),Ye("click",function(){Xe(i);let a=We();return Qe(a.onFilter())}),D(1),N()}if(t&2){let i=e.$implicit;se("value",i),P(),ft(i)}}function Y7(t,e){if(t&1&&(I(0,"span",18),D(1),N()),t&2){let i=We();P(),_t(" (+",((i.status.value==null?null:i.status.value.length)||0)-1," \u0E2D\u0E37\u0E48\u0E19 \u0E46 ) ")}}function X7(t,e){if(t&1){let i=St();I(0,"mat-option",25),Ye("click",function(){Xe(i);let a=We();return Qe(a.onFilter())}),D(1),N()}if(t&2){let i=e.$implicit;se("value",i),P(),ft(i)}}function Q7(t,e){if(t&1&&(I(0,"span",18),D(1),N()),t&2){let i=We();P(),_t(" (+",((i.usage.value==null?null:i.usage.value.length)||0)-1," \u0E2D\u0E37\u0E48\u0E19 \u0E46 ) ")}}function Z7(t,e){if(t&1){let i=St();I(0,"mat-option",25),Ye("click",function(){Xe(i);let a=We();return Qe(a.onFilter())}),D(1),N()}if(t&2){let i=e.$implicit;se("value",i),P(),ft(i)}}function K7(t,e){t&1&&(I(0,"mat-header-cell",38),D(1,"No."),N())}function J7(t,e){if(t&1&&(I(0,"mat-cell"),D(1),N()),t&2){let i=e.$implicit;P(),_t(" ",i.no," ")}}function $7(t,e){t&1&&(I(0,"mat-header-cell",38),D(1,"\u0E23\u0E39\u0E1B"),N())}function eN(t,e){if(t&1&&(I(0,"mat-cell")(1,"a",39),he(2,"img",40),N()()),t&2){let i=e.$implicit,n=We(2);P(),se("routerLink",Bo(3,V7,i.id)),P(),se("defaultImage","assets/images/no-image.jpg")("lazyLoad",n.imageUrl+i.image)}}function tN(t,e){t&1&&(I(0,"mat-header-cell",38),D(1,"\u0E23\u0E2B\u0E31\u0E2A\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C"),N())}function iN(t,e){if(t&1&&(I(0,"mat-cell"),D(1),N()),t&2){let i=e.$implicit;P(),_t(" ",i.code," ")}}function nN(t,e){t&1&&(I(0,"mat-header-cell",38),D(1,"\u0E1B\u0E35"),N())}function rN(t,e){if(t&1&&(I(0,"mat-cell"),D(1),N()),t&2){let i=e.$implicit;P(),_t(" ",i.year," ")}}function oN(t,e){t&1&&(I(0,"mat-header-cell",38),D(1,"\u0E04\u0E38\u0E13\u0E2A\u0E21\u0E1A\u0E31\u0E15\u0E34"),N())}function aN(t,e){if(t&1&&(I(0,"mat-cell"),D(1),N()),t&2){let i=e.$implicit;P(),_t(" ",i.category," ")}}function sN(t,e){t&1&&(I(0,"mat-header-cell",38),D(1,"\u0E2A\u0E16\u0E32\u0E19\u0E30"),N())}function lN(t,e){if(t&1&&(I(0,"mat-cell"),D(1),N()),t&2){let i=e.$implicit;P(),_t(" ",i.status," ")}}function cN(t,e){t&1&&(I(0,"mat-header-cell",38),D(1,"\u0E01\u0E32\u0E23\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19"),N())}function uN(t,e){if(t&1&&(I(0,"mat-cell"),D(1),N()),t&2){let i=e.$implicit;P(),_t(" ",i.usage," ")}}function fN(t,e){t&1&&(I(0,"mat-header-cell",38),D(1,"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C"),N())}function hN(t,e){if(t&1&&(I(0,"mat-cell"),D(1),hn(2,"cutDetail"),N()),t&2){let i=e.$implicit;P(),_t(" ",Pn(2,1,i.description)," ")}}function dN(t,e){t&1&&he(0,"mat-header-row")}function mN(t,e){t&1&&he(0,"mat-row")}function pN(t,e){if(t&1&&(I(0,"mat-table",22),yt(1,26),Fe(2,K7,2,0,"mat-header-cell",27)(3,J7,2,1,"mat-cell",28),wt(),yt(4,29),Fe(5,$7,2,0,"mat-header-cell",27)(6,eN,3,5,"mat-cell",28),D(7," \u0E23\u0E2B\u0E31\u0E2A\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C "),wt(),yt(8,30),Fe(9,tN,2,0,"mat-header-cell",27)(10,iN,2,1,"mat-cell",28),wt(),yt(11,31),Fe(12,nN,2,0,"mat-header-cell",27)(13,rN,2,1,"mat-cell",28),wt(),yt(14,32),Fe(15,oN,2,0,"mat-header-cell",27)(16,aN,2,1,"mat-cell",28),wt(),yt(17,33),Fe(18,sN,2,0,"mat-header-cell",27)(19,lN,2,1,"mat-cell",28),wt(),yt(20,34),Fe(21,cN,2,0,"mat-header-cell",27)(22,uN,2,1,"mat-cell",28),wt(),yt(23,35),Fe(24,fN,2,0,"mat-header-cell",27)(25,hN,3,3,"mat-cell",28),wt(),Fe(26,dN,1,0,"mat-header-row",36)(27,mN,1,0,"mat-row",37),N()),t&2){let i=We();se("dataSource",i.dataSource),P(26),se("matHeaderRowDef",i.displayedColumns),P(),se("matRowDefColumns",i.displayedColumns)}}function gN(t,e){t&1&&he(0,"app-loading-data",41),t&2&&se("form","list")}var Lv=(()=>{let e=class e{constructor(){this.formBuilder=_e(zn),this.inventoryCheckService=_e(A1),this.inventoryCheckApiService=_e(I1),this.categoryService=_e(Kr),this.assetStatusService=_e(Jr),this.usageStatusService=_e($r),this.validationService=_e(an),this.subscription=new Ri,this.datePipe=_e(Fo),this.imageUrl=Mi.imageUrl,this.filter={categories:this.categoryService.getActiveCategoriesName(),statuses:this.assetStatusService.getActiveStatusNames(),usages:this.usageStatusService.getActiveUsageNames()},this.form=this.initForm(),this.title="\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23 \u0E15\u0E23\u0E27\u0E08\u0E2A\u0E2D\u0E1A\u0E04\u0E23\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C",this.years=[],this.selectYear=new tl(null),this.isLoading=!1,this.displayedColumns=["no","image","code","year","category","status","usage","description"],this.dataSource=new Wr([])}ngOnInit(){this.initDataSource(),this.initSubscriptions()}ngOnDestroy(){this.subscription.unsubscribe()}onSearch(){if(!this.years.includes(this.selectYear.value))return;let a=+this.selectYear.value-543;this.isLoading=!0,this.inventoryCheckApiService.getInChecksByYear(a).pipe(oi(()=>this.isLoading=!1)).subscribe()}setFilter(){this.form.setValue({category:[],status:[],usage:[]})}onFilter(){let n=this.inventoryCheckService.getInChecksTable(),a=this.form.value;this.dataSource.data=Object.keys(a).reduce((l,f)=>l.filter(p=>a[f].length===0?l:a[f].includes(p[f])),n).map((l,f)=>Hl(yi({},l),{no:f+1}))}onResetFilter(){this.filterInput.nativeElement.value="",this.dataSource.filter="",this.setFilter(),this.onFilter()}applyFilter(n){let a=n.target.value;this.dataSource.filter=a.trim().toLowerCase()}get category(){return this.form.controls.category}get status(){return this.form.controls.status}get usage(){return this.form.controls.usage}_filter(n){let a=n.toLowerCase();return this.years.filter(l=>l.toLowerCase().includes(a))}initDataSource(){let n=new Date().getFullYear();for(let a=n;a>=1896;a--)this.years.push((a+543).toString());this.filteredOptions=this.selectYear.valueChanges.pipe(Zm(""),Fn(a=>this._filter(a||""))),this.dataSource.data=this.inventoryCheckService.getInChecksTable(),this.validationService.isEmpty(this.dataSource.data)||this.initPaginatorAndSort()}initForm(){return this.formBuilder.group({category:this.formBuilder.control([]),status:this.formBuilder.control([]),usage:this.formBuilder.control([])})}initPaginatorAndSort(){wr(()=>this.paginator&&this.sort?Qn(null):_r(300).pipe(nr(()=>!!this.paginator&&!!this.sort),br(1))).subscribe(()=>{this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.dataSource.sort.sort({id:"no",start:"desc",disableClear:!0})})}initSubscriptions(){this.subscription.add(this.inventoryCheckService.onInChecksListener().subscribe(()=>{this.dataSource.data=this.inventoryCheckService.getInChecksTable(),this.initPaginatorAndSort()})),this.subscription.add(this.categoryService.onCategoriesListener().subscribe(()=>{this.filter.categories=this.categoryService.getActiveCategoriesName()})),this.subscription.add(this.assetStatusService.onStatusesListener().subscribe(()=>{this.filter.statuses=this.assetStatusService.getActiveStatusNames()})),this.subscription.add(this.usageStatusService.onUsagesListener().subscribe(()=>{this.filter.usages=this.usageStatusService.getActiveUsageNames()}))}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=zt({type:e,selectors:[["app-inventory-check"]],viewQuery:function(a,l){if(a&1&&(Nt(Ni,5),Nt(Ti,5),Nt(U7,5)),a&2){let f;Tt(f=Mt())&&(l.paginator=f.first),Tt(f=Mt())&&(l.sort=f.first),Tt(f=Mt())&&(l.filterInput=f.first)}},decls:65,vars:18,consts:[["auto","matAutocomplete"],["filterInput",""],[1,"mb-20","mat-elevation-z8"],[3,"ngSubmit"],[1,"w-100"],["type","text","matInput","",3,"formControl","matAutocomplete"],["autoActiveFirstOption",""],[3,"value"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["type","submit","matSuffix","","mat-icon-button",""],["matSuffix","","fontIcon","search"],["type","button","mat-raised-button","","color","primary",3,"click","disabled"],["mode","indeterminate"],[1,"mat-elevation-z8"],[1,"mb-16","d-flex","justify-between","align-center"],["type","button","mat-button","","color","warn",3,"click"],[1,"filter-box",3,"formGroup"],["formControlName","category","multiple",""],[1,"additional-selection"],["formControlName","status","multiple",""],["formControlName","usage","multiple",""],["matInput","",3,"keyup"],["matSort","",3,"dataSource"],["showFirstLastButtons","",3,"pageSizeOptions"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"click","value"],["matColumnDef","no"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","image"],["matColumnDef","code"],["matColumnDef","year"],["matColumnDef","category"],["matColumnDef","status"],["matColumnDef","usage"],["matColumnDef","description"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["mat-sort-header",""],[1,"blurred-img",3,"routerLink"],[3,"defaultImage","lazyLoad"],[3,"form"]],template:function(a,l){if(a&1){let f=St();I(0,"mat-card",2)(1,"mat-card-content")(2,"form",3),Ye("ngSubmit",function(){return Xe(f),Qe(l.onSearch())}),I(3,"mat-form-field",4)(4,"mat-label"),D(5,"\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E1B\u0E35"),N(),he(6,"input",5),I(7,"mat-autocomplete",6,0),On(9,q7,2,2,"mat-option",7,or),hn(11,"async"),N(),Fe(12,z7,3,0,"button",8),I(13,"button",9),he(14,"mat-icon",10),N()()()(),I(15,"mat-card-actions")(16,"button",11),Ye("click",function(){return Xe(f),Qe(l.onSearch())}),I(17,"mat-icon"),D(18,"search"),N(),D(19," \u0E04\u0E49\u0E19\u0E2B\u0E32 "),N()(),I(20,"mat-card-footer"),Fe(21,H7,1,0,"mat-progress-bar",12),N()(),I(22,"mat-card",13)(23,"mat-card-header",14)(24,"mat-card-title"),D(25),N(),I(26,"button",15),Ye("click",function(){return Xe(f),Qe(l.onResetFilter())}),D(27," \u0E23\u0E35\u0E40\u0E0B\u0E47\u0E15 "),N()(),I(28,"mat-card-content")(29,"form",16)(30,"mat-form-field")(31,"mat-label"),D(32,"\u0E04\u0E38\u0E13\u0E2A\u0E21\u0E1A\u0E31\u0E15\u0E34"),N(),I(33,"mat-select",17)(34,"mat-select-trigger"),D(35),Fe(36,G7,2,1,"span",18),N(),On(37,W7,2,2,"mat-option",7,or),N()(),I(39,"mat-form-field")(40,"mat-label"),D(41,"\u0E2A\u0E16\u0E32\u0E19\u0E30"),N(),I(42,"mat-select",19)(43,"mat-select-trigger"),D(44),Fe(45,Y7,2,1,"span",18),N(),On(46,X7,2,2,"mat-option",7,or),N()(),I(48,"mat-form-field")(49,"mat-label"),D(50,"\u0E01\u0E32\u0E23\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19"),N(),I(51,"mat-select",20)(52,"mat-select-trigger"),D(53),Fe(54,Q7,2,1,"span",18),N(),On(55,Z7,2,2,"mat-option",7,or),N()(),I(57,"mat-form-field")(58,"mat-label"),D(59,"\u0E01\u0E23\u0E2D\u0E07\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25"),N(),I(60,"input",21,1),Ye("keyup",function(v){return Xe(f),Qe(l.applyFilter(v))}),N()()(),Fe(62,pN,28,3,"mat-table",22)(63,gN,1,1),he(64,"mat-paginator",23),N()()}if(a&2){let f=Xi(8);P(6),se("formControl",l.selectYear)("matAutocomplete",f),P(3),Rn(Pn(11,15,l.filteredOptions)),P(3),se("ngIf",l.selectYear.value),P(4),se("disabled",l.isLoading),P(5),Pt(21,l.isLoading?21:-1),P(4),ft(l.title),P(4),se("formGroup",l.form),P(6),_t(" ",(l.category.value==null?null:l.category.value[0])||""," "),P(),Pt(36,((l.category.value==null?null:l.category.value.length)||0)>1?36:-1),P(),Rn(l.filter.categories),P(7),_t(" ",(l.status.value==null?null:l.status.value[0])||""," "),P(),Pt(45,((l.status.value==null?null:l.status.value.length)||0)>1?45:-1),P(),Rn(l.filter.statuses),P(7),_t(" ",(l.usage.value==null?null:l.usage.value[0])||""," "),P(),Pt(54,((l.usage.value==null?null:l.usage.value.length)||0)>1?54:-1),P(),Rn(l.filter.usages),P(7),Pt(62,l.isLoading?63:62),P(2),se("pageSizeOptions",Cr(17,j7))}},dependencies:[Tr,da,In,qn,nn,An,hp,Nn,Tn,Pi,mn,Ii,ki,lo,Bi,co,on,rn,Ui,Fi,Qi,fo,Hn,kr,Fr,qr,Ur,Br,zr,jr,Vr,Hr,Gr,Ni,Ti,Yr,ul,Mc,$s,bp,Cp,Uo,pn,Nc,Sc,$a],styles:[".search[_ngcontent-%COMP%]{margin:10px 0}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:16px;font-size:16px;line-height:20px;color:#000;box-sizing:border-box;border-bottom:1px solid #ff9800}.dark-theme[_nghost-%COMP%]   .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px 10px;color:#fff;box-sizing:border-box}.mat-column-no[_ngcontent-%COMP%]{flex:0 0 70px}.mat-column-image[_ngcontent-%COMP%]{flex:0 0 120px;padding-block:8px}.mat-column-code[_ngcontent-%COMP%]{flex:0 0 140px}.mat-column-year[_ngcontent-%COMP%]{flex:0 0 100px}.mat-column-category[_ngcontent-%COMP%], .mat-column-status[_ngcontent-%COMP%], .mat-column-usage[_ngcontent-%COMP%]{flex:0 0 120px}.mat-column-description[_ngcontent-%COMP%]{min-width:200px}img[_ngcontent-%COMP%]{width:100%;height:100%}mat-row[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;transition:.2s}.dark-theme[_nghost-%COMP%]   mat-row[_ngcontent-%COMP%]:hover, .dark-theme   [_nghost-%COMP%]   mat-row[_ngcontent-%COMP%]:hover{background-color:#343434}.filter-box[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;gap:10px}.filter-box[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1 1 calc(25% - 10px);min-width:150px}.filter-box[_ngcontent-%COMP%]   .additional-selection[_ngcontent-%COMP%]{opacity:.75;font-size:.75em}@media (max-width: 968px){.filter-box[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1 1 calc(50% - 10px)}}@media (min-width: 599px){.filter-box[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1 1 calc(25% - 10px)}}"]});let t=e;return t})();var vN=[{path:"",component:m2,canActivateChild:[p2],resolve:[rg],children:[{path:"",redirectTo:"scan",pathMatch:"full"},{path:"scan",component:Z2},{path:"inventory",component:mg,children:[{path:"",component:pg},{path:"new",component:gg},{path:"view/:id",component:vg},{path:"edit/:id",component:Eg}]},{path:"print",component:og,children:[{path:"",component:ag},{path:"process/:print",component:Mv}]},{path:"log",component:K2,children:[{path:"",component:sg},{path:"view/:id",component:cg}]},{path:"inventory-check",component:Lv},{path:"profile",component:ig},{path:"password",component:ng},{path:"setting",canActivateChild:[g2],children:[{path:"",redirectTo:"user",pathMatch:"full"},{path:"user",component:J2},{path:"category",component:eg},{path:"status",component:fg},{path:"usage",component:dg}]}]}],Dv=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=Ws({type:e}),e.\u0275inj=Gs({imports:[jf.forChild(vN),jf]});let t=e;return t})();var vV=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=Ws({type:e}),e.\u0275inj=Gs({imports:[Dv,Sp,Np,dp,S5,Tv]});let t=e;return t})();export{vV as DashboardModule};
